/*! catapult-design 2013-11-13 */
(function() {
    var root = this, previousUnderscore = root._, breaker = {}, ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype, push = ArrayProto.push, slice = ArrayProto.slice, concat = ArrayProto.concat, toString = ObjProto.toString, hasOwnProperty = ObjProto.hasOwnProperty, nativeForEach = ArrayProto.forEach, nativeMap = ArrayProto.map, nativeReduce = ArrayProto.reduce, nativeReduceRight = ArrayProto.reduceRight, nativeFilter = ArrayProto.filter, nativeEvery = ArrayProto.every, nativeSome = ArrayProto.some, nativeIndexOf = ArrayProto.indexOf, nativeLastIndexOf = ArrayProto.lastIndexOf, nativeIsArray = Array.isArray, nativeKeys = Object.keys, nativeBind = FuncProto.bind, _ = function(obj) {
        return obj instanceof _ ? obj : this instanceof _ ? (this._wrapped = obj, void 0) : new _(obj);
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = _), 
    exports._ = _) : root._ = _, _.VERSION = "1.5.2";
    var each = _.each = _.forEach = function(obj, iterator, context) {
        if (null != obj) if (nativeForEach && obj.forEach === nativeForEach) obj.forEach(iterator, context); else if (obj.length === +obj.length) {
            for (var i = 0, length = obj.length; length > i; i++) if (iterator.call(context, obj[i], i, obj) === breaker) return;
        } else for (var keys = _.keys(obj), i = 0, length = keys.length; length > i; i++) if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) return;
    };
    _.map = _.collect = function(obj, iterator, context) {
        var results = [];
        return null == obj ? results : nativeMap && obj.map === nativeMap ? obj.map(iterator, context) : (each(obj, function(value, index, list) {
            results.push(iterator.call(context, value, index, list));
        }), results);
    };
    var reduceError = "Reduce of empty array with no initial value";
    _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {
        var initial = arguments.length > 2;
        if (null == obj && (obj = []), nativeReduce && obj.reduce === nativeReduce) return context && (iterator = _.bind(iterator, context)), 
        initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);
        if (each(obj, function(value, index, list) {
            initial ? memo = iterator.call(context, memo, value, index, list) : (memo = value, 
            initial = !0);
        }), !initial) throw new TypeError(reduceError);
        return memo;
    }, _.reduceRight = _.foldr = function(obj, iterator, memo, context) {
        var initial = arguments.length > 2;
        if (null == obj && (obj = []), nativeReduceRight && obj.reduceRight === nativeReduceRight) return context && (iterator = _.bind(iterator, context)), 
        initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);
        var length = obj.length;
        if (length !== +length) {
            var keys = _.keys(obj);
            length = keys.length;
        }
        if (each(obj, function(value, index, list) {
            index = keys ? keys[--length] : --length, initial ? memo = iterator.call(context, memo, obj[index], index, list) : (memo = obj[index], 
            initial = !0);
        }), !initial) throw new TypeError(reduceError);
        return memo;
    }, _.find = _.detect = function(obj, iterator, context) {
        var result;
        return any(obj, function(value, index, list) {
            return iterator.call(context, value, index, list) ? (result = value, !0) : void 0;
        }), result;
    }, _.filter = _.select = function(obj, iterator, context) {
        var results = [];
        return null == obj ? results : nativeFilter && obj.filter === nativeFilter ? obj.filter(iterator, context) : (each(obj, function(value, index, list) {
            iterator.call(context, value, index, list) && results.push(value);
        }), results);
    }, _.reject = function(obj, iterator, context) {
        return _.filter(obj, function(value, index, list) {
            return !iterator.call(context, value, index, list);
        }, context);
    }, _.every = _.all = function(obj, iterator, context) {
        iterator || (iterator = _.identity);
        var result = !0;
        return null == obj ? result : nativeEvery && obj.every === nativeEvery ? obj.every(iterator, context) : (each(obj, function(value, index, list) {
            return (result = result && iterator.call(context, value, index, list)) ? void 0 : breaker;
        }), !!result);
    };
    var any = _.some = _.any = function(obj, iterator, context) {
        iterator || (iterator = _.identity);
        var result = !1;
        return null == obj ? result : nativeSome && obj.some === nativeSome ? obj.some(iterator, context) : (each(obj, function(value, index, list) {
            return result || (result = iterator.call(context, value, index, list)) ? breaker : void 0;
        }), !!result);
    };
    _.contains = _.include = function(obj, target) {
        return null == obj ? !1 : nativeIndexOf && obj.indexOf === nativeIndexOf ? -1 != obj.indexOf(target) : any(obj, function(value) {
            return value === target;
        });
    }, _.invoke = function(obj, method) {
        var args = slice.call(arguments, 2), isFunc = _.isFunction(method);
        return _.map(obj, function(value) {
            return (isFunc ? method : value[method]).apply(value, args);
        });
    }, _.pluck = function(obj, key) {
        return _.map(obj, function(value) {
            return value[key];
        });
    }, _.where = function(obj, attrs, first) {
        return _.isEmpty(attrs) ? first ? void 0 : [] : _[first ? "find" : "filter"](obj, function(value) {
            for (var key in attrs) if (attrs[key] !== value[key]) return !1;
            return !0;
        });
    }, _.findWhere = function(obj, attrs) {
        return _.where(obj, attrs, !0);
    }, _.max = function(obj, iterator, context) {
        if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) return Math.max.apply(Math, obj);
        if (!iterator && _.isEmpty(obj)) return -1/0;
        var result = {
            computed: -1/0,
            value: -1/0
        };
        return each(obj, function(value, index, list) {
            var computed = iterator ? iterator.call(context, value, index, list) : value;
            computed > result.computed && (result = {
                value: value,
                computed: computed
            });
        }), result.value;
    }, _.min = function(obj, iterator, context) {
        if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) return Math.min.apply(Math, obj);
        if (!iterator && _.isEmpty(obj)) return 1/0;
        var result = {
            computed: 1/0,
            value: 1/0
        };
        return each(obj, function(value, index, list) {
            var computed = iterator ? iterator.call(context, value, index, list) : value;
            computed < result.computed && (result = {
                value: value,
                computed: computed
            });
        }), result.value;
    }, _.shuffle = function(obj) {
        var rand, index = 0, shuffled = [];
        return each(obj, function(value) {
            rand = _.random(index++), shuffled[index - 1] = shuffled[rand], shuffled[rand] = value;
        }), shuffled;
    }, _.sample = function(obj, n, guard) {
        return null == n || guard ? (obj.length !== +obj.length && (obj = _.values(obj)), 
        obj[_.random(obj.length - 1)]) : _.shuffle(obj).slice(0, Math.max(0, n));
    };
    var lookupIterator = function(value) {
        return _.isFunction(value) ? value : function(obj) {
            return obj[value];
        };
    };
    _.sortBy = function(obj, value, context) {
        var iterator = lookupIterator(value);
        return _.pluck(_.map(obj, function(value, index, list) {
            return {
                value: value,
                index: index,
                criteria: iterator.call(context, value, index, list)
            };
        }).sort(function(left, right) {
            var a = left.criteria, b = right.criteria;
            if (a !== b) {
                if (a > b || void 0 === a) return 1;
                if (b > a || void 0 === b) return -1;
            }
            return left.index - right.index;
        }), "value");
    };
    var group = function(behavior) {
        return function(obj, value, context) {
            var result = {}, iterator = null == value ? _.identity : lookupIterator(value);
            return each(obj, function(value, index) {
                var key = iterator.call(context, value, index, obj);
                behavior(result, key, value);
            }), result;
        };
    };
    _.groupBy = group(function(result, key, value) {
        (_.has(result, key) ? result[key] : result[key] = []).push(value);
    }), _.indexBy = group(function(result, key, value) {
        result[key] = value;
    }), _.countBy = group(function(result, key) {
        _.has(result, key) ? result[key]++ : result[key] = 1;
    }), _.sortedIndex = function(array, obj, iterator, context) {
        iterator = null == iterator ? _.identity : lookupIterator(iterator);
        for (var value = iterator.call(context, obj), low = 0, high = array.length; high > low; ) {
            var mid = low + high >>> 1;
            iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;
        }
        return low;
    }, _.toArray = function(obj) {
        return obj ? _.isArray(obj) ? slice.call(obj) : obj.length === +obj.length ? _.map(obj, _.identity) : _.values(obj) : [];
    }, _.size = function(obj) {
        return null == obj ? 0 : obj.length === +obj.length ? obj.length : _.keys(obj).length;
    }, _.first = _.head = _.take = function(array, n, guard) {
        return null == array ? void 0 : null == n || guard ? array[0] : slice.call(array, 0, n);
    }, _.initial = function(array, n, guard) {
        return slice.call(array, 0, array.length - (null == n || guard ? 1 : n));
    }, _.last = function(array, n, guard) {
        return null == array ? void 0 : null == n || guard ? array[array.length - 1] : slice.call(array, Math.max(array.length - n, 0));
    }, _.rest = _.tail = _.drop = function(array, n, guard) {
        return slice.call(array, null == n || guard ? 1 : n);
    }, _.compact = function(array) {
        return _.filter(array, _.identity);
    };
    var flatten = function(input, shallow, output) {
        return shallow && _.every(input, _.isArray) ? concat.apply(output, input) : (each(input, function(value) {
            _.isArray(value) || _.isArguments(value) ? shallow ? push.apply(output, value) : flatten(value, shallow, output) : output.push(value);
        }), output);
    };
    _.flatten = function(array, shallow) {
        return flatten(array, shallow, []);
    }, _.without = function(array) {
        return _.difference(array, slice.call(arguments, 1));
    }, _.uniq = _.unique = function(array, isSorted, iterator, context) {
        _.isFunction(isSorted) && (context = iterator, iterator = isSorted, isSorted = !1);
        var initial = iterator ? _.map(array, iterator, context) : array, results = [], seen = [];
        return each(initial, function(value, index) {
            (isSorted ? index && seen[seen.length - 1] === value : _.contains(seen, value)) || (seen.push(value), 
            results.push(array[index]));
        }), results;
    }, _.union = function() {
        return _.uniq(_.flatten(arguments, !0));
    }, _.intersection = function(array) {
        var rest = slice.call(arguments, 1);
        return _.filter(_.uniq(array), function(item) {
            return _.every(rest, function(other) {
                return _.indexOf(other, item) >= 0;
            });
        });
    }, _.difference = function(array) {
        var rest = concat.apply(ArrayProto, slice.call(arguments, 1));
        return _.filter(array, function(value) {
            return !_.contains(rest, value);
        });
    }, _.zip = function() {
        for (var length = _.max(_.pluck(arguments, "length").concat(0)), results = new Array(length), i = 0; length > i; i++) results[i] = _.pluck(arguments, "" + i);
        return results;
    }, _.object = function(list, values) {
        if (null == list) return {};
        for (var result = {}, i = 0, length = list.length; length > i; i++) values ? result[list[i]] = values[i] : result[list[i][0]] = list[i][1];
        return result;
    }, _.indexOf = function(array, item, isSorted) {
        if (null == array) return -1;
        var i = 0, length = array.length;
        if (isSorted) {
            if ("number" != typeof isSorted) return i = _.sortedIndex(array, item), array[i] === item ? i : -1;
            i = 0 > isSorted ? Math.max(0, length + isSorted) : isSorted;
        }
        if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);
        for (;length > i; i++) if (array[i] === item) return i;
        return -1;
    }, _.lastIndexOf = function(array, item, from) {
        if (null == array) return -1;
        var hasIndex = null != from;
        if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);
        for (var i = hasIndex ? from : array.length; i--; ) if (array[i] === item) return i;
        return -1;
    }, _.range = function(start, stop, step) {
        arguments.length <= 1 && (stop = start || 0, start = 0), step = arguments[2] || 1;
        for (var length = Math.max(Math.ceil((stop - start) / step), 0), idx = 0, range = new Array(length); length > idx; ) range[idx++] = start, 
        start += step;
        return range;
    };
    var ctor = function() {};
    _.bind = function(func, context) {
        var args, bound;
        if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
        if (!_.isFunction(func)) throw new TypeError();
        return args = slice.call(arguments, 2), bound = function() {
            if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));
            ctor.prototype = func.prototype;
            var self = new ctor();
            ctor.prototype = null;
            var result = func.apply(self, args.concat(slice.call(arguments)));
            return Object(result) === result ? result : self;
        };
    }, _.partial = function(func) {
        var args = slice.call(arguments, 1);
        return function() {
            return func.apply(this, args.concat(slice.call(arguments)));
        };
    }, _.bindAll = function(obj) {
        var funcs = slice.call(arguments, 1);
        if (0 === funcs.length) throw new Error("bindAll must be passed function names");
        return each(funcs, function(f) {
            obj[f] = _.bind(obj[f], obj);
        }), obj;
    }, _.memoize = function(func, hasher) {
        var memo = {};
        return hasher || (hasher = _.identity), function() {
            var key = hasher.apply(this, arguments);
            return _.has(memo, key) ? memo[key] : memo[key] = func.apply(this, arguments);
        };
    }, _.delay = function(func, wait) {
        var args = slice.call(arguments, 2);
        return setTimeout(function() {
            return func.apply(null, args);
        }, wait);
    }, _.defer = function(func) {
        return _.delay.apply(_, [ func, 1 ].concat(slice.call(arguments, 1)));
    }, _.throttle = function(func, wait, options) {
        var context, args, result, timeout = null, previous = 0;
        options || (options = {});
        var later = function() {
            previous = options.leading === !1 ? 0 : new Date(), timeout = null, result = func.apply(context, args);
        };
        return function() {
            var now = new Date();
            previous || options.leading !== !1 || (previous = now);
            var remaining = wait - (now - previous);
            return context = this, args = arguments, 0 >= remaining ? (clearTimeout(timeout), 
            timeout = null, previous = now, result = func.apply(context, args)) : timeout || options.trailing === !1 || (timeout = setTimeout(later, remaining)), 
            result;
        };
    }, _.debounce = function(func, wait, immediate) {
        var timeout, args, context, timestamp, result;
        return function() {
            context = this, args = arguments, timestamp = new Date();
            var later = function() {
                var last = new Date() - timestamp;
                wait > last ? timeout = setTimeout(later, wait - last) : (timeout = null, immediate || (result = func.apply(context, args)));
            }, callNow = immediate && !timeout;
            return timeout || (timeout = setTimeout(later, wait)), callNow && (result = func.apply(context, args)), 
            result;
        };
    }, _.once = function(func) {
        var memo, ran = !1;
        return function() {
            return ran ? memo : (ran = !0, memo = func.apply(this, arguments), func = null, 
            memo);
        };
    }, _.wrap = function(func, wrapper) {
        return function() {
            var args = [ func ];
            return push.apply(args, arguments), wrapper.apply(this, args);
        };
    }, _.compose = function() {
        var funcs = arguments;
        return function() {
            for (var args = arguments, i = funcs.length - 1; i >= 0; i--) args = [ funcs[i].apply(this, args) ];
            return args[0];
        };
    }, _.after = function(times, func) {
        return function() {
            return --times < 1 ? func.apply(this, arguments) : void 0;
        };
    }, _.keys = nativeKeys || function(obj) {
        if (obj !== Object(obj)) throw new TypeError("Invalid object");
        var keys = [];
        for (var key in obj) _.has(obj, key) && keys.push(key);
        return keys;
    }, _.values = function(obj) {
        for (var keys = _.keys(obj), length = keys.length, values = new Array(length), i = 0; length > i; i++) values[i] = obj[keys[i]];
        return values;
    }, _.pairs = function(obj) {
        for (var keys = _.keys(obj), length = keys.length, pairs = new Array(length), i = 0; length > i; i++) pairs[i] = [ keys[i], obj[keys[i]] ];
        return pairs;
    }, _.invert = function(obj) {
        for (var result = {}, keys = _.keys(obj), i = 0, length = keys.length; length > i; i++) result[obj[keys[i]]] = keys[i];
        return result;
    }, _.functions = _.methods = function(obj) {
        var names = [];
        for (var key in obj) _.isFunction(obj[key]) && names.push(key);
        return names.sort();
    }, _.extend = function(obj) {
        return each(slice.call(arguments, 1), function(source) {
            if (source) for (var prop in source) obj[prop] = source[prop];
        }), obj;
    }, _.pick = function(obj) {
        var copy = {}, keys = concat.apply(ArrayProto, slice.call(arguments, 1));
        return each(keys, function(key) {
            key in obj && (copy[key] = obj[key]);
        }), copy;
    }, _.omit = function(obj) {
        var copy = {}, keys = concat.apply(ArrayProto, slice.call(arguments, 1));
        for (var key in obj) _.contains(keys, key) || (copy[key] = obj[key]);
        return copy;
    }, _.defaults = function(obj) {
        return each(slice.call(arguments, 1), function(source) {
            if (source) for (var prop in source) void 0 === obj[prop] && (obj[prop] = source[prop]);
        }), obj;
    }, _.clone = function(obj) {
        return _.isObject(obj) ? _.isArray(obj) ? obj.slice() : _.extend({}, obj) : obj;
    }, _.tap = function(obj, interceptor) {
        return interceptor(obj), obj;
    };
    var eq = function(a, b, aStack, bStack) {
        if (a === b) return 0 !== a || 1 / a == 1 / b;
        if (null == a || null == b) return a === b;
        a instanceof _ && (a = a._wrapped), b instanceof _ && (b = b._wrapped);
        var className = toString.call(a);
        if (className != toString.call(b)) return !1;
        switch (className) {
          case "[object String]":
            return a == String(b);

          case "[object Number]":
            return a != +a ? b != +b : 0 == a ? 1 / a == 1 / b : a == +b;

          case "[object Date]":
          case "[object Boolean]":
            return +a == +b;

          case "[object RegExp]":
            return a.source == b.source && a.global == b.global && a.multiline == b.multiline && a.ignoreCase == b.ignoreCase;
        }
        if ("object" != typeof a || "object" != typeof b) return !1;
        for (var length = aStack.length; length--; ) if (aStack[length] == a) return bStack[length] == b;
        var aCtor = a.constructor, bCtor = b.constructor;
        if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && _.isFunction(bCtor) && bCtor instanceof bCtor)) return !1;
        aStack.push(a), bStack.push(b);
        var size = 0, result = !0;
        if ("[object Array]" == className) {
            if (size = a.length, result = size == b.length) for (;size-- && (result = eq(a[size], b[size], aStack, bStack)); ) ;
        } else {
            for (var key in a) if (_.has(a, key) && (size++, !(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack)))) break;
            if (result) {
                for (key in b) if (_.has(b, key) && !size--) break;
                result = !size;
            }
        }
        return aStack.pop(), bStack.pop(), result;
    };
    _.isEqual = function(a, b) {
        return eq(a, b, [], []);
    }, _.isEmpty = function(obj) {
        if (null == obj) return !0;
        if (_.isArray(obj) || _.isString(obj)) return 0 === obj.length;
        for (var key in obj) if (_.has(obj, key)) return !1;
        return !0;
    }, _.isElement = function(obj) {
        return !(!obj || 1 !== obj.nodeType);
    }, _.isArray = nativeIsArray || function(obj) {
        return "[object Array]" == toString.call(obj);
    }, _.isObject = function(obj) {
        return obj === Object(obj);
    }, each([ "Arguments", "Function", "String", "Number", "Date", "RegExp" ], function(name) {
        _["is" + name] = function(obj) {
            return toString.call(obj) == "[object " + name + "]";
        };
    }), _.isArguments(arguments) || (_.isArguments = function(obj) {
        return !(!obj || !_.has(obj, "callee"));
    }), "function" != typeof /./ && (_.isFunction = function(obj) {
        return "function" == typeof obj;
    }), _.isFinite = function(obj) {
        return isFinite(obj) && !isNaN(parseFloat(obj));
    }, _.isNaN = function(obj) {
        return _.isNumber(obj) && obj != +obj;
    }, _.isBoolean = function(obj) {
        return obj === !0 || obj === !1 || "[object Boolean]" == toString.call(obj);
    }, _.isNull = function(obj) {
        return null === obj;
    }, _.isUndefined = function(obj) {
        return void 0 === obj;
    }, _.has = function(obj, key) {
        return hasOwnProperty.call(obj, key);
    }, _.noConflict = function() {
        return root._ = previousUnderscore, this;
    }, _.identity = function(value) {
        return value;
    }, _.times = function(n, iterator, context) {
        for (var accum = Array(Math.max(0, n)), i = 0; n > i; i++) accum[i] = iterator.call(context, i);
        return accum;
    }, _.random = function(min, max) {
        return null == max && (max = min, min = 0), min + Math.floor(Math.random() * (max - min + 1));
    };
    var entityMap = {
        escape: {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;"
        }
    };
    entityMap.unescape = _.invert(entityMap.escape);
    var entityRegexes = {
        escape: new RegExp("[" + _.keys(entityMap.escape).join("") + "]", "g"),
        unescape: new RegExp("(" + _.keys(entityMap.unescape).join("|") + ")", "g")
    };
    _.each([ "escape", "unescape" ], function(method) {
        _[method] = function(string) {
            return null == string ? "" : ("" + string).replace(entityRegexes[method], function(match) {
                return entityMap[method][match];
            });
        };
    }), _.result = function(object, property) {
        if (null == object) return void 0;
        var value = object[property];
        return _.isFunction(value) ? value.call(object) : value;
    }, _.mixin = function(obj) {
        each(_.functions(obj), function(name) {
            var func = _[name] = obj[name];
            _.prototype[name] = function() {
                var args = [ this._wrapped ];
                return push.apply(args, arguments), result.call(this, func.apply(_, args));
            };
        });
    };
    var idCounter = 0;
    _.uniqueId = function(prefix) {
        var id = ++idCounter + "";
        return prefix ? prefix + id : id;
    }, _.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var noMatch = /(.)^/, escapes = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "	": "t",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }, escaper = /\\|'|\r|\n|\t|\u2028|\u2029/g;
    _.template = function(text, data, settings) {
        var render;
        settings = _.defaults({}, settings, _.templateSettings);
        var matcher = new RegExp([ (settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source ].join("|") + "|$", "g"), index = 0, source = "__p+='";
        text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
            return source += text.slice(index, offset).replace(escaper, function(match) {
                return "\\" + escapes[match];
            }), escape && (source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'"), 
            interpolate && (source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'"), 
            evaluate && (source += "';\n" + evaluate + "\n__p+='"), index = offset + match.length, 
            match;
        }), source += "';\n", settings.variable || (source = "with(obj||{}){\n" + source + "}\n"), 
        source = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + source + "return __p;\n";
        try {
            render = new Function(settings.variable || "obj", "_", source);
        } catch (e) {
            throw e.source = source, e;
        }
        if (data) return render(data, _);
        var template = function(data) {
            return render.call(this, data, _);
        };
        return template.source = "function(" + (settings.variable || "obj") + "){\n" + source + "}", 
        template;
    }, _.chain = function(obj) {
        return _(obj).chain();
    };
    var result = function(obj) {
        return this._chain ? _(obj).chain() : obj;
    };
    _.mixin(_), each([ "pop", "push", "reverse", "shift", "sort", "splice", "unshift" ], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
            var obj = this._wrapped;
            return method.apply(obj, arguments), "shift" != name && "splice" != name || 0 !== obj.length || delete obj[0], 
            result.call(this, obj);
        };
    }), each([ "concat", "join", "slice" ], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
            return result.call(this, method.apply(this._wrapped, arguments));
        };
    }), _.extend(_.prototype, {
        chain: function() {
            return this._chain = !0, this;
        },
        value: function() {
            return this._wrapped;
        }
    });
}).call(this), function(l) {
    function t(b, f) {
        var c, g, a = this, e = navigator.userAgent.toLowerCase();
        a.uid = l.rsModules.uid++, a.ns = ".rs" + a.uid;
        var d = document.createElement("div").style, j = [ "webkit", "Moz", "ms", "O" ], h = "", k = 0;
        for (c = 0; c < j.length; c++) g = j[c], !h && g + "Transform" in d && (h = g), 
        g = g.toLowerCase(), window.requestAnimationFrame || (window.requestAnimationFrame = window[g + "RequestAnimationFrame"], 
        window.cancelAnimationFrame = window[g + "CancelAnimationFrame"] || window[g + "CancelRequestAnimationFrame"]);
        window.requestAnimationFrame || (window.requestAnimationFrame = function(a) {
            var b = new Date().getTime(), c = Math.max(0, 16 - (b - k)), d = window.setTimeout(function() {
                a(b + c);
            }, c);
            return k = b + c, d;
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(a) {
            clearTimeout(a);
        }), a.isIPAD = e.match(/(ipad)/), j = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || 0 > e.indexOf("compatible") && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [], 
        c = j[1] || "", g = j[2] || "0", j = {}, c && (j[c] = !0, j.version = g), j.chrome && (j.webkit = !0), 
        a._a = j, a.isAndroid = -1 < e.indexOf("android"), a.slider = l(b), a.ev = l(a), 
        a._b = l(document), a.st = l.extend({}, l.fn.royalSlider.defaults, f), a._c = a.st.transitionSpeed, 
        a._d = 0, !a.st.allowCSS3 || j.webkit && !a.st.allowCSS3OnWebkit || (e = h + (h ? "T" : "t"), 
        a._e = e + "ransform" in d && e + "ransition" in d, a._e && (a._f = h + (h ? "P" : "p") + "erspective" in d)), 
        h = h.toLowerCase(), a._g = "-" + h + "-", a._h = "vertical" === a.st.slidesOrientation ? !1 : !0, 
        a._i = a._h ? "left" : "top", a._j = a._h ? "width" : "height", a._k = -1, a._l = "fade" === a.st.transitionType ? !1 : !0, 
        a._l || (a.st.sliderDrag = !1, a._m = 10), a._n = "z-index:0; display:none; opacity:0;", 
        a._o = 0, a._p = 0, a._q = 0, l.each(l.rsModules, function(b, c) {
            "uid" !== b && c.call(a);
        }), a.slides = [], a._r = 0, (a.st.slides ? l(a.st.slides) : a.slider.children().detach()).each(function() {
            a._s(this, !0);
        }), a.st.randomizeSlides && a.slides.sort(function() {
            return .5 - Math.random();
        }), a.numSlides = a.slides.length, a._t(), a.st.startSlideId ? a.st.startSlideId > a.numSlides - 1 && (a.st.startSlideId = a.numSlides - 1) : a.st.startSlideId = 0, 
        a._o = a.staticSlideId = a.currSlideId = a._u = a.st.startSlideId, a.currSlide = a.slides[a.currSlideId], 
        a._v = 0, a.msTouch = !1, a.slider.addClass((a._h ? "rsHor" : "rsVer") + (a._l ? "" : " rsFade")), 
        d = '<div class="rsOverflow"><div class="rsContainer">', a.slidesSpacing = a.st.slidesSpacing, 
        a._w = (a._h ? a.slider.width() : a.slider.height()) + a.st.slidesSpacing, a._x = Boolean(0 < a._y), 
        1 >= a.numSlides && (a._z = !1), a._a1 = a._z && a._l ? 2 === a.numSlides ? 1 : 2 : 0, 
        a._b1 = 6 > a.numSlides ? a.numSlides : 6, a._c1 = 0, a._d1 = 0, a.slidesJQ = [];
        for (c = 0; c < a.numSlides; c++) a.slidesJQ.push(l('<div style="' + (a._l ? "" : c !== a.currSlideId ? a._n : "z-index:0;") + '" class="rsSlide "></div>'));
        a._e1 = d = l(d + "</div></div>"), h = a.ns, a.msEnabled = window.navigator.msPointerEnabled, 
        a.msEnabled ? (a.msTouch = Boolean(1 < window.navigator.msMaxTouchPoints), a.hasTouch = !1, 
        a._n1 = .2, a._j1 = "MSPointerDown" + h, a._k1 = "MSPointerMove" + h, a._l1 = "MSPointerUp" + h, 
        a._m1 = "MSPointerCancel" + h) : (a._j1 = "mousedown" + h, a._k1 = "mousemove" + h, 
        a._l1 = "mouseup" + h, a._m1 = "mouseup" + h, "ontouchstart" in window || "createTouch" in document ? (a.hasTouch = !0, 
        a._j1 += " touchstart" + h, a._k1 += " touchmove" + h, a._l1 += " touchend" + h, 
        a._m1 += " touchcancel" + h, a._n1 = .5, a.st.sliderTouch && (a._f1 = !0)) : (a.hasTouch = !1, 
        a._n1 = .2)), a.st.sliderDrag && (a._f1 = !0, j.msie || j.opera ? a._g1 = a._h1 = "move" : j.mozilla ? (a._g1 = "-moz-grab", 
        a._h1 = "-moz-grabbing") : j.webkit && -1 != navigator.platform.indexOf("Mac") && (a._g1 = "-webkit-grab", 
        a._h1 = "-webkit-grabbing"), a._i1()), a.slider.html(d), a._o1 = a.st.controlsInside ? a._e1 : a.slider, 
        a._p1 = a._e1.children(".rsContainer"), a.msEnabled && a._p1.css("-ms-touch-action", a._h ? "pan-y" : "pan-x"), 
        a._q1 = l('<div class="rsPreloader"></div>'), d = a._p1.children(".rsSlide"), a._r1 = a.slidesJQ[a.currSlideId], 
        a._s1 = 0, a._e ? (a._t1 = "transition-property", a._u1 = "transition-duration", 
        a._v1 = "transition-timing-function", a._w1 = a._x1 = a._g + "transform", a._f ? (j.webkit && !j.chrome && a.slider.addClass("rsWebkit3d"), 
        /iphone|ipad|ipod/gi.test(navigator.appVersion), a._y1 = "translate3d(", a._z1 = "px, ", 
        a._a2 = "px, 0px)") : (a._y1 = "translate(", a._z1 = "px, ", a._a2 = "px)"), a._l ? a._p1[a._g + a._t1] = a._g + "transform" : (h = {}, 
        h[a._g + a._t1] = "opacity", h[a._g + a._u1] = a.st.transitionSpeed + "ms", h[a._g + a._v1] = a.st.css3easeInOut, 
        d.css(h))) : (a._x1 = "left", a._w1 = "top");
        var n;
        l(window).on("resize" + a.ns, function() {
            n && clearTimeout(n), n = setTimeout(function() {
                a.updateSliderSize();
            }, 50);
        }), a.ev.trigger("rsAfterPropsSetup"), a.updateSliderSize(), a.st.keyboardNavEnabled && a._b2(), 
        a.st.arrowsNavHideOnTouch && (a.hasTouch || a.msTouch) && (a.st.arrowsNav = !1), 
        a.st.arrowsNav && (d = a._o1, l('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(d), 
        a._c2 = d.children(".rsArrowLeft").click(function(b) {
            b.preventDefault(), a.prev();
        }), a._d2 = d.children(".rsArrowRight").click(function(b) {
            b.preventDefault(), a.next();
        }), a.st.arrowsNavAutoHide && !a.hasTouch && (a._c2.addClass("rsHidden"), a._d2.addClass("rsHidden"), 
        d.one("mousemove.arrowshover", function() {
            a._c2.removeClass("rsHidden"), a._d2.removeClass("rsHidden");
        }), d.hover(function() {
            a._e2 || (a._c2.removeClass("rsHidden"), a._d2.removeClass("rsHidden"));
        }, function() {
            a._e2 || (a._c2.addClass("rsHidden"), a._d2.addClass("rsHidden"));
        })), a.ev.on("rsOnUpdateNav", function() {
            a._f2();
        }), a._f2()), a._f1 ? a._p1.on(a._j1, function(b) {
            a._g2(b);
        }) : a.dragSuccess = !1;
        var m = [ "rsPlayBtnIcon", "rsPlayBtn", "rsCloseVideoBtn", "rsCloseVideoIcn" ];
        a._p1.click(function(b) {
            if (!a.dragSuccess) {
                var c = l(b.target).attr("class");
                if (-1 !== l.inArray(c, m) && a.toggleVideo()) return !1;
                if (a.st.navigateByClick && !a._h2) {
                    if (l(b.target).closest(".rsNoDrag", a._r1).length) return !0;
                    a._i2(b);
                }
                a.ev.trigger("rsSlideClick");
            }
        }).on("click.rs", "a", function() {
            return a.dragSuccess ? !1 : (a._h2 = !0, setTimeout(function() {
                a._h2 = !1;
            }, 3), void 0);
        }), a.ev.trigger("rsAfterInit");
    }
    l.rsModules || (l.rsModules = {
        uid: 0
    }), t.prototype = {
        constructor: t,
        _i2: function(b) {
            b = b[this._h ? "pageX" : "pageY"] - this._j2, b >= this._q ? this.next() : 0 > b && this.prev();
        },
        _t: function() {
            var b;
            b = this.st.numImagesToPreload, (this._z = this.st.loop) && (2 === this.numSlides ? (this._z = !1, 
            this.st.loopRewind = !0) : 2 > this.numSlides && (this.st.loopRewind = this._z = !1)), 
            this._z && b > 0 && (4 >= this.numSlides ? b = 1 : this.st.numImagesToPreload > (this.numSlides - 1) / 2 && (b = Math.floor((this.numSlides - 1) / 2))), 
            this._y = b;
        },
        _s: function(b, f) {
            function c(a, b) {
                if (b ? e.images.push(a.attr(b)) : e.images.push(a.text()), j) {
                    j = !1, e.caption = "src" === b ? a.attr("alt") : a.contents(), e.image = e.images[0], 
                    e.videoURL = a.attr("data-rsVideo");
                    var c = a.attr("data-rsw"), d = a.attr("data-rsh");
                    "undefined" != typeof c && !1 !== c && "undefined" != typeof d && !1 !== d ? (e.iW = parseInt(c, 10), 
                    e.iH = parseInt(d, 10)) : g.st.imgWidth && g.st.imgHeight && (e.iW = g.st.imgWidth, 
                    e.iH = g.st.imgHeight);
                }
            }
            var a, d, g = this, e = {}, j = !0;
            return b = l(b), g._k2 = b, g.ev.trigger("rsBeforeParseNode", [ b, e ]), e.stopParsing ? void 0 : (b = g._k2, 
            e.id = g._r, e.contentAdded = !1, g._r++, e.images = [], e.isBig = !1, e.hasCover || (b.hasClass("rsImg") ? (d = b, 
            a = !0) : (d = b.find(".rsImg"), d.length && (a = !0)), a ? (e.bigImage = d.eq(0).attr("data-rsBigImg"), 
            d.each(function() {
                var a = l(this);
                a.is("a") ? c(a, "href") : a.is("img") ? c(a, "src") : c(a);
            })) : b.is("img") && (b.addClass("rsImg rsMainSlideImage"), c(b, "src"))), d = b.find(".rsCaption"), 
            d.length && (e.caption = d.remove()), e.content = b, g.ev.trigger("rsAfterParseNode", [ b, e ]), 
            f && g.slides.push(e), 0 === e.images.length && (e.isLoaded = !0, e.isRendered = !1, 
            e.isLoading = !1, e.images = null), e);
        },
        _b2: function() {
            var f, c, b = this, g = function(a) {
                37 === a ? b.prev() : 39 === a && b.next();
            };
            b._b.on("keydown" + b.ns, function(a) {
                b._l2 || (c = a.keyCode, 37 !== c && 39 !== c || f) || (g(c), f = setInterval(function() {
                    g(c);
                }, 700));
            }).on("keyup" + b.ns, function() {
                f && (clearInterval(f), f = null);
            });
        },
        goTo: function(b, f) {
            b !== this.currSlideId && this._m2(b, this.st.transitionSpeed, !0, !f);
        },
        destroy: function(b) {
            this.ev.trigger("rsBeforeDestroy"), this._b.off("keydown" + this.ns + " keyup" + this.ns + " " + this._k1 + " " + this._l1), 
            this._p1.off(this._j1 + " click"), this.slider.data("royalSlider", null), l.removeData(this.slider, "royalSlider"), 
            l(window).off("resize" + this.ns), b && this.slider.remove(), this.ev = this.slider = this.slides = null;
        },
        _n2: function(b, f) {
            function c(c, e, f) {
                c.isAdded ? (g(e, c), a(e, c)) : (f || (f = d.slidesJQ[e]), c.holder ? f = c.holder : (f = d.slidesJQ[e] = l(f), 
                c.holder = f), c.appendOnLoaded = !1, a(e, c, f), g(e, c), d._p2(c, f, b), c.isAdded = !0);
            }
            function g(a, c) {
                c.contentAdded || (d.setItemHtml(c, b), b || (c.contentAdded = !0));
            }
            function a(a, b, c) {
                d._l && (c || (c = d.slidesJQ[a]), c.css(d._i, (a + d._d1 + p) * d._w));
            }
            function e(a) {
                if (k) {
                    if (a > n - 1) return e(a - n);
                    if (0 > a) return e(n + a);
                }
                return a;
            }
            var j, h, d = this, k = d._z, n = d.numSlides;
            if (!isNaN(f)) return e(f);
            var p, s, m = d.currSlideId, q = b ? Math.abs(d._o2 - d.currSlideId) >= d.numSlides - 1 ? 0 : 1 : d._y, r = Math.min(2, q), u = !1, t = !1;
            for (h = m; m + 1 + r > h; h++) if (s = e(h), (j = d.slides[s]) && (!j.isAdded || !j.positionSet)) {
                u = !0;
                break;
            }
            for (h = m - 1; h > m - 1 - r; h--) if (s = e(h), (j = d.slides[s]) && (!j.isAdded || !j.positionSet)) {
                t = !0;
                break;
            }
            if (u) for (h = m; m + q + 1 > h; h++) s = e(h), p = Math.floor((d._u - (m - h)) / d.numSlides) * d.numSlides, 
            (j = d.slides[s]) && c(j, s);
            if (t) for (h = m - 1; h > m - 1 - q; h--) s = e(h), p = Math.floor((d._u - (m - h)) / n) * n, 
            (j = d.slides[s]) && c(j, s);
            if (!b) for (r = e(m - q), m = e(m + q), q = r > m ? 0 : r, h = 0; n > h; h++) r > m && h > r - 1 || !(q > h || h > m) || (j = d.slides[h]) && j.holder && (j.holder.detach(), 
            j.isAdded = !1);
        },
        setItemHtml: function(b, f) {
            var c = this, g = function() {
                if (b.images) {
                    if (!b.isLoading) {
                        var e, f;
                        if (b.content.hasClass("rsImg") ? (e = b.content, f = !0) : e = b.content.find(".rsImg:not(img)"), 
                        e && !e.is("img") && e.each(function() {
                            var a = l(this), c = '<img class="rsImg" src="' + (a.is("a") ? a.attr("href") : a.text()) + '" />';
                            f ? b.content = l(c) : a.replaceWith(c);
                        }), e = f ? b.content : b.content.find("img.rsImg"), h(), e.eq(0).addClass("rsMainSlideImage"), 
                        b.iW && b.iH && (b.isLoaded || c._q2(b), d()), b.isLoading = !0, b.isBig) l("<img />").on("load.rs error.rs", function() {
                            l(this).off("load.rs error.rs"), a([ this ], !0);
                        }).attr("src", b.image); else {
                            b.loaded = [], b.numStartedLoad = 0, e = function() {
                                l(this).off("load.rs error.rs"), b.loaded.push(this), b.loaded.length === b.numStartedLoad && a(b.loaded, !1);
                            };
                            for (var g = 0; g < b.images.length; g++) {
                                var j = l("<img />");
                                b.numStartedLoad++, j.on("load.rs error.rs", e).attr("src", b.images[g]);
                            }
                        }
                    }
                } else b.isRendered = !0, b.isLoaded = !0, b.isLoading = !1, d(!0);
            }, a = function(a, c) {
                if (a.length) {
                    var d = a[0];
                    if (c !== b.isBig) (d = b.holder.children()) && 1 < d.length && k(); else if (b.iW && b.iH) e(); else if (b.iW = d.width, 
                    b.iH = d.height, b.iW && b.iH) e(); else {
                        var f = new Image();
                        f.onload = function() {
                            f.width ? (b.iW = f.width, b.iH = f.height, e()) : setTimeout(function() {
                                f.width && (b.iW = f.width, b.iH = f.height), e();
                            }, 1e3);
                        }, f.src = d.src;
                    }
                } else e();
            }, e = function() {
                b.isLoaded = !0, b.isLoading = !1, d(), k(), j();
            }, d = function() {
                if (!b.isAppended && c.ev) {
                    var a = c.st.visibleNearby, d = b.id - c._o;
                    f || b.appendOnLoaded || !c.st.fadeinLoadedSlide || 0 !== d && (!(a || c._r2 || c._l2) || -1 !== d && 1 !== d) || (a = {
                        visibility: "visible",
                        opacity: 0
                    }, a[c._g + "transition"] = "opacity 400ms ease-in-out", b.content.css(a), setTimeout(function() {
                        b.content.css("opacity", 1);
                    }, 16)), b.holder.find(".rsPreloader").length ? b.holder.append(b.content) : b.holder.html(b.content), 
                    b.isAppended = !0, b.isLoaded && (c._q2(b), j()), b.sizeReady || (b.sizeReady = !0, 
                    setTimeout(function() {
                        c.ev.trigger("rsMaybeSizeReady", b);
                    }, 100));
                }
            }, j = function() {
                !b.loadedTriggered && c.ev && (b.isLoaded = b.loadedTriggered = !0, b.holder.trigger("rsAfterContentSet"), 
                c.ev.trigger("rsAfterContentSet", b));
            }, h = function() {
                c.st.usePreloader && b.holder.html(c._q1.clone());
            }, k = function() {
                if (c.st.usePreloader) {
                    var a = b.holder.find(".rsPreloader");
                    a.length && a.remove();
                }
            };
            b.isLoaded ? d() : f ? !c._l && b.images && b.iW && b.iH ? g() : (b.holder.isWaiting = !0, 
            h(), b.holder.slideId = -99) : g();
        },
        _p2: function(b) {
            this._p1.append(b.holder), b.appendOnLoaded = !1;
        },
        _g2: function(b, f) {
            var g, c = this, a = "touchstart" === b.type;
            if (c._s2 = a, c.ev.trigger("rsDragStart"), l(b.target).closest(".rsNoDrag", c._r1).length) return c.dragSuccess = !1, 
            !0;
            if (!f && c._r2 && (c._t2 = !0, c._u2()), c.dragSuccess = !1, c._l2) a && (c._v2 = !0); else {
                if (a && (c._v2 = !1), c._w2(), a) {
                    var e = b.originalEvent.touches;
                    if (!(e && 0 < e.length)) return;
                    g = e[0], 1 < e.length && (c._v2 = !0);
                } else b.preventDefault(), g = b, c.msEnabled && (g = g.originalEvent);
                c._l2 = !0, c._b.on(c._k1, function(a) {
                    c._x2(a, f);
                }).on(c._l1, function(a) {
                    c._y2(a, f);
                }), c._z2 = "", c._a3 = !1, c._b3 = g.pageX, c._c3 = g.pageY, c._d3 = c._v = (f ? c._e3 : c._h) ? g.pageX : g.pageY, 
                c._f3 = 0, c._g3 = 0, c._h3 = f ? c._i3 : c._p, c._j3 = new Date().getTime(), a && c._e1.on(c._m1, function(a) {
                    c._y2(a, f);
                });
            }
        },
        _k3: function(b, f) {
            if (this._l3) {
                var c = this._m3, g = b.pageX - this._b3, a = b.pageY - this._c3, e = this._h3 + g, d = this._h3 + a, j = f ? this._e3 : this._h, e = j ? e : d, d = this._z2;
                this._a3 = !0, this._b3 = b.pageX, this._c3 = b.pageY, "x" === d && 0 !== g ? this._f3 = g > 0 ? 1 : -1 : "y" === d && 0 !== a && (this._g3 = a > 0 ? 1 : -1), 
                d = j ? this._b3 : this._c3, g = j ? g : a, f ? e > this._n3 ? e = this._h3 + g * this._n1 : e < this._o3 && (e = this._h3 + g * this._n1) : this._z || (0 >= this.currSlideId && 0 < d - this._d3 && (e = this._h3 + g * this._n1), 
                this.currSlideId >= this.numSlides - 1 && 0 > d - this._d3 && (e = this._h3 + g * this._n1)), 
                this._h3 = e, 200 < c - this._j3 && (this._j3 = c, this._v = d), f ? this._q3(this._h3) : this._l && this._p3(this._h3);
            }
        },
        _x2: function(b, f) {
            var g, c = this, a = "touchmove" === b.type;
            if (!c._s2 || a) {
                if (a) {
                    if (c._r3) return;
                    var e = b.originalEvent.touches;
                    if (!e) return;
                    if (1 < e.length) return;
                    g = e[0];
                } else g = b, c.msEnabled && (g = g.originalEvent);
                if (c._a3 || (c._e && (f ? c._s3 : c._p1).css(c._g + c._u1, "0s"), function j() {
                    c._l2 && (c._t3 = requestAnimationFrame(j), c._u3 && c._k3(c._u3, f));
                }()), c._l3) b.preventDefault(), c._m3 = new Date().getTime(), c._u3 = g; else if (e = f ? c._e3 : c._h, 
                g = Math.abs(g.pageX - c._b3) - Math.abs(g.pageY - c._c3) - (e ? -7 : 7), g > 7) {
                    if (e) b.preventDefault(), c._z2 = "x"; else if (a) return c._v3(), void 0;
                    c._l3 = !0;
                } else if (-7 > g) {
                    if (e) {
                        if (a) return c._v3(), void 0;
                    } else b.preventDefault(), c._z2 = "y";
                    c._l3 = !0;
                }
            }
        },
        _v3: function() {
            this._r3 = !0, this._a3 = this._l2 = !1, this._y2();
        },
        _y2: function(b, f) {
            function c(a) {
                return 100 > a ? 100 : a > 500 ? 500 : a;
            }
            function g(b, d) {
                (a._l || f) && (j = (-a._u - a._d1) * a._w, h = Math.abs(a._p - j), a._c = h / d, 
                b && (a._c += 250), a._c = c(a._c), a._x3(j, !1));
            }
            var e, d, j, h, a = this;
            if (d = "touchend" === b.type || "touchcancel" === b.type, !a._s2 || d) if (a._s2 = !1, 
            a.ev.trigger("rsDragRelease"), a._u3 = null, a._l2 = !1, a._r3 = !1, a._l3 = !1, 
            a._m3 = 0, cancelAnimationFrame(a._t3), a._a3 && (f ? a._q3(a._h3) : a._l && a._p3(a._h3)), 
            a._b.off(a._k1).off(a._l1), d && a._e1.off(a._m1), a._i1(), !a._a3 && !a._v2 && f && a._w3) {
                var k = l(b.target).closest(".rsNavItem");
                k.length && a.goTo(k.index());
            } else {
                if (e = f ? a._e3 : a._h, !a._a3 || "y" === a._z2 && e || "x" === a._z2 && !e) {
                    if (f || !a._t2) return a._t2 = !1, a.dragSuccess = !1, void 0;
                    if (a._t2 = !1, a.st.navigateByClick) return a._i2(a.msEnabled ? b.originalEvent : b), 
                    a.dragSuccess = !0, void 0;
                    a.dragSuccess = !0;
                } else a.dragSuccess = !0;
                a._t2 = !1, a._z2 = "";
                var n = a.st.minSlideOffset;
                d = d ? b.originalEvent.changedTouches[0] : a.msEnabled ? b.originalEvent : b;
                var m = e ? d.pageX : d.pageY, p = a._d3;
                d = a._v;
                var q = a.currSlideId, r = a.numSlides, u = e ? a._f3 : a._g3, t = a._z;
                if (Math.abs(m - p), e = m - d, d = new Date().getTime() - a._j3, d = Math.abs(e) / d, 
                0 === u || 1 >= r) g(!0, d); else {
                    if (!t && !f) if (0 >= q) {
                        if (u > 0) return g(!0, d), void 0;
                    } else if (q >= r - 1 && 0 > u) return g(!0, d), void 0;
                    if (f) {
                        if (j = a._i3, j > a._n3) j = a._n3; else if (j < a._o3) j = a._o3; else {
                            if (n = d * d / .006, k = -a._i3, m = a._y3 - a._z3 + a._i3, e > 0 && n > k ? (k += a._z3 / (15 / (.003 * (n / d))), 
                            d = d * k / n, n = k) : 0 > e && n > m && (m += a._z3 / (15 / (.003 * (n / d))), 
                            d = d * m / n, n = m), k = Math.max(Math.round(d / .003), 50), j += n * (0 > e ? -1 : 1), 
                            j > a._n3) return a._a4(j, k, !0, a._n3, 200), void 0;
                            if (j < a._o3) return a._a4(j, k, !0, a._o3, 200), void 0;
                        }
                        a._a4(j, k, !0);
                    } else m > p + n ? 0 > u ? g(!1, d) : a._m2("prev", c(Math.abs(a._p - (-a._u - a._d1 + 1) * a._w) / d), !1, !0, !0) : p - n > m ? u > 0 ? g(!1, d) : a._m2("next", c(Math.abs(a._p - (-a._u - a._d1 - 1) * a._w) / d), !1, !0, !0) : g(!1, d);
                }
            }
        },
        _p3: function(b) {
            b = this._p = b, this._e ? this._p1.css(this._x1, this._y1 + (this._h ? b + this._z1 + 0 : 0 + this._z1 + b) + this._a2) : this._p1.css(this._h ? this._x1 : this._w1, b);
        },
        updateSliderSize: function(b) {
            var f, c;
            if (this.st.autoScaleSlider) {
                var g = this.st.autoScaleSliderWidth, a = this.st.autoScaleSliderHeight;
                this.st.autoScaleHeight ? (f = this.slider.width(), f != this.width && (this.slider.css("height", f * (a / g)), 
                f = this.slider.width()), c = this.slider.height()) : (c = this.slider.height(), 
                c != this.height && (this.slider.css("width", c * (g / a)), c = this.slider.height()), 
                f = this.slider.width());
            } else f = this.slider.width(), c = this.slider.height();
            if (b || f != this.width || c != this.height) {
                for (this.width = f, this.height = c, this._b4 = f, this._c4 = c, this.ev.trigger("rsBeforeSizeSet"), 
                this.ev.trigger("rsAfterSizePropSet"), this._e1.css({
                    width: this._b4,
                    height: this._c4
                }), this._w = (this._h ? this._b4 : this._c4) + this.st.slidesSpacing, this._d4 = this.st.imageScalePadding, 
                f = 0; f < this.slides.length; f++) b = this.slides[f], b.positionSet = !1, b && b.images && b.isLoaded && (b.isRendered = !1, 
                this._q2(b));
                if (this._e4) for (f = 0; f < this._e4.length; f++) b = this._e4[f], b.holder.css(this._i, (b.id + this._d1) * this._w);
                this._n2(), this._l && (this._e && this._p1.css(this._g + "transition-duration", "0s"), 
                this._p3((-this._u - this._d1) * this._w)), this.ev.trigger("rsOnUpdateNav");
            }
            this._j2 = this._e1.offset(), this._j2 = this._j2[this._i];
        },
        appendSlide: function(b, f) {
            var c = this._s(b);
            (isNaN(f) || f > this.numSlides) && (f = this.numSlides), this.slides.splice(f, 0, c), 
            this.slidesJQ.splice(f, 0, '<div style="' + (this._l ? "position:absolute;" : this._n) + '" class="rsSlide"></div>'), 
            f < this.currSlideId && this.currSlideId++, this.ev.trigger("rsOnAppendSlide", [ c, f ]), 
            this._f4(f), f === this.currSlideId && this.ev.trigger("rsAfterSlideChange");
        },
        removeSlide: function(b) {
            var f = this.slides[b];
            f && (f.holder && f.holder.remove(), b < this.currSlideId && this.currSlideId--, 
            this.slides.splice(b, 1), this.slidesJQ.splice(b, 1), this.ev.trigger("rsOnRemoveSlide", [ b ]), 
            this._f4(b), b === this.currSlideId && this.ev.trigger("rsAfterSlideChange"));
        },
        _f4: function() {
            var b = this, f = b.numSlides, f = 0 >= b._u ? 0 : Math.floor(b._u / f);
            for (b.numSlides = b.slides.length, 0 === b.numSlides ? (b.currSlideId = b._d1 = b._u = 0, 
            b.currSlide = b._g4 = null) : b._u = f * b.numSlides + b.currSlideId, f = 0; f < b.numSlides; f++) b.slides[f].id = f;
            b.currSlide = b.slides[b.currSlideId], b._r1 = b.slidesJQ[b.currSlideId], b.currSlideId >= b.numSlides ? b.goTo(b.numSlides - 1) : 0 > b.currSlideId && b.goTo(0), 
            b._t(), b._l && b._z && b._p1.css(b._g + b._u1, "0ms"), b._h4 && clearTimeout(b._h4), 
            b._h4 = setTimeout(function() {
                b._l && b._p3((-b._u - b._d1) * b._w), b._n2(), b._l || b._r1.css({
                    display: "block",
                    opacity: 1
                });
            }, 14), b.ev.trigger("rsOnUpdateNav");
        },
        _i1: function() {
            this._f1 && this._l && (this._g1 ? this._e1.css("cursor", this._g1) : (this._e1.removeClass("grabbing-cursor"), 
            this._e1.addClass("grab-cursor")));
        },
        _w2: function() {
            this._f1 && this._l && (this._h1 ? this._e1.css("cursor", this._h1) : (this._e1.removeClass("grab-cursor"), 
            this._e1.addClass("grabbing-cursor")));
        },
        next: function(b) {
            this._m2("next", this.st.transitionSpeed, !0, !b);
        },
        prev: function(b) {
            this._m2("prev", this.st.transitionSpeed, !0, !b);
        },
        _m2: function(b, f, c, g, a) {
            var d, j, h, e = this;
            if (e.ev.trigger("rsBeforeMove", [ b, g ]), h = "next" === b ? e.currSlideId + 1 : "prev" === b ? e.currSlideId - 1 : b = parseInt(b, 10), 
            !e._z) {
                if (0 > h) return e._i4("left", !g), void 0;
                if (h >= e.numSlides) return e._i4("right", !g), void 0;
            }
            e._r2 && (e._u2(!0), c = !1), j = h - e.currSlideId, h = e._o2 = e.currSlideId;
            var k = e.currSlideId + j;
            g = e._u;
            var l;
            e._z ? (k = e._n2(!1, k), g += j) : g = k, e._o = k, e._g4 = e.slidesJQ[e.currSlideId], 
            e._u = g, e.currSlideId = e._o, e.currSlide = e.slides[e.currSlideId], e._r1 = e.slidesJQ[e.currSlideId];
            var k = e.st.slidesDiff, m = Boolean(j > 0);
            j = Math.abs(j);
            var p = Math.floor(h / e._y), q = Math.floor((h + (m ? k : -k)) / e._y), p = (m ? Math.max(p, q) : Math.min(p, q)) * e._y + (m ? e._y - 1 : 0);
            if (p > e.numSlides - 1 ? p = e.numSlides - 1 : 0 > p && (p = 0), h = m ? p - h : h - p, 
            h > e._y && (h = e._y), j > h + k) for (e._d1 += (j - (h + k)) * (m ? -1 : 1), f *= 1.4, 
            h = 0; h < e.numSlides; h++) e.slides[h].positionSet = !1;
            e._c = f, e._n2(!0), a || (l = !0), d = (-g - e._d1) * e._w, l ? setTimeout(function() {
                e._j4 = !1, e._x3(d, b, !1, c), e.ev.trigger("rsOnUpdateNav");
            }, 0) : (e._x3(d, b, !1, c), e.ev.trigger("rsOnUpdateNav"));
        },
        _f2: function() {
            this.st.arrowsNav && (1 >= this.numSlides ? (this._c2.css("display", "none"), this._d2.css("display", "none")) : (this._c2.css("display", "block"), 
            this._d2.css("display", "block"), !this._z && !this.st.loopRewind && (0 === this.currSlideId ? this._c2.addClass("rsArrowDisabled") : this._c2.removeClass("rsArrowDisabled"), 
            this.currSlideId === this.numSlides - 1 ? this._d2.addClass("rsArrowDisabled") : this._d2.removeClass("rsArrowDisabled"))));
        },
        _x3: function(b, f, c, g, a) {
            function e() {
                var a;
                j && (a = j.data("rsTimeout")) && (j !== h && j.css({
                    opacity: 0,
                    display: "none",
                    zIndex: 0
                }), clearTimeout(a), j.data("rsTimeout", "")), (a = h.data("rsTimeout")) && (clearTimeout(a), 
                h.data("rsTimeout", ""));
            }
            var j, h, d = this, k = {};
            isNaN(d._c) && (d._c = 400), d._p = d._h3 = b, d.ev.trigger("rsBeforeAnimStart"), 
            d._e ? d._l ? (d._c = parseInt(d._c, 10), c = d._g + d._v1, k[d._g + d._u1] = d._c + "ms", 
            k[c] = g ? l.rsCSS3Easing[d.st.easeInOut] : l.rsCSS3Easing[d.st.easeOut], d._p1.css(k), 
            g || !d.hasTouch ? setTimeout(function() {
                d._p3(b);
            }, 5) : d._p3(b)) : (d._c = d.st.transitionSpeed, j = d._g4, h = d._r1, h.data("rsTimeout") && h.css("opacity", 0), 
            e(), j && j.data("rsTimeout", setTimeout(function() {
                k[d._g + d._u1] = "0ms", k.zIndex = 0, k.display = "none", j.data("rsTimeout", ""), 
                j.css(k), setTimeout(function() {
                    j.css("opacity", 0);
                }, 16);
            }, d._c + 60)), k.display = "block", k.zIndex = d._m, k.opacity = 0, k[d._g + d._u1] = "0ms", 
            k[d._g + d._v1] = l.rsCSS3Easing[d.st.easeInOut], h.css(k), h.data("rsTimeout", setTimeout(function() {
                h.css(d._g + d._u1, d._c + "ms"), h.data("rsTimeout", setTimeout(function() {
                    h.css("opacity", 1), h.data("rsTimeout", "");
                }, 20));
            }, 20))) : d._l ? (k[d._h ? d._x1 : d._w1] = b + "px", d._p1.animate(k, d._c, g ? d.st.easeInOut : d.st.easeOut)) : (j = d._g4, 
            h = d._r1, h.stop(!0, !0).css({
                opacity: 0,
                display: "block",
                zIndex: d._m
            }), d._c = d.st.transitionSpeed, h.animate({
                opacity: 1
            }, d._c, d.st.easeInOut), e(), j && j.data("rsTimeout", setTimeout(function() {
                j.stop(!0, !0).css({
                    opacity: 0,
                    display: "none",
                    zIndex: 0
                });
            }, d._c + 60))), d._r2 = !0, d.loadingTimeout && clearTimeout(d.loadingTimeout), 
            d.loadingTimeout = a ? setTimeout(function() {
                d.loadingTimeout = null, a.call();
            }, d._c + 60) : setTimeout(function() {
                d.loadingTimeout = null, d._k4(f);
            }, d._c + 60);
        },
        _u2: function(b) {
            if (this._r2 = !1, clearTimeout(this.loadingTimeout), this._l) if (this._e) {
                if (!b) {
                    b = this._p;
                    var f = this._h3 = this._l4();
                    this._p1.css(this._g + this._u1, "0ms"), b !== f && this._p3(f);
                }
            } else this._p1.stop(!0), this._p = parseInt(this._p1.css(this._x1), 10); else 20 < this._m ? this._m = 10 : this._m++;
        },
        _l4: function() {
            var b = window.getComputedStyle(this._p1.get(0), null).getPropertyValue(this._g + "transform").replace(/^matrix\(/i, "").split(/, |\)$/g), f = 0 === b[0].indexOf("matrix3d");
            return parseInt(b[this._h ? f ? 12 : 4 : f ? 13 : 5], 10);
        },
        _m4: function(b, f) {
            return this._e ? this._y1 + (f ? b + this._z1 + 0 : 0 + this._z1 + b) + this._a2 : b;
        },
        _k4: function() {
            this._l || (this._r1.css("z-index", 0), this._m = 10), this._r2 = !1, this.staticSlideId = this.currSlideId, 
            this._n2(), this._n4 = !1, this.ev.trigger("rsAfterSlideChange");
        },
        _i4: function(b, f) {
            var c = this, g = (-c._u - c._d1) * c._w;
            if (0 !== c.numSlides && !c._r2) if (c.st.loopRewind) c.goTo("left" === b ? c.numSlides - 1 : 0, f); else if (c._l) {
                c._c = 200;
                var a = function() {
                    c._r2 = !1;
                };
                c._x3(g + ("left" === b ? 30 : -30), "", !1, !0, function() {
                    c._r2 = !1, c._x3(g, "", !1, !0, a);
                });
            }
        },
        _q2: function(b) {
            if (!b.isRendered) {
                var g, d, f = b.content, c = "rsMainSlideImage", a = this.st.imageAlignCenter, e = this.st.imageScaleMode;
                if (b.videoURL && (c = "rsVideoContainer", "fill" !== e ? g = !0 : (d = f, d.hasClass(c) || (d = d.find("." + c)), 
                d.css({
                    width: "100%",
                    height: "100%"
                }), c = "rsMainSlideImage")), f.hasClass(c) || (f = f.find("." + c)), f) {
                    var j = b.iW, c = b.iH;
                    if (b.isRendered = !0, "none" !== e || a) {
                        b = "fill" !== e ? this._d4 : 0, d = this._b4 - 2 * b;
                        var k, l, h = this._c4 - 2 * b, m = {};
                        "fit-if-smaller" === e && (j > d || c > h) && (e = "fit"), ("fill" === e || "fit" === e) && (k = d / j, 
                        l = h / c, k = "fill" == e ? k > l ? k : l : "fit" == e ? l > k ? k : l : 1, j = Math.ceil(j * k, 10), 
                        c = Math.ceil(c * k, 10)), "none" !== e && (m.width = j, m.height = c, g && f.find(".rsImg").css({
                            width: "100%",
                            height: "100%"
                        })), a && (m.marginLeft = Math.floor((d - j) / 2) + b, m.marginTop = Math.floor((h - c) / 2) + b), 
                        f.css(m);
                    }
                }
            }
        }
    }, l.rsProto = t.prototype, l.fn.royalSlider = function(b) {
        var f = arguments;
        return this.each(function() {
            var c = l(this);
            if ("object" != typeof b && b) {
                if ((c = c.data("royalSlider")) && c[b]) return c[b].apply(c, Array.prototype.slice.call(f, 1));
            } else c.data("royalSlider") || c.data("royalSlider", new t(c, b));
        });
    }, l.fn.royalSlider.defaults = {
        slidesSpacing: 8,
        startSlideId: 0,
        loop: !1,
        loopRewind: !1,
        numImagesToPreload: 4,
        fadeinLoadedSlide: !0,
        slidesOrientation: "horizontal",
        transitionType: "move",
        transitionSpeed: 600,
        controlNavigation: "bullets",
        controlsInside: !0,
        arrowsNav: !0,
        arrowsNavAutoHide: !0,
        navigateByClick: !0,
        randomizeSlides: !1,
        sliderDrag: !0,
        sliderTouch: !0,
        keyboardNavEnabled: !1,
        fadeInAfterLoaded: !0,
        allowCSS3: !0,
        allowCSS3OnWebkit: !0,
        addActiveClass: !1,
        autoHeight: !1,
        easeOut: "easeOutSine",
        easeInOut: "easeInOutSine",
        minSlideOffset: 10,
        imageScaleMode: "fit-if-smaller",
        imageAlignCenter: !0,
        imageScalePadding: 4,
        usePreloader: !0,
        autoScaleSlider: !1,
        autoScaleSliderWidth: 800,
        autoScaleSliderHeight: 400,
        autoScaleHeight: !0,
        arrowsNavHideOnTouch: !1,
        globalCaption: !1,
        slidesDiff: 2
    }, l.rsCSS3Easing = {
        easeOutSine: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
        easeInOutSine: "cubic-bezier(0.445, 0.050, 0.550, 0.950)"
    }, l.extend(jQuery.easing, {
        easeInOutSine: function(b, f, c, g, a) {
            return -g / 2 * (Math.cos(Math.PI * f / a) - 1) + c;
        },
        easeOutSine: function(b, f, c, g, a) {
            return g * Math.sin(f / a * (Math.PI / 2)) + c;
        },
        easeOutCubic: function(b, f, c, g, a) {
            return g * ((f = f / a - 1) * f * f + 1) + c;
        }
    });
}(jQuery, window), function(c) {
    c.rsProto._o4 = function() {
        var b, a = this;
        a.st.addActiveClass && a.ev.on("rsOnUpdateNav", function() {
            b && clearTimeout(b), b = setTimeout(function() {
                a._g4 && a._g4.removeClass("rsActiveSlide"), a._r1 && a._r1.addClass("rsActiveSlide"), 
                b = null;
            }, 50);
        });
    }, c.rsModules.activeClass = c.rsProto._o4;
}(jQuery), function(j) {
    j.extend(j.rsProto, {
        _p4: function() {
            function l() {
                var g = a.currSlide;
                if (a.currSlide && a.currSlide.isLoaded && a._t4 !== g) {
                    if (0 < a._s4.length) {
                        for (b = 0; b < a._s4.length; b++) clearTimeout(a._s4[b]);
                        a._s4 = [];
                    }
                    if (0 < a._r4.length) {
                        var f;
                        for (b = 0; b < a._r4.length; b++) (f = a._r4[b]) && (a._e ? (f.block.css(a._g + a._u1, "0s"), 
                        f.block.css(f.css)) : f.block.stop(!0).css(f.css), a._t4 = null, g.animBlocksDisplayed = !1);
                        a._r4 = [];
                    }
                    g.animBlocks && (g.animBlocksDisplayed = !0, a._t4 = g, a._u4(g.animBlocks));
                }
            }
            var b, a = this;
            a._q4 = {
                fadeEffect: !0,
                moveEffect: "top",
                moveOffset: 20,
                speed: 400,
                easing: "easeOutSine",
                delay: 200
            }, a.st.block = j.extend({}, a._q4, a.st.block), a._r4 = [], a._s4 = [], a.ev.on("rsAfterInit", function() {
                l();
            }), a.ev.on("rsBeforeParseNode", function(a, b, d) {
                b = j(b), d.animBlocks = b.find(".rsABlock").css("display", "none"), d.animBlocks.length || (d.animBlocks = b.hasClass("rsABlock") ? b.css("display", "none") : !1);
            }), a.ev.on("rsAfterContentSet", function(b, f) {
                f.id === a.slides[a.currSlideId].id && setTimeout(function() {
                    l();
                }, a.st.fadeinLoadedSlide ? 300 : 0);
            }), a.ev.on("rsAfterSlideChange", function() {
                l();
            });
        },
        _v4: function(j, a) {
            setTimeout(function() {
                j.css(a);
            }, 6);
        },
        _u4: function(l) {
            var b, g, f, d, h, e, m, a = this;
            a._s4 = [], l.each(function(l) {
                b = j(this), g = {}, f = {}, d = null;
                var c = b.attr("data-move-offset"), c = c ? parseInt(c, 10) : a.st.block.moveOffset;
                if (c > 0 && ((e = b.data("move-effect")) ? (e = e.toLowerCase(), "none" === e ? e = !1 : "left" !== e && "top" !== e && "bottom" !== e && "right" !== e && (e = a.st.block.moveEffect, 
                "none" === e && (e = !1))) : e = a.st.block.moveEffect, e && "none" !== e)) {
                    var n;
                    n = "right" === e || "left" === e ? !0 : !1;
                    var k;
                    m = !1, a._e ? (k = 0, h = a._x1) : (n ? isNaN(parseInt(b.css("right"), 10)) ? h = "left" : (h = "right", 
                    m = !0) : isNaN(parseInt(b.css("bottom"), 10)) ? h = "top" : (h = "bottom", m = !0), 
                    h = "margin-" + h, m && (c = -c), a._e ? k = parseInt(b.css(h), 10) : (k = b.data("rs-start-move-prop"), 
                    void 0 === k && (k = parseInt(b.css(h), 10), b.data("rs-start-move-prop", k)))), 
                    f[h] = a._m4("top" === e || "left" === e ? k - c : k + c, n), g[h] = a._m4(k, n);
                }
                (c = b.attr("data-fade-effect")) ? ("none" === c.toLowerCase() || "false" === c.toLowerCase()) && (c = !1) : c = a.st.block.fadeEffect, 
                c && (f.opacity = 0, g.opacity = 1), (c || e) && (d = {}, d.hasFade = Boolean(c), 
                Boolean(e) && (d.moveProp = h, d.hasMove = !0), d.speed = b.data("speed"), isNaN(d.speed) && (d.speed = a.st.block.speed), 
                d.easing = b.data("easing"), d.easing || (d.easing = a.st.block.easing), d.css3Easing = j.rsCSS3Easing[d.easing], 
                d.delay = b.data("delay"), isNaN(d.delay) && (d.delay = a.st.block.delay * l)), 
                c = {}, a._e && (c[a._g + a._u1] = "0ms"), c.moveProp = g.moveProp, c.opacity = g.opacity, 
                c.display = "none", a._r4.push({
                    block: b,
                    css: c
                }), a._v4(b, f), a._s4.push(setTimeout(function(b, d, c, e) {
                    return function() {
                        if (b.css("display", "block"), c) {
                            var g = {};
                            if (a._e) {
                                var f = "";
                                c.hasMove && (f += c.moveProp), c.hasFade && (c.hasMove && (f += ", "), f += "opacity"), 
                                g[a._g + a._t1] = f, g[a._g + a._u1] = c.speed + "ms", g[a._g + a._v1] = c.css3Easing, 
                                b.css(g), setTimeout(function() {
                                    b.css(d);
                                }, 24);
                            } else setTimeout(function() {
                                b.animate(d, c.speed, c.easing);
                            }, 16);
                        }
                        delete a._s4[e];
                    };
                }(b, g, d, l), 6 >= d.delay ? 12 : d.delay));
            });
        }
    }), j.rsModules.animatedBlocks = j.rsProto._p4;
}(jQuery), function(b) {
    b.extend(b.rsProto, {
        _w4: function() {
            var a = this;
            if (a.st.autoHeight) {
                var b, d, e, c = function(c) {
                    e = a.slides[a.currSlideId], (b = e.holder) && (d = b.height()) && void 0 !== d && (a._c4 = d, 
                    a._e || !c ? a._e1.css("height", d) : a._e1.stop(!0, !0).animate({
                        height: d
                    }, a.st.transitionSpeed));
                };
                a.ev.on("rsMaybeSizeReady.rsAutoHeight", function(a, b) {
                    e === b && c();
                }), a.ev.on("rsAfterContentSet.rsAutoHeight", function(a, b) {
                    e === b && c();
                }), a.slider.addClass("rsAutoHeight"), a.ev.one("rsAfterInit", function() {
                    setTimeout(function() {
                        c(!1), setTimeout(function() {
                            a.slider.append('<div style="clear:both; float: none;"></div>'), a._e && a._e1.css(a._g + "transition", "height " + a.st.transitionSpeed + "ms ease-in-out");
                        }, 16);
                    }, 16);
                }), a.ev.on("rsBeforeAnimStart", function() {
                    c(!0);
                }), a.ev.on("rsBeforeSizeSet", function() {
                    setTimeout(function() {
                        c(!1);
                    }, 16);
                });
            }
        }
    }), b.rsModules.autoHeight = b.rsProto._w4;
}(jQuery), function(b) {
    b.extend(b.rsProto, {
        _x4: function() {
            var d, a = this;
            a._y4 = {
                enabled: !1,
                stopAtAction: !0,
                pauseOnHover: !0,
                delay: 2e3
            }, !a.st.autoPlay && a.st.autoplay && (a.st.autoPlay = a.st.autoplay), a.st.autoPlay = b.extend({}, a._y4, a.st.autoPlay), 
            a.st.autoPlay.enabled && (a.ev.on("rsBeforeParseNode", function(a, c, f) {
                c = b(c), (d = c.attr("data-rsDelay")) && (f.customDelay = parseInt(d, 10));
            }), a.ev.one("rsAfterInit", function() {
                a._z4();
            }), a.ev.on("rsBeforeDestroy", function() {
                a.stopAutoPlay(), a.slider.off("mouseenter mouseleave"), b(window).off("blur" + a.ns + " focus" + a.ns);
            }));
        },
        _z4: function() {
            var a = this;
            a.startAutoPlay(), a.ev.on("rsAfterContentSet", function(b, e) {
                !a._l2 && !a._r2 && a._a5 && e === a.currSlide && a._b5();
            }), a.ev.on("rsDragRelease", function() {
                a._a5 && a._c5 && (a._c5 = !1, a._b5());
            }), a.ev.on("rsAfterSlideChange", function() {
                a._a5 && a._c5 && (a._c5 = !1, a.currSlide.isLoaded && a._b5());
            }), a.ev.on("rsDragStart", function() {
                a._a5 && (a.st.autoPlay.stopAtAction ? a.stopAutoPlay() : (a._c5 = !0, a._d5()));
            }), a.ev.on("rsBeforeMove", function(b, e, c) {
                a._a5 && (c && a.st.autoPlay.stopAtAction ? a.stopAutoPlay() : (a._c5 = !0, a._d5()));
            }), a._e5 = !1, a.ev.on("rsVideoStop", function() {
                a._a5 && (a._e5 = !1, a._b5());
            }), a.ev.on("rsVideoPlay", function() {
                a._a5 && (a._c5 = !1, a._d5(), a._e5 = !0);
            }), b(window).on("blur" + a.ns, function() {
                a._a5 && (a._c5 = !0, a._d5());
            }).on("focus" + a.ns, function() {
                a._a5 && a._c5 && (a._c5 = !1, a._b5());
            }), a.st.autoPlay.pauseOnHover && (a._f5 = !1, a.slider.hover(function() {
                a._a5 && (a._c5 = !1, a._d5(), a._f5 = !0);
            }, function() {
                a._a5 && (a._f5 = !1, a._b5());
            }));
        },
        toggleAutoPlay: function() {
            this._a5 ? this.stopAutoPlay() : this.startAutoPlay();
        },
        startAutoPlay: function() {
            this._a5 = !0, this.currSlide.isLoaded && this._b5();
        },
        stopAutoPlay: function() {
            this._e5 = this._f5 = this._c5 = this._a5 = !1, this._d5();
        },
        _b5: function() {
            var a = this;
            !a._f5 && !a._e5 && (a._g5 = !0, a._h5 && clearTimeout(a._h5), a._h5 = setTimeout(function() {
                var b;
                !a._z && !a.st.loopRewind && (b = !0, a.st.loopRewind = !0), a.next(!0), b && (a.st.loopRewind = !1);
            }, a.currSlide.customDelay ? a.currSlide.customDelay : a.st.autoPlay.delay));
        },
        _d5: function() {
            !this._f5 && !this._e5 && (this._g5 = !1, this._h5 && (clearTimeout(this._h5), this._h5 = null));
        }
    }), b.rsModules.autoplay = b.rsProto._x4;
}(jQuery), function(c) {
    c.extend(c.rsProto, {
        _i5: function() {
            var a = this;
            "bullets" === a.st.controlNavigation && (a.ev.one("rsAfterPropsSetup", function() {
                a._j5 = !0, a.slider.addClass("rsWithBullets");
                for (var b = '<div class="rsNav rsBullets">', e = 0; e < a.numSlides; e++) b += '<div class="rsNavItem rsBullet"><span></span></div>';
                a._k5 = b = c(b + "</div>"), a._l5 = b.appendTo(a.slider).children(), a._k5.on("click.rs", ".rsNavItem", function() {
                    a._m5 || a.goTo(c(this).index());
                });
            }), a.ev.on("rsOnAppendSlide", function(b, c, d) {
                d >= a.numSlides ? a._k5.append('<div class="rsNavItem rsBullet"><span></span></div>') : a._l5.eq(d).before('<div class="rsNavItem rsBullet"><span></span></div>'), 
                a._l5 = a._k5.children();
            }), a.ev.on("rsOnRemoveSlide", function(b, c) {
                var d = a._l5.eq(c);
                d && d.length && (d.remove(), a._l5 = a._k5.children());
            }), a.ev.on("rsOnUpdateNav", function() {
                var b = a.currSlideId;
                a._n5 && a._n5.removeClass("rsNavSelected"), b = a._l5.eq(b), b.addClass("rsNavSelected"), 
                a._n5 = b;
            }));
        }
    }), c.rsModules.bullets = c.rsProto._i5;
}(jQuery), function(b) {
    b.extend(b.rsProto, {
        _o5: function() {
            var g, c, e, a = this;
            if (a._p5 = {
                enabled: !1,
                change: !1,
                prefix: ""
            }, a.st.deeplinking = b.extend({}, a._p5, a.st.deeplinking), a.st.deeplinking.enabled) {
                var h = a.st.deeplinking.change, d = "#" + a.st.deeplinking.prefix, f = function() {
                    var a = window.location.hash;
                    return a && (a = parseInt(a.substring(d.length), 10), a >= 0) ? a - 1 : -1;
                }, j = f();
                -1 !== j && (a.st.startSlideId = j), h && (b(window).on("hashchange" + a.ns, function() {
                    if (!g) {
                        var b = f();
                        0 > b || (b > a.numSlides - 1 && (b = a.numSlides - 1), a.goTo(b));
                    }
                }), a.ev.on("rsBeforeAnimStart", function() {
                    c && clearTimeout(c), e && clearTimeout(e);
                }), a.ev.on("rsAfterSlideChange", function() {
                    c && clearTimeout(c), e && clearTimeout(e), e = setTimeout(function() {
                        g = !0, window.location.replace(("" + window.location).split("#")[0] + d + (a.currSlideId + 1)), 
                        c = setTimeout(function() {
                            g = !1, c = null;
                        }, 60);
                    }, 400);
                })), a.ev.on("rsBeforeDestroy", function() {
                    c = e = null, h && b(window).off("hashchange" + a.ns);
                });
            }
        }
    }), b.rsModules.deeplinking = b.rsProto._o5;
}(jQuery), function(b, a, g) {
    function c(a) {
        return a = a || location.href, "#" + a.replace(/^[^#]*#?(.*)$/, "$1");
    }
    var h, e = document, d = b.event.special, f = e.documentMode, j = "onhashchange" in a && (f === g || f > 7);
    b.fn.hashchange = function(a) {
        return a ? this.bind("hashchange", a) : this.trigger("hashchange");
    }, b.fn.hashchange.delay = 50, d.hashchange = b.extend(d.hashchange, {
        setup: function() {
            return j ? !1 : (b(h.start), void 0);
        },
        teardown: function() {
            return j ? !1 : (b(h.stop), void 0);
        }
    });
    var l, p = function() {
        var e = c(), d = r(n);
        e !== n ? (q(n = e, d), b(a).trigger("hashchange")) : d !== n && (location.href = location.href.replace(/#.*/, "") + d), 
        l = setTimeout(p, b.fn.hashchange.delay);
    }, d = {}, n = c(), q = f = function(a) {
        return a;
    }, r = f;
    if (d.start = function() {
        l || p();
    }, d.stop = function() {
        l && clearTimeout(l), l = g;
    }, a.attachEvent && !a.addEventListener && !j) {
        var k, m;
        d.start = function() {
            k || (m = (m = b.fn.hashchange.src) && m + c(), k = b('<iframe tabindex="-1" title="empty"/>').hide().one("load", function() {
                m || q(c()), p();
            }).attr("src", m || "javascript:0").insertAfter("body")[0].contentWindow, e.onpropertychange = function() {
                try {
                    "title" === event.propertyName && (k.document.title = e.title);
                } catch (a) {}
            });
        }, d.stop = f, r = function() {
            return c(k.location.href);
        }, q = function(a, d) {
            var c = k.document, f = b.fn.hashchange.domain;
            a !== d && (c.title = e.title, c.open(), f && c.write('<script>document.domain="' + f + '"</script>'), 
            c.close(), k.location.hash = a);
        };
    }
    h = d;
}(jQuery, this), function(c) {
    c.extend(c.rsProto, {
        _q5: function() {
            var a = this;
            a._r5 = {
                enabled: !1,
                keyboardNav: !0,
                buttonFS: !0,
                nativeFS: !1,
                doubleTap: !0
            }, a.st.fullscreen = c.extend({}, a._r5, a.st.fullscreen), a.st.fullscreen.enabled && a.ev.one("rsBeforeSizeSet", function() {
                a._s5();
            });
        },
        _s5: function() {
            var a = this;
            if (a._t5 = !a.st.keyboardNavEnabled && a.st.fullscreen.keyboardNav, a.st.fullscreen.nativeFS) {
                a._u5 = {
                    supportsFullScreen: !1,
                    isFullScreen: function() {
                        return !1;
                    },
                    requestFullScreen: function() {},
                    cancelFullScreen: function() {},
                    fullScreenEventName: "",
                    prefix: ""
                };
                var b = [ "webkit", "moz", "o", "ms", "khtml" ];
                if (!a.isAndroid) if ("undefined" != typeof document.cancelFullScreen) a._u5.supportsFullScreen = !0; else for (var d = 0; d < b.length; d++) if (a._u5.prefix = b[d], 
                "undefined" != typeof document[a._u5.prefix + "CancelFullScreen"]) {
                    a._u5.supportsFullScreen = !0;
                    break;
                }
                a._u5.supportsFullScreen ? (a.nativeFS = !0, a._u5.fullScreenEventName = a._u5.prefix + "fullscreenchange" + a.ns, 
                a._u5.isFullScreen = function() {
                    switch (this.prefix) {
                      case "":
                        return document.fullScreen;

                      case "webkit":
                        return document.webkitIsFullScreen;

                      default:
                        return document[this.prefix + "FullScreen"];
                    }
                }, a._u5.requestFullScreen = function(a) {
                    return "" === this.prefix ? a.requestFullScreen() : a[this.prefix + "RequestFullScreen"]();
                }, a._u5.cancelFullScreen = function() {
                    return "" === this.prefix ? document.cancelFullScreen() : document[this.prefix + "CancelFullScreen"]();
                }) : a._u5 = !1;
            }
            a.st.fullscreen.buttonFS && (a._v5 = c('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(a._o1).on("click.rs", function() {
                a.isFullscreen ? a.exitFullscreen() : a.enterFullscreen();
            }));
        },
        enterFullscreen: function(a) {
            var b = this;
            if (b._u5) {
                if (!a) return b._b.on(b._u5.fullScreenEventName, function() {
                    b._u5.isFullScreen() ? b.enterFullscreen(!0) : b.exitFullscreen(!0);
                }), b._u5.requestFullScreen(c("html")[0]), void 0;
                b._u5.requestFullScreen(c("html")[0]);
            }
            if (!b._w5) {
                b._w5 = !0, b._b.on("keyup" + b.ns + "fullscreen", function(a) {
                    27 === a.keyCode && b.exitFullscreen();
                }), b._t5 && b._b2(), a = c(window), b._x5 = a.scrollTop(), b._y5 = a.scrollLeft(), 
                b._z5 = c("html").attr("style"), b._a6 = c("body").attr("style"), b._b6 = b.slider.attr("style"), 
                c("body, html").css({
                    overflow: "hidden",
                    height: "100%",
                    width: "100%",
                    margin: "0",
                    padding: "0"
                }), b.slider.addClass("rsFullscreen");
                var d;
                for (d = 0; d < b.numSlides; d++) a = b.slides[d], a.isRendered = !1, a.bigImage && (a.isBig = !0, 
                a.isMedLoaded = a.isLoaded, a.isMedLoading = a.isLoading, a.medImage = a.image, 
                a.medIW = a.iW, a.medIH = a.iH, a.slideId = -99, a.bigImage !== a.medImage && (a.sizeType = "big"), 
                a.isLoaded = a.isBigLoaded, a.isLoading = !1, a.image = a.bigImage, a.images[0] = a.bigImage, 
                a.iW = a.bigIW, a.iH = a.bigIH, a.isAppended = a.contentAdded = !1, b._c6(a));
                b.isFullscreen = !0, b._w5 = !1, b.updateSliderSize(), b.ev.trigger("rsEnterFullscreen");
            }
        },
        exitFullscreen: function(a) {
            var b = this;
            if (b._u5) {
                if (!a) return b._u5.cancelFullScreen(c("html")[0]), void 0;
                b._b.off(b._u5.fullScreenEventName);
            }
            if (!b._w5) {
                b._w5 = !0, b._b.off("keyup" + b.ns + "fullscreen"), b._t5 && b._b.off("keydown" + b.ns), 
                c("html").attr("style", b._z5 || ""), c("body").attr("style", b._a6 || "");
                var d;
                for (d = 0; d < b.numSlides; d++) a = b.slides[d], a.isRendered = !1, a.bigImage && (a.isBig = !1, 
                a.slideId = -99, a.isBigLoaded = a.isLoaded, a.isBigLoading = a.isLoading, a.bigImage = a.image, 
                a.bigIW = a.iW, a.bigIH = a.iH, a.isLoaded = a.isMedLoaded, a.isLoading = !1, a.image = a.medImage, 
                a.images[0] = a.medImage, a.iW = a.medIW, a.iH = a.medIH, a.isAppended = a.contentAdded = !1, 
                b._c6(a, !0), a.bigImage !== a.medImage && (a.sizeType = "med"));
                b.isFullscreen = !1, a = c(window), a.scrollTop(b._x5), a.scrollLeft(b._y5), b._w5 = !1, 
                b.slider.removeClass("rsFullscreen"), b.updateSliderSize(), setTimeout(function() {
                    b.updateSliderSize();
                }, 1), b.ev.trigger("rsExitFullscreen");
            }
        },
        _c6: function(a) {
            var b = a.isLoaded || a.isLoading ? '<img class="rsImg rsMainSlideImage" src="' + a.image + '"/>' : '<a class="rsImg rsMainSlideImage" href="' + a.image + '"></a>';
            a.content.hasClass("rsImg") ? a.content = c(b) : a.content.find(".rsImg").eq(0).replaceWith(b), 
            !a.isLoaded && !a.isLoading && a.holder && a.holder.html(a.content);
        }
    }), c.rsModules.fullscreen = c.rsProto._q5;
}(jQuery), function(b) {
    b.extend(b.rsProto, {
        _d6: function() {
            var a = this;
            a.st.globalCaption && (a.ev.on("rsAfterInit", function() {
                a.globalCaption = b('<div class="rsGCaption"></div>').appendTo(a.st.globalCaptionInside ? a._e1 : a.slider), 
                a.globalCaption.html(a.currSlide.caption);
            }), a.ev.on("rsBeforeAnimStart", function() {
                a.globalCaption.html(a.currSlide.caption);
            }));
        }
    }), b.rsModules.globalCaption = b.rsProto._d6;
}(jQuery), function(b) {
    b.extend(b.rsProto, {
        _e6: function() {
            var a = this;
            a.st.navAutoHide && !a.hasTouch && a.ev.one("rsAfterInit", function() {
                if (a._k5) {
                    a._k5.addClass("rsHidden");
                    var b = a.slider;
                    b.one("mousemove.controlnav", function() {
                        a._k5.removeClass("rsHidden");
                    }), b.hover(function() {
                        a._k5.removeClass("rsHidden");
                    }, function() {
                        a._k5.addClass("rsHidden");
                    });
                }
            });
        }
    }), b.rsModules.autoHideNav = b.rsProto._e6;
}(jQuery), function(e) {
    e.extend(e.rsProto, {
        _f6: function() {
            var a = this;
            "tabs" === a.st.controlNavigation && (a.ev.on("rsBeforeParseNode", function(a, d, b) {
                d = e(d), b.thumbnail = d.find(".rsTmb").remove(), b.thumbnail.length ? b.thumbnail = e(document.createElement("div")).append(b.thumbnail).html() : (b.thumbnail = d.attr("data-rsTmb"), 
                b.thumbnail || (b.thumbnail = d.find(".rsImg").attr("data-rsTmb")), b.thumbnail = b.thumbnail ? '<img src="' + b.thumbnail + '"/>' : "");
            }), a.ev.one("rsAfterPropsSetup", function() {
                a._g6();
            }), a.ev.on("rsOnAppendSlide", function(c, d, b) {
                b >= a.numSlides ? a._k5.append('<div class="rsNavItem rsTab">' + d.thumbnail + "</div>") : a._l5.eq(b).before('<div class="rsNavItem rsTab">' + item.thumbnail + "</div>"), 
                a._l5 = a._k5.children();
            }), a.ev.on("rsOnRemoveSlide", function(c, d) {
                var b = a._l5.eq(d);
                b && (b.remove(), a._l5 = a._k5.children());
            }), a.ev.on("rsOnUpdateNav", function() {
                var c = a.currSlideId;
                a._n5 && a._n5.removeClass("rsNavSelected"), c = a._l5.eq(c), c.addClass("rsNavSelected"), 
                a._n5 = c;
            }));
        },
        _g6: function() {
            var c, a = this;
            a._j5 = !0, c = '<div class="rsNav rsTabs">';
            for (var d = 0; d < a.numSlides; d++) c += '<div class="rsNavItem rsTab">' + a.slides[d].thumbnail + "</div>";
            c = e(c + "</div>"), a._k5 = c, a._l5 = c.children(".rsNavItem"), a.slider.append(c), 
            a._k5.click(function(b) {
                b = e(b.target).closest(".rsNavItem"), b.length && a.goTo(b.index());
            });
        }
    }), e.rsModules.tabs = e.rsProto._f6;
}(jQuery), function(f) {
    f.extend(f.rsProto, {
        _h6: function() {
            var a = this;
            "thumbnails" === a.st.controlNavigation && (a._i6 = {
                drag: !0,
                touch: !0,
                orientation: "horizontal",
                navigation: !0,
                arrows: !0,
                arrowLeft: null,
                arrowRight: null,
                spacing: 4,
                arrowsAutoHide: !1,
                appendSpan: !1,
                transitionSpeed: 600,
                autoCenter: !0,
                fitInViewport: !0,
                firstMargin: !0,
                paddingTop: 0,
                paddingBottom: 0
            }, a.st.thumbs = f.extend({}, a._i6, a.st.thumbs), a._j6 = !0, !1 === a.st.thumbs.firstMargin ? a.st.thumbs.firstMargin = 0 : !0 === a.st.thumbs.firstMargin && (a.st.thumbs.firstMargin = a.st.thumbs.spacing), 
            a.ev.on("rsBeforeParseNode", function(a, c, b) {
                c = f(c), b.thumbnail = c.find(".rsTmb").remove(), b.thumbnail.length ? b.thumbnail = f(document.createElement("div")).append(b.thumbnail).html() : (b.thumbnail = c.attr("data-rsTmb"), 
                b.thumbnail || (b.thumbnail = c.find(".rsImg").attr("data-rsTmb")), b.thumbnail = b.thumbnail ? '<img src="' + b.thumbnail + '"/>' : "");
            }), a.ev.one("rsAfterPropsSetup", function() {
                a._k6();
            }), a._n5 = null, a.ev.on("rsOnUpdateNav", function() {
                var e = f(a._l5[a.currSlideId]);
                e !== a._n5 && (a._n5 && (a._n5.removeClass("rsNavSelected"), a._n5 = null), a._l6 && a._m6(a.currSlideId), 
                a._n5 = e.addClass("rsNavSelected"));
            }), a.ev.on("rsOnAppendSlide", function(e, c, b) {
                e = "<div" + a._n6 + ' class="rsNavItem rsThumb">' + a._o6 + c.thumbnail + "</div>", 
                b >= a.numSlides ? a._s3.append(e) : a._l5.eq(b).before(e), a._l5 = a._s3.children(), 
                a.updateThumbsSize();
            }), a.ev.on("rsOnRemoveSlide", function(e, c) {
                var b = a._l5.eq(c);
                b && (b.remove(), a._l5 = a._s3.children(), a.updateThumbsSize());
            }));
        },
        _k6: function() {
            var g, d, a = this, e = "rsThumbs", c = a.st.thumbs, b = "", h = c.spacing;
            a._j5 = !0, a._e3 = "vertical" === c.orientation ? !1 : !0, a._n6 = g = h ? ' style="margin-' + (a._e3 ? "right" : "bottom") + ":" + h + 'px;"' : "", 
            a._i3 = 0, a._p6 = !1, a._m5 = !1, a._l6 = !1, a._q6 = c.arrows && c.navigation, 
            d = a._e3 ? "Hor" : "Ver", a.slider.addClass("rsWithThumbs rsWithThumbs" + d), b += '<div class="rsNav rsThumbs rsThumbs' + d + '"><div class="' + e + 'Container">', 
            a._o6 = c.appendSpan ? '<span class="thumbIco"></span>' : "";
            for (var j = 0; j < a.numSlides; j++) d = a.slides[j], b += "<div" + g + ' class="rsNavItem rsThumb">' + d.thumbnail + a._o6 + "</div>";
            b = f(b + "</div></div>"), g = {}, c.paddingTop && (g[a._e3 ? "paddingTop" : "paddingLeft"] = c.paddingTop), 
            c.paddingBottom && (g[a._e3 ? "paddingBottom" : "paddingRight"] = c.paddingBottom), 
            b.css(g), a._s3 = f(b).find("." + e + "Container"), a._q6 && (e += "Arrow", c.arrowLeft ? a._r6 = c.arrowLeft : (a._r6 = f('<div class="' + e + " " + e + 'Left"><div class="' + e + 'Icn"></div></div>'), 
            b.append(a._r6)), c.arrowRight ? a._s6 = c.arrowRight : (a._s6 = f('<div class="' + e + " " + e + 'Right"><div class="' + e + 'Icn"></div></div>'), 
            b.append(a._s6)), a._r6.click(function() {
                var b = (Math.floor(a._i3 / a._t6) + a._u6) * a._t6;
                a._a4(b > a._n3 ? a._n3 : b);
            }), a._s6.click(function() {
                var b = (Math.floor(a._i3 / a._t6) - a._u6) * a._t6;
                a._a4(b < a._o3 ? a._o3 : b);
            }), c.arrowsAutoHide && !a.hasTouch && (a._r6.css("opacity", 0), a._s6.css("opacity", 0), 
            b.one("mousemove.rsarrowshover", function() {
                a._l6 && (a._r6.css("opacity", 1), a._s6.css("opacity", 1));
            }), b.hover(function() {
                a._l6 && (a._r6.css("opacity", 1), a._s6.css("opacity", 1));
            }, function() {
                a._l6 && (a._r6.css("opacity", 0), a._s6.css("opacity", 0));
            }))), a._k5 = b, a._l5 = a._s3.children(), a.msEnabled && a.st.thumbs.navigation && a._s3.css("-ms-touch-action", a._e3 ? "pan-y" : "pan-x"), 
            a.slider.append(b), a._w3 = !0, a._v6 = h, c.navigation && a._e && a._s3.css(a._g + "transition-property", a._g + "transform"), 
            a._k5.on("click.rs", ".rsNavItem", function() {
                a._m5 || a.goTo(f(this).index());
            }), a.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs", function() {
                a._w6 = a._e3 ? a._c4 : a._b4, a.updateThumbsSize(!0);
            });
        },
        updateThumbsSize: function() {
            var a = this, e = a._l5.first(), c = {}, b = a._l5.length;
            a._t6 = (a._e3 ? e.outerWidth() : e.outerHeight()) + a._v6, a._y3 = b * a._t6 - a._v6, 
            c[a._e3 ? "width" : "height"] = a._y3 + a._v6, a._z3 = a._e3 ? a._k5.width() : a._k5.height(), 
            a._o3 = -(a._y3 - a._z3) - a.st.thumbs.firstMargin, a._n3 = a.st.thumbs.firstMargin, 
            a._u6 = Math.floor(a._z3 / a._t6), a._y3 < a._z3 ? (a.st.thumbs.autoCenter && a._q3((a._z3 - a._y3) / 2), 
            a.st.thumbs.arrows && a._r6 && (a._r6.addClass("rsThumbsArrowDisabled"), a._s6.addClass("rsThumbsArrowDisabled")), 
            a._l6 = !1, a._m5 = !1, a._k5.off(a._j1)) : a.st.thumbs.navigation && !a._l6 && (a._l6 = !0, 
            !a.hasTouch && a.st.thumbs.drag || a.hasTouch && a.st.thumbs.touch) && (a._m5 = !0, 
            a._k5.on(a._j1, function(b) {
                a._g2(b, !0);
            })), a._e && (c[a._g + "transition-duration"] = "0ms"), a._s3.css(c), a._w3 && (a.isFullscreen || a.st.thumbs.fitInViewport) && (a._e3 ? a._c4 = a._w6 - a._k5.outerHeight() : a._b4 = a._w6 - a._k5.outerWidth());
        },
        setThumbsOrientation: function(a, e) {
            this._w3 && (this.st.thumbs.orientation = a, this._k5.remove(), this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"), 
            this._k6(), this._k5.off(this._j1), e || this.updateSliderSize(!0));
        },
        _q3: function(a) {
            this._i3 = a, this._e ? this._s3.css(this._x1, this._y1 + (this._e3 ? a + this._z1 + 0 : 0 + this._z1 + a) + this._a2) : this._s3.css(this._e3 ? this._x1 : this._w1, a);
        },
        _a4: function(a, e, c, b, g) {
            var d = this;
            if (d._l6) {
                e || (e = d.st.thumbs.transitionSpeed), d._i3 = a, d._x6 && clearTimeout(d._x6), 
                d._p6 && (d._e || d._s3.stop(), c = !0);
                var h = {};
                d._p6 = !0, d._e ? (h[d._g + "transition-duration"] = e + "ms", h[d._g + "transition-timing-function"] = c ? f.rsCSS3Easing[d.st.easeOut] : f.rsCSS3Easing[d.st.easeInOut], 
                d._s3.css(h), d._q3(a)) : (h[d._e3 ? d._x1 : d._w1] = a + "px", d._s3.animate(h, e, c ? "easeOutCubic" : d.st.easeInOut)), 
                b && (d._i3 = b), d._y6(), d._x6 = setTimeout(function() {
                    d._p6 = !1, g && (d._a4(b, g, !0), g = null);
                }, e);
            }
        },
        _y6: function() {
            this._q6 && (this._i3 === this._n3 ? this._r6.addClass("rsThumbsArrowDisabled") : this._r6.removeClass("rsThumbsArrowDisabled"), 
            this._i3 === this._o3 ? this._s6.addClass("rsThumbsArrowDisabled") : this._s6.removeClass("rsThumbsArrowDisabled"));
        },
        _m6: function(a, e) {
            var b, c = 0, f = a * this._t6 + 2 * this._t6 - this._v6 + this._n3, d = Math.floor(this._i3 / this._t6);
            this._l6 && (this._j6 && (e = !0, this._j6 = !1), f + this._i3 > this._z3 ? (a === this.numSlides - 1 && (c = 1), 
            d = -a + this._u6 - 2 + c, b = d * this._t6 + this._z3 % this._t6 + this._v6 - this._n3) : 0 !== a ? (a - 1) * this._t6 <= -this._i3 + this._n3 && a - 1 <= this.numSlides - this._u6 && (b = (-a + 1) * this._t6 + this._n3) : b = this._n3, 
            b !== this._i3 && (c = void 0 === b ? this._i3 : b, c > this._n3 ? this._q3(this._n3) : c < this._o3 ? this._q3(this._o3) : void 0 !== b && (e ? this._q3(b) : this._a4(b))), 
            this._y6());
        }
    }), f.rsModules.thumbnails = f.rsProto._h6;
}(jQuery), function(f) {
    f.extend(f.rsProto, {
        _z6: function() {
            var a = this;
            a._a7 = {
                autoHideArrows: !0,
                autoHideControlNav: !1,
                autoHideBlocks: !1,
                autoHideCaption: !1,
                disableCSS3inFF: !0,
                youTubeCode: '<iframe src="http://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',
                vimeoCode: '<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'
            }, a.st.video = f.extend({}, a._a7, a.st.video), a.ev.on("rsBeforeSizeSet", function() {
                a._b7 && setTimeout(function() {
                    var b = a._r1, b = b.hasClass("rsVideoContainer") ? b : b.find(".rsVideoContainer");
                    a._c7 && a._c7.css({
                        width: b.width(),
                        height: b.height()
                    });
                }, 32);
            });
            var c = a._a.mozilla;
            a.ev.on("rsAfterParseNode", function(b, e, d) {
                if (b = f(e), d.videoURL) {
                    a.st.video.disableCSS3inFF && c && (a._e = a._f = !1), e = f('<div class="rsVideoContainer"></div>');
                    var g = f('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');
                    b.hasClass("rsImg") ? d.content = e.append(b).append(g) : d.content.find(".rsImg").wrap(e).after(g);
                }
            }), a.ev.on("rsAfterSlideChange", function() {
                a.stopVideo();
            });
        },
        toggleVideo: function() {
            return this._b7 ? this.stopVideo() : this.playVideo();
        },
        playVideo: function() {
            var a = this;
            if (!a._b7) {
                var c = a.currSlide;
                if (!c.videoURL) return !1;
                var e, d, b = a._d7 = c.content, c = c.videoURL;
                return c.match(/youtu\.be/i) || c.match(/youtube\.com/i) ? (d = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/, 
                (d = c.match(d)) && 11 == d[7].length && (e = d[7]), void 0 !== e && (a._c7 = a.st.video.youTubeCode.replace("%id%", e))) : c.match(/vimeo\.com/i) && (d = /(www\.)?vimeo.com\/(\d+)($|\/)/, 
                (d = c.match(d)) && (e = d[2]), void 0 !== e && (a._c7 = a.st.video.vimeoCode.replace("%id%", e))), 
                a.videoObj = f(a._c7), a.ev.trigger("rsOnCreateVideoElement", [ c ]), a.videoObj.length && (a._c7 = f('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'), 
                a._c7.find(".rsPreloader").after(a.videoObj), b = b.hasClass("rsVideoContainer") ? b : b.find(".rsVideoContainer"), 
                a._c7.css({
                    width: b.width(),
                    height: b.height()
                }).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv", function(b) {
                    return a.stopVideo(), b.preventDefault(), b.stopPropagation(), !1;
                }), b.append(a._c7), a.isIPAD && b.addClass("rsIOSVideo"), a._e7(!1), setTimeout(function() {
                    a._c7.addClass("rsVideoActive");
                }, 10), a.ev.trigger("rsVideoPlay"), a._b7 = !0), !0;
            }
            return !1;
        },
        stopVideo: function() {
            var a = this;
            return a._b7 ? (a.isIPAD && a.slider.find(".rsCloseVideoBtn").remove(), a._e7(!0), 
            setTimeout(function() {
                a.ev.trigger("rsOnDestroyVideoElement", [ a.videoObj ]);
                var c = a._c7.find("iframe");
                if (c.length) try {
                    c.attr("src", "");
                } catch (b) {}
                a._c7.remove(), a._c7 = null;
            }, 16), a.ev.trigger("rsVideoStop"), a._b7 = !1, !0) : !1;
        },
        _e7: function(a) {
            var c = [], b = this.st.video;
            if (b.autoHideArrows && (this._c2 && (c.push(this._c2, this._d2), this._e2 = !a), 
            this._v5 && c.push(this._v5)), b.autoHideControlNav && this._k5 && c.push(this._k5), 
            b.autoHideBlocks && this.currSlide.animBlocks && c.push(this.currSlide.animBlocks), 
            b.autoHideCaption && this.globalCaption && c.push(this.globalCaption), c.length) for (b = 0; b < c.length; b++) a ? c[b].removeClass("rsHidden") : c[b].addClass("rsHidden");
        }
    }), f.rsModules.video = f.rsProto._z6;
}(jQuery), function(d) {
    d.rsProto._f7 = function() {
        var a = this;
        a.st.visibleNearby && a.st.visibleNearby.enabled && (a._g7 = {
            enabled: !0,
            centerArea: .6,
            center: !0,
            breakpoint: 0,
            breakpointCenterArea: .8,
            hiddenOverflow: !0,
            navigateByCenterClick: !1
        }, a.st.visibleNearby = d.extend({}, a._g7, a.st.visibleNearby), a.ev.one("rsAfterPropsSetup", function() {
            a._h7 = a._e1.css("overflow", "visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(), 
            a.st.visibleNearby.hiddenOverflow || a._h7.css("overflow", "visible"), a._o1 = a.st.controlsInside ? a._h7 : a.slider;
        }), a.ev.on("rsAfterSizePropSet", function() {
            var b, c = a.st.visibleNearby;
            b = c.breakpoint && a.width < c.breakpoint ? c.breakpointCenterArea : c.centerArea, 
            a._h ? (a._b4 *= b, a._h7.css({
                height: a._c4,
                width: a._b4 / b
            }), a._d = a._b4 * (1 - b) / 2 / b) : (a._c4 *= b, a._h7.css({
                height: a._c4 / b,
                width: a._b4
            }), a._d = a._c4 * (1 - b) / 2 / b), c.navigateByCenterClick || (a._q = a._h ? a._b4 : a._c4), 
            c.center && a._e1.css("margin-" + (a._h ? "left" : "top"), a._d);
        }));
    }, d.rsModules.visibleNearby = d.rsProto._f7;
}(jQuery), function() {
    var __indexOf = [].indexOf || function(item) {
        for (var i = 0, l = this.length; l > i; i++) if (i in this && this[i] === item) return i;
        return -1;
    }, __slice = [].slice;
    (function(root, factory) {
        return "function" == typeof define && define.amd ? define("waypoints", [ "jquery" ], function($) {
            return factory($, root);
        }) : factory(root.jQuery, root);
    })(this, function($, window) {
        var $w, Context, Waypoint, allWaypoints, contextCounter, contextKey, contexts, isTouch, jQMethods, methods, resizeEvent, scrollEvent, waypointCounter, waypointKey, wp, wps;
        return $w = $(window), isTouch = __indexOf.call(window, "ontouchstart") >= 0, allWaypoints = {
            horizontal: {},
            vertical: {}
        }, contextCounter = 1, contexts = {}, contextKey = "waypoints-context-id", resizeEvent = "resize.waypoints", 
        scrollEvent = "scroll.waypoints", waypointCounter = 1, waypointKey = "waypoints-waypoint-ids", 
        wp = "waypoint", wps = "waypoints", Context = function() {
            function Context($element) {
                var _this = this;
                this.$element = $element, this.element = $element[0], this.didResize = !1, this.didScroll = !1, 
                this.id = "context" + contextCounter++, this.oldScroll = {
                    x: $element.scrollLeft(),
                    y: $element.scrollTop()
                }, this.waypoints = {
                    horizontal: {},
                    vertical: {}
                }, $element.data(contextKey, this.id), contexts[this.id] = this, $element.bind(scrollEvent, function() {
                    var scrollHandler;
                    return _this.didScroll || isTouch ? void 0 : (_this.didScroll = !0, scrollHandler = function() {
                        return _this.doScroll(), _this.didScroll = !1;
                    }, window.setTimeout(scrollHandler, $[wps].settings.scrollThrottle));
                }), $element.bind(resizeEvent, function() {
                    var resizeHandler;
                    return _this.didResize ? void 0 : (_this.didResize = !0, resizeHandler = function() {
                        return $[wps]("refresh"), _this.didResize = !1;
                    }, window.setTimeout(resizeHandler, $[wps].settings.resizeThrottle));
                });
            }
            return Context.prototype.doScroll = function() {
                var axes, _this = this;
                return axes = {
                    horizontal: {
                        newScroll: this.$element.scrollLeft(),
                        oldScroll: this.oldScroll.x,
                        forward: "right",
                        backward: "left"
                    },
                    vertical: {
                        newScroll: this.$element.scrollTop(),
                        oldScroll: this.oldScroll.y,
                        forward: "down",
                        backward: "up"
                    }
                }, !isTouch || axes.vertical.oldScroll && axes.vertical.newScroll || $[wps]("refresh"), 
                $.each(axes, function(aKey, axis) {
                    var direction, isForward, triggered;
                    return triggered = [], isForward = axis.newScroll > axis.oldScroll, direction = isForward ? axis.forward : axis.backward, 
                    $.each(_this.waypoints[aKey], function(wKey, waypoint) {
                        var _ref, _ref1;
                        return axis.oldScroll < (_ref = waypoint.offset) && _ref <= axis.newScroll ? triggered.push(waypoint) : axis.newScroll < (_ref1 = waypoint.offset) && _ref1 <= axis.oldScroll ? triggered.push(waypoint) : void 0;
                    }), triggered.sort(function(a, b) {
                        return a.offset - b.offset;
                    }), isForward || triggered.reverse(), $.each(triggered, function(i, waypoint) {
                        return waypoint.options.continuous || i === triggered.length - 1 ? waypoint.trigger([ direction ]) : void 0;
                    });
                }), this.oldScroll = {
                    x: axes.horizontal.newScroll,
                    y: axes.vertical.newScroll
                };
            }, Context.prototype.refresh = function() {
                var axes, cOffset, isWin, _this = this;
                return isWin = $.isWindow(this.element), cOffset = this.$element.offset(), this.doScroll(), 
                axes = {
                    horizontal: {
                        contextOffset: isWin ? 0 : cOffset.left,
                        contextScroll: isWin ? 0 : this.oldScroll.x,
                        contextDimension: this.$element.width(),
                        oldScroll: this.oldScroll.x,
                        forward: "right",
                        backward: "left",
                        offsetProp: "left"
                    },
                    vertical: {
                        contextOffset: isWin ? 0 : cOffset.top,
                        contextScroll: isWin ? 0 : this.oldScroll.y,
                        contextDimension: isWin ? $[wps]("viewportHeight") : this.$element.height(),
                        oldScroll: this.oldScroll.y,
                        forward: "down",
                        backward: "up",
                        offsetProp: "top"
                    }
                }, $.each(axes, function(aKey, axis) {
                    return $.each(_this.waypoints[aKey], function(i, waypoint) {
                        var adjustment, elementOffset, oldOffset, _ref, _ref1;
                        return adjustment = waypoint.options.offset, oldOffset = waypoint.offset, elementOffset = $.isWindow(waypoint.element) ? 0 : waypoint.$element.offset()[axis.offsetProp], 
                        $.isFunction(adjustment) ? adjustment = adjustment.apply(waypoint.element) : "string" == typeof adjustment && (adjustment = parseFloat(adjustment), 
                        waypoint.options.offset.indexOf("%") > -1 && (adjustment = Math.ceil(axis.contextDimension * adjustment / 100))), 
                        waypoint.offset = elementOffset - axis.contextOffset + axis.contextScroll - adjustment, 
                        waypoint.options.onlyOnScroll && null != oldOffset || !waypoint.enabled ? void 0 : null !== oldOffset && oldOffset < (_ref = axis.oldScroll) && _ref <= waypoint.offset ? waypoint.trigger([ axis.backward ]) : null !== oldOffset && oldOffset > (_ref1 = axis.oldScroll) && _ref1 >= waypoint.offset ? waypoint.trigger([ axis.forward ]) : null === oldOffset && axis.oldScroll >= waypoint.offset ? waypoint.trigger([ axis.forward ]) : void 0;
                    });
                });
            }, Context.prototype.checkEmpty = function() {
                return $.isEmptyObject(this.waypoints.horizontal) && $.isEmptyObject(this.waypoints.vertical) ? (this.$element.unbind([ resizeEvent, scrollEvent ].join(" ")), 
                delete contexts[this.id]) : void 0;
            }, Context;
        }(), Waypoint = function() {
            function Waypoint($element, context, options) {
                var idList, _ref;
                options = $.extend({}, $.fn[wp].defaults, options), "bottom-in-view" === options.offset && (options.offset = function() {
                    var contextHeight;
                    return contextHeight = $[wps]("viewportHeight"), $.isWindow(context.element) || (contextHeight = context.$element.height()), 
                    contextHeight - $(this).outerHeight();
                }), this.$element = $element, this.element = $element[0], this.axis = options.horizontal ? "horizontal" : "vertical", 
                this.callback = options.handler, this.context = context, this.enabled = options.enabled, 
                this.id = "waypoints" + waypointCounter++, this.offset = null, this.options = options, 
                context.waypoints[this.axis][this.id] = this, allWaypoints[this.axis][this.id] = this, 
                idList = null != (_ref = $element.data(waypointKey)) ? _ref : [], idList.push(this.id), 
                $element.data(waypointKey, idList);
            }
            return Waypoint.prototype.trigger = function(args) {
                return this.enabled ? (null != this.callback && this.callback.apply(this.element, args), 
                this.options.triggerOnce ? this.destroy() : void 0) : void 0;
            }, Waypoint.prototype.disable = function() {
                return this.enabled = !1;
            }, Waypoint.prototype.enable = function() {
                return this.context.refresh(), this.enabled = !0;
            }, Waypoint.prototype.destroy = function() {
                return delete allWaypoints[this.axis][this.id], delete this.context.waypoints[this.axis][this.id], 
                this.context.checkEmpty();
            }, Waypoint.getWaypointsByElement = function(element) {
                var all, ids;
                return (ids = $(element).data(waypointKey)) ? (all = $.extend({}, allWaypoints.horizontal, allWaypoints.vertical), 
                $.map(ids, function(id) {
                    return all[id];
                })) : [];
            }, Waypoint;
        }(), methods = {
            init: function(f, options) {
                var _ref;
                return null == options && (options = {}), null == (_ref = options.handler) && (options.handler = f), 
                this.each(function() {
                    var $this, context, contextElement, _ref1;
                    return $this = $(this), contextElement = null != (_ref1 = options.context) ? _ref1 : $.fn[wp].defaults.context, 
                    $.isWindow(contextElement) || (contextElement = $this.closest(contextElement)), 
                    contextElement = $(contextElement), context = contexts[contextElement.data(contextKey)], 
                    context || (context = new Context(contextElement)), new Waypoint($this, context, options);
                }), $[wps]("refresh"), this;
            },
            disable: function() {
                return methods._invoke(this, "disable");
            },
            enable: function() {
                return methods._invoke(this, "enable");
            },
            destroy: function() {
                return methods._invoke(this, "destroy");
            },
            prev: function(axis, selector) {
                return methods._traverse.call(this, axis, selector, function(stack, index, waypoints) {
                    return index > 0 ? stack.push(waypoints[index - 1]) : void 0;
                });
            },
            next: function(axis, selector) {
                return methods._traverse.call(this, axis, selector, function(stack, index, waypoints) {
                    return index < waypoints.length - 1 ? stack.push(waypoints[index + 1]) : void 0;
                });
            },
            _traverse: function(axis, selector, push) {
                var stack, waypoints;
                return null == axis && (axis = "vertical"), null == selector && (selector = window), 
                waypoints = jQMethods.aggregate(selector), stack = [], this.each(function() {
                    var index;
                    return index = $.inArray(this, waypoints[axis]), push(stack, index, waypoints[axis]);
                }), this.pushStack(stack);
            },
            _invoke: function($elements, method) {
                return $elements.each(function() {
                    var waypoints;
                    return waypoints = Waypoint.getWaypointsByElement(this), $.each(waypoints, function(i, waypoint) {
                        return waypoint[method](), !0;
                    });
                }), this;
            }
        }, $.fn[wp] = function() {
            var args, method;
            return method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [], 
            methods[method] ? methods[method].apply(this, args) : $.isFunction(method) ? methods.init.apply(this, arguments) : $.isPlainObject(method) ? methods.init.apply(this, [ null, method ]) : method ? $.error("The " + method + " method does not exist in jQuery Waypoints.") : $.error("jQuery Waypoints needs a callback function or handler option.");
        }, $.fn[wp].defaults = {
            context: window,
            continuous: !0,
            enabled: !0,
            horizontal: !1,
            offset: 0,
            triggerOnce: !1
        }, jQMethods = {
            refresh: function() {
                return $.each(contexts, function(i, context) {
                    return context.refresh();
                });
            },
            viewportHeight: function() {
                var _ref;
                return null != (_ref = window.innerHeight) ? _ref : $w.height();
            },
            aggregate: function(contextSelector) {
                var collection, waypoints, _ref;
                return collection = allWaypoints, contextSelector && (collection = null != (_ref = contexts[$(contextSelector).data(contextKey)]) ? _ref.waypoints : void 0), 
                collection ? (waypoints = {
                    horizontal: [],
                    vertical: []
                }, $.each(waypoints, function(axis, arr) {
                    return $.each(collection[axis], function(key, waypoint) {
                        return arr.push(waypoint);
                    }), arr.sort(function(a, b) {
                        return a.offset - b.offset;
                    }), waypoints[axis] = $.map(arr, function(waypoint) {
                        return waypoint.element;
                    }), waypoints[axis] = $.unique(waypoints[axis]);
                }), waypoints) : [];
            },
            above: function(contextSelector) {
                return null == contextSelector && (contextSelector = window), jQMethods._filter(contextSelector, "vertical", function(context, waypoint) {
                    return waypoint.offset <= context.oldScroll.y;
                });
            },
            below: function(contextSelector) {
                return null == contextSelector && (contextSelector = window), jQMethods._filter(contextSelector, "vertical", function(context, waypoint) {
                    return waypoint.offset > context.oldScroll.y;
                });
            },
            left: function(contextSelector) {
                return null == contextSelector && (contextSelector = window), jQMethods._filter(contextSelector, "horizontal", function(context, waypoint) {
                    return waypoint.offset <= context.oldScroll.x;
                });
            },
            right: function(contextSelector) {
                return null == contextSelector && (contextSelector = window), jQMethods._filter(contextSelector, "horizontal", function(context, waypoint) {
                    return waypoint.offset > context.oldScroll.x;
                });
            },
            enable: function() {
                return jQMethods._invoke("enable");
            },
            disable: function() {
                return jQMethods._invoke("disable");
            },
            destroy: function() {
                return jQMethods._invoke("destroy");
            },
            extendFn: function(methodName, f) {
                return methods[methodName] = f;
            },
            _invoke: function(method) {
                var waypoints;
                return waypoints = $.extend({}, allWaypoints.vertical, allWaypoints.horizontal), 
                $.each(waypoints, function(key, waypoint) {
                    return waypoint[method](), !0;
                });
            },
            _filter: function(selector, axis, test) {
                var context, waypoints;
                return (context = contexts[$(selector).data(contextKey)]) ? (waypoints = [], $.each(context.waypoints[axis], function(i, waypoint) {
                    return test(context, waypoint) ? waypoints.push(waypoint) : void 0;
                }), waypoints.sort(function(a, b) {
                    return a.offset - b.offset;
                }), $.map(waypoints, function(waypoint) {
                    return waypoint.element;
                })) : [];
            }
        }, $[wps] = function() {
            var args, method;
            return method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [], 
            jQMethods[method] ? jQMethods[method].apply(null, args) : jQMethods.aggregate.call(null, method);
        }, $[wps].settings = {
            resizeThrottle: 100,
            scrollThrottle: 30
        }, $w.load(function() {
            return $[wps]("refresh");
        });
    });
}.call(this), function($) {
    function getVendorPropertyName(prop) {
        if (prop in div.style) return prop;
        var prefixes = [ "Moz", "Webkit", "O", "ms" ], prop_ = prop.charAt(0).toUpperCase() + prop.substr(1);
        if (prop in div.style) return prop;
        for (var i = 0; i < prefixes.length; ++i) {
            var vendorProp = prefixes[i] + prop_;
            if (vendorProp in div.style) return vendorProp;
        }
    }
    function checkTransform3dSupport() {
        return div.style[support.transform] = "", div.style[support.transform] = "rotateY(90deg)", 
        "" !== div.style[support.transform];
    }
    function Transform(str) {
        return "string" == typeof str && this.parse(str), this;
    }
    function callOrQueue(self, queue, fn) {
        queue === !0 ? self.queue(fn) : queue ? self.queue(queue, fn) : fn();
    }
    function getProperties(props) {
        var re = [];
        return $.each(props, function(key) {
            key = $.camelCase(key), key = $.transit.propertyMap[key] || $.cssProps[key] || key, 
            key = uncamel(key), -1 === $.inArray(key, re) && re.push(key);
        }), re;
    }
    function getTransition(properties, duration, easing, delay) {
        var props = getProperties(properties);
        $.cssEase[easing] && (easing = $.cssEase[easing]);
        var attribs = "" + toMS(duration) + " " + easing;
        parseInt(delay, 10) > 0 && (attribs += " " + toMS(delay));
        var transitions = [];
        return $.each(props, function(i, name) {
            transitions.push(name + " " + attribs);
        }), transitions.join(", ");
    }
    function registerCssHook(prop, isPixels) {
        isPixels || ($.cssNumber[prop] = !0), $.transit.propertyMap[prop] = support.transform, 
        $.cssHooks[prop] = {
            get: function(elem) {
                var t = $(elem).css("transit:transform");
                return t.get(prop);
            },
            set: function(elem, value) {
                var t = $(elem).css("transit:transform");
                t.setFromString(prop, value), $(elem).css({
                    "transit:transform": t
                });
            }
        };
    }
    function uncamel(str) {
        return str.replace(/([A-Z])/g, function(letter) {
            return "-" + letter.toLowerCase();
        });
    }
    function unit(i, units) {
        return "string" != typeof i || i.match(/^[\-0-9\.]+$/) ? "" + i + units : i;
    }
    function toMS(duration) {
        var i = duration;
        return "string" != typeof i || i.match(/^[\-0-9\.]+/) || (i = $.fx.speeds[i] || $.fx.speeds._default), 
        unit(i, "ms");
    }
    $.transit = {
        version: "0.9.9",
        propertyMap: {
            marginLeft: "margin",
            marginRight: "margin",
            marginBottom: "margin",
            marginTop: "margin",
            paddingLeft: "padding",
            paddingRight: "padding",
            paddingBottom: "padding",
            paddingTop: "padding"
        },
        enabled: !0,
        useTransitionEnd: !1
    };
    var div = document.createElement("div"), support = {}, isChrome = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
    support.transition = getVendorPropertyName("transition"), support.transitionDelay = getVendorPropertyName("transitionDelay"), 
    support.transform = getVendorPropertyName("transform"), support.transformOrigin = getVendorPropertyName("transformOrigin"), 
    support.transform3d = checkTransform3dSupport();
    var eventNames = {
        transition: "transitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        WebkitTransition: "webkitTransitionEnd",
        msTransition: "MSTransitionEnd"
    }, transitionEnd = support.transitionEnd = eventNames[support.transition] || null;
    for (var key in support) support.hasOwnProperty(key) && "undefined" == typeof $.support[key] && ($.support[key] = support[key]);
    div = null, $.cssEase = {
        _default: "ease",
        "in": "ease-in",
        out: "ease-out",
        "in-out": "ease-in-out",
        snap: "cubic-bezier(0,1,.5,1)",
        easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
        easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
        easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
        easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
        easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
        easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
        easeOutExpo: "cubic-bezier(.19,1,.22,1)",
        easeInOutExpo: "cubic-bezier(1,0,0,1)",
        easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
        easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
        easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
        easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
        easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
        easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
        easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
        easeOutQuint: "cubic-bezier(.23,1,.32,1)",
        easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
        easeInSine: "cubic-bezier(.47,0,.745,.715)",
        easeOutSine: "cubic-bezier(.39,.575,.565,1)",
        easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
        easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
        easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
        easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
    }, $.cssHooks["transit:transform"] = {
        get: function(elem) {
            return $(elem).data("transform") || new Transform();
        },
        set: function(elem, v) {
            var value = v;
            value instanceof Transform || (value = new Transform(value)), elem.style[support.transform] = "WebkitTransform" !== support.transform || isChrome ? value.toString() : value.toString(!0), 
            $(elem).data("transform", value);
        }
    }, $.cssHooks.transform = {
        set: $.cssHooks["transit:transform"].set
    }, $.fn.jquery < "1.8" && ($.cssHooks.transformOrigin = {
        get: function(elem) {
            return elem.style[support.transformOrigin];
        },
        set: function(elem, value) {
            elem.style[support.transformOrigin] = value;
        }
    }, $.cssHooks.transition = {
        get: function(elem) {
            return elem.style[support.transition];
        },
        set: function(elem, value) {
            elem.style[support.transition] = value;
        }
    }), registerCssHook("scale"), registerCssHook("translate"), registerCssHook("rotate"), 
    registerCssHook("rotateX"), registerCssHook("rotateY"), registerCssHook("rotate3d"), 
    registerCssHook("perspective"), registerCssHook("skewX"), registerCssHook("skewY"), 
    registerCssHook("x", !0), registerCssHook("y", !0), Transform.prototype = {
        setFromString: function(prop, val) {
            var args = "string" == typeof val ? val.split(",") : val.constructor === Array ? val : [ val ];
            args.unshift(prop), Transform.prototype.set.apply(this, args);
        },
        set: function(prop) {
            var args = Array.prototype.slice.apply(arguments, [ 1 ]);
            this.setter[prop] ? this.setter[prop].apply(this, args) : this[prop] = args.join(",");
        },
        get: function(prop) {
            return this.getter[prop] ? this.getter[prop].apply(this) : this[prop] || 0;
        },
        setter: {
            rotate: function(theta) {
                this.rotate = unit(theta, "deg");
            },
            rotateX: function(theta) {
                this.rotateX = unit(theta, "deg");
            },
            rotateY: function(theta) {
                this.rotateY = unit(theta, "deg");
            },
            scale: function(x, y) {
                void 0 === y && (y = x), this.scale = x + "," + y;
            },
            skewX: function(x) {
                this.skewX = unit(x, "deg");
            },
            skewY: function(y) {
                this.skewY = unit(y, "deg");
            },
            perspective: function(dist) {
                this.perspective = unit(dist, "px");
            },
            x: function(x) {
                this.set("translate", x, null);
            },
            y: function(y) {
                this.set("translate", null, y);
            },
            translate: function(x, y) {
                void 0 === this._translateX && (this._translateX = 0), void 0 === this._translateY && (this._translateY = 0), 
                null !== x && void 0 !== x && (this._translateX = unit(x, "px")), null !== y && void 0 !== y && (this._translateY = unit(y, "px")), 
                this.translate = this._translateX + "," + this._translateY;
            }
        },
        getter: {
            x: function() {
                return this._translateX || 0;
            },
            y: function() {
                return this._translateY || 0;
            },
            scale: function() {
                var s = (this.scale || "1,1").split(",");
                return s[0] && (s[0] = parseFloat(s[0])), s[1] && (s[1] = parseFloat(s[1])), s[0] === s[1] ? s[0] : s;
            },
            rotate3d: function() {
                for (var s = (this.rotate3d || "0,0,0,0deg").split(","), i = 0; 3 >= i; ++i) s[i] && (s[i] = parseFloat(s[i]));
                return s[3] && (s[3] = unit(s[3], "deg")), s;
            }
        },
        parse: function(str) {
            var self = this;
            str.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function(x, prop, val) {
                self.setFromString(prop, val);
            });
        },
        toString: function(use3d) {
            var re = [];
            for (var i in this) if (this.hasOwnProperty(i)) {
                if (!support.transform3d && ("rotateX" === i || "rotateY" === i || "perspective" === i || "transformOrigin" === i)) continue;
                "_" !== i[0] && (use3d && "scale" === i ? re.push(i + "3d(" + this[i] + ",1)") : use3d && "translate" === i ? re.push(i + "3d(" + this[i] + ",0)") : re.push(i + "(" + this[i] + ")"));
            }
            return re.join(" ");
        }
    }, $.fn.transition = $.fn.transit = function(properties, duration, easing, callback) {
        var self = this, delay = 0, queue = !0, theseProperties = jQuery.extend(!0, {}, properties);
        "function" == typeof duration && (callback = duration, duration = void 0), "object" == typeof duration && (easing = duration.easing, 
        delay = duration.delay || 0, queue = duration.queue || !0, callback = duration.complete, 
        duration = duration.duration), "function" == typeof easing && (callback = easing, 
        easing = void 0), "undefined" != typeof theseProperties.easing && (easing = theseProperties.easing, 
        delete theseProperties.easing), "undefined" != typeof theseProperties.duration && (duration = theseProperties.duration, 
        delete theseProperties.duration), "undefined" != typeof theseProperties.complete && (callback = theseProperties.complete, 
        delete theseProperties.complete), "undefined" != typeof theseProperties.queue && (queue = theseProperties.queue, 
        delete theseProperties.queue), "undefined" != typeof theseProperties.delay && (delay = theseProperties.delay, 
        delete theseProperties.delay), "undefined" == typeof duration && (duration = $.fx.speeds._default), 
        "undefined" == typeof easing && (easing = $.cssEase._default), duration = toMS(duration);
        var transitionValue = getTransition(theseProperties, duration, easing, delay), work = $.transit.enabled && support.transition, i = work ? parseInt(duration, 10) + parseInt(delay, 10) : 0;
        if (0 === i) {
            var fn = function(next) {
                self.css(theseProperties), callback && callback.apply(self), next && next();
            };
            return callOrQueue(self, queue, fn), self;
        }
        var oldTransitions = {}, run = function(nextCall) {
            var bound = !1, cb = function() {
                bound && self.unbind(transitionEnd, cb), i > 0 && self.each(function() {
                    this.style[support.transition] = oldTransitions[this] || null;
                }), "function" == typeof callback && callback.apply(self), "function" == typeof nextCall && nextCall();
            };
            i > 0 && transitionEnd && $.transit.useTransitionEnd ? (bound = !0, self.bind(transitionEnd, cb)) : window.setTimeout(cb, i), 
            self.each(function() {
                i > 0 && (this.style[support.transition] = transitionValue), $(this).css(properties);
            });
        }, deferredRun = function(next) {
            this.offsetWidth, run(next);
        };
        return callOrQueue(self, queue, deferredRun), this;
    }, $.transit.getTransitionValue = getTransition;
}(jQuery), !function(t, e, i) {
    var n = t.L, o = {};
    o.version = "0.6.4", "object" == typeof module && "object" == typeof module.exports ? module.exports = o : "function" == typeof define && define.amd && define(o), 
    o.noConflict = function() {
        return t.L = n, this;
    }, t.L = o, o.Util = {
        extend: function(t) {
            var e, i, n, o, s = Array.prototype.slice.call(arguments, 1);
            for (i = 0, n = s.length; n > i; i++) {
                o = s[i] || {};
                for (e in o) o.hasOwnProperty(e) && (t[e] = o[e]);
            }
            return t;
        },
        bind: function(t, e) {
            var i = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;
            return function() {
                return t.apply(e, i || arguments);
            };
        },
        stamp: function() {
            var t = 0, e = "_leaflet_id";
            return function(i) {
                return i[e] = i[e] || ++t, i[e];
            };
        }(),
        invokeEach: function(t, e, i) {
            var n, o;
            if ("object" == typeof t) {
                o = Array.prototype.slice.call(arguments, 3);
                for (n in t) e.apply(i, [ n, t[n] ].concat(o));
                return !0;
            }
            return !1;
        },
        limitExecByInterval: function(t, e, i) {
            var n, o;
            return function s() {
                var a = arguments;
                return n ? (o = !0, void 0) : (n = !0, setTimeout(function() {
                    n = !1, o && (s.apply(i, a), o = !1);
                }, e), t.apply(i, a), void 0);
            };
        },
        falseFn: function() {
            return !1;
        },
        formatNum: function(t, e) {
            var i = Math.pow(10, e || 5);
            return Math.round(t * i) / i;
        },
        trim: function(t) {
            return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "");
        },
        splitWords: function(t) {
            return o.Util.trim(t).split(/\s+/);
        },
        setOptions: function(t, e) {
            return t.options = o.extend({}, t.options, e), t.options;
        },
        getParamString: function(t, e, i) {
            var n = [];
            for (var o in t) n.push(encodeURIComponent(i ? o.toUpperCase() : o) + "=" + encodeURIComponent(t[o]));
            return (e && -1 !== e.indexOf("?") ? "&" : "?") + n.join("&");
        },
        template: function(t, e) {
            return t.replace(/\{ *([\w_]+) *\}/g, function(t, n) {
                var o = e[n];
                if (o === i) throw new Error("No value provided for variable " + t);
                return "function" == typeof o && (o = o(e)), o;
            });
        },
        isArray: function(t) {
            return "[object Array]" === Object.prototype.toString.call(t);
        },
        emptyImageUrl: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
    }, function() {
        function e(e) {
            var i, n, o = [ "webkit", "moz", "o", "ms" ];
            for (i = 0; i < o.length && !n; i++) n = t[o[i] + e];
            return n;
        }
        function i(e) {
            var i = +new Date(), o = Math.max(0, 16 - (i - n));
            return n = i + o, t.setTimeout(e, o);
        }
        var n = 0, s = t.requestAnimationFrame || e("RequestAnimationFrame") || i, a = t.cancelAnimationFrame || e("CancelAnimationFrame") || e("CancelRequestAnimationFrame") || function(e) {
            t.clearTimeout(e);
        };
        o.Util.requestAnimFrame = function(e, n, a, r) {
            return e = o.bind(e, n), a && s === i ? (e(), void 0) : s.call(t, e, r);
        }, o.Util.cancelAnimFrame = function(e) {
            e && a.call(t, e);
        };
    }(), o.extend = o.Util.extend, o.bind = o.Util.bind, o.stamp = o.Util.stamp, o.setOptions = o.Util.setOptions, 
    o.Class = function() {}, o.Class.extend = function(t) {
        var e = function() {
            this.initialize && this.initialize.apply(this, arguments), this._initHooks && this.callInitHooks();
        }, i = function() {};
        i.prototype = this.prototype;
        var n = new i();
        n.constructor = e, e.prototype = n;
        for (var s in this) this.hasOwnProperty(s) && "prototype" !== s && (e[s] = this[s]);
        t.statics && (o.extend(e, t.statics), delete t.statics), t.includes && (o.Util.extend.apply(null, [ n ].concat(t.includes)), 
        delete t.includes), t.options && n.options && (t.options = o.extend({}, n.options, t.options)), 
        o.extend(n, t), n._initHooks = [];
        var a = this;
        return e.__super__ = a.prototype, n.callInitHooks = function() {
            if (!this._initHooksCalled) {
                a.prototype.callInitHooks && a.prototype.callInitHooks.call(this), this._initHooksCalled = !0;
                for (var t = 0, e = n._initHooks.length; e > t; t++) n._initHooks[t].call(this);
            }
        }, e;
    }, o.Class.include = function(t) {
        o.extend(this.prototype, t);
    }, o.Class.mergeOptions = function(t) {
        o.extend(this.prototype.options, t);
    }, o.Class.addInitHook = function(t) {
        var e = Array.prototype.slice.call(arguments, 1), i = "function" == typeof t ? t : function() {
            this[t].apply(this, e);
        };
        this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(i);
    };
    var s = "_leaflet_events";
    o.Mixin = {}, o.Mixin.Events = {
        addEventListener: function(t, e, i) {
            if (o.Util.invokeEach(t, this.addEventListener, this, e, i)) return this;
            var n, a, r, h, l, u, c, d = this[s] = this[s] || {}, p = i && o.stamp(i);
            for (t = o.Util.splitWords(t), n = 0, a = t.length; a > n; n++) r = {
                action: e,
                context: i || this
            }, h = t[n], i ? (l = h + "_idx", u = l + "_len", c = d[l] = d[l] || {}, c[p] || (c[p] = [], 
            d[u] = (d[u] || 0) + 1), c[p].push(r)) : (d[h] = d[h] || [], d[h].push(r));
            return this;
        },
        hasEventListeners: function(t) {
            var e = this[s];
            return !!e && (t in e && e[t].length > 0 || t + "_idx" in e && e[t + "_idx_len"] > 0);
        },
        removeEventListener: function(t, e, i) {
            if (!this[s]) return this;
            if (!t) return this.clearAllEventListeners();
            if (o.Util.invokeEach(t, this.removeEventListener, this, e, i)) return this;
            var n, a, r, h, l, u, c, d, p, _ = this[s], m = i && o.stamp(i);
            for (t = o.Util.splitWords(t), n = 0, a = t.length; a > n; n++) if (r = t[n], u = r + "_idx", 
            c = u + "_len", d = _[u], e) {
                if (h = i && d ? d[m] : _[r]) {
                    for (l = h.length - 1; l >= 0; l--) h[l].action !== e || i && h[l].context !== i || (p = h.splice(l, 1), 
                    p[0].action = o.Util.falseFn);
                    i && d && 0 === h.length && (delete d[m], _[c]--);
                }
            } else delete _[r], delete _[u];
            return this;
        },
        clearAllEventListeners: function() {
            return delete this[s], this;
        },
        fireEvent: function(t, e) {
            if (!this.hasEventListeners(t)) return this;
            var i, n, a, r, h, l = o.Util.extend({}, e, {
                type: t,
                target: this
            }), u = this[s];
            if (u[t]) for (i = u[t].slice(), n = 0, a = i.length; a > n; n++) i[n].action.call(i[n].context || this, l);
            r = u[t + "_idx"];
            for (h in r) if (i = r[h].slice()) for (n = 0, a = i.length; a > n; n++) i[n].action.call(i[n].context || this, l);
            return this;
        },
        addOneTimeEventListener: function(t, e, i) {
            if (o.Util.invokeEach(t, this.addOneTimeEventListener, this, e, i)) return this;
            var n = o.bind(function() {
                this.removeEventListener(t, e, i).removeEventListener(t, n, i);
            }, this);
            return this.addEventListener(t, e, i).addEventListener(t, n, i);
        }
    }, o.Mixin.Events.on = o.Mixin.Events.addEventListener, o.Mixin.Events.off = o.Mixin.Events.removeEventListener, 
    o.Mixin.Events.once = o.Mixin.Events.addOneTimeEventListener, o.Mixin.Events.fire = o.Mixin.Events.fireEvent, 
    function() {
        var n = !!t.ActiveXObject, s = n && !t.XMLHttpRequest, a = n && !e.querySelector, r = n && !e.addEventListener, h = navigator.userAgent.toLowerCase(), l = -1 !== h.indexOf("webkit"), u = -1 !== h.indexOf("chrome"), c = -1 !== h.indexOf("phantom"), d = -1 !== h.indexOf("android"), p = -1 !== h.search("android [23]"), _ = typeof orientation != i + "", m = t.navigator && t.navigator.msPointerEnabled && t.navigator.msMaxTouchPoints, f = "devicePixelRatio" in t && t.devicePixelRatio > 1 || "matchMedia" in t && t.matchMedia("(min-resolution:144dpi)") && t.matchMedia("(min-resolution:144dpi)").matches, g = e.documentElement, v = n && "transition" in g.style, y = "WebKitCSSMatrix" in t && "m11" in new t.WebKitCSSMatrix(), L = "MozPerspective" in g.style, P = "OTransition" in g.style, x = !t.L_DISABLE_3D && (v || y || L || P) && !c, w = !t.L_NO_TOUCH && !c && function() {
            var t = "ontouchstart";
            if (m || t in g) return !0;
            var i = e.createElement("div"), n = !1;
            return i.setAttribute ? (i.setAttribute(t, "return;"), "function" == typeof i[t] && (n = !0), 
            i.removeAttribute(t), i = null, n) : !1;
        }();
        o.Browser = {
            ie: n,
            ie6: s,
            ie7: a,
            ielt9: r,
            webkit: l,
            android: d,
            android23: p,
            chrome: u,
            ie3d: v,
            webkit3d: y,
            gecko3d: L,
            opera3d: P,
            any3d: x,
            mobile: _,
            mobileWebkit: _ && l,
            mobileWebkit3d: _ && y,
            mobileOpera: _ && t.opera,
            touch: w,
            msTouch: m,
            retina: f
        };
    }(), o.Point = function(t, e, i) {
        this.x = i ? Math.round(t) : t, this.y = i ? Math.round(e) : e;
    }, o.Point.prototype = {
        clone: function() {
            return new o.Point(this.x, this.y);
        },
        add: function(t) {
            return this.clone()._add(o.point(t));
        },
        _add: function(t) {
            return this.x += t.x, this.y += t.y, this;
        },
        subtract: function(t) {
            return this.clone()._subtract(o.point(t));
        },
        _subtract: function(t) {
            return this.x -= t.x, this.y -= t.y, this;
        },
        divideBy: function(t) {
            return this.clone()._divideBy(t);
        },
        _divideBy: function(t) {
            return this.x /= t, this.y /= t, this;
        },
        multiplyBy: function(t) {
            return this.clone()._multiplyBy(t);
        },
        _multiplyBy: function(t) {
            return this.x *= t, this.y *= t, this;
        },
        round: function() {
            return this.clone()._round();
        },
        _round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
        },
        floor: function() {
            return this.clone()._floor();
        },
        _floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
        },
        distanceTo: function(t) {
            t = o.point(t);
            var e = t.x - this.x, i = t.y - this.y;
            return Math.sqrt(e * e + i * i);
        },
        equals: function(t) {
            return t = o.point(t), t.x === this.x && t.y === this.y;
        },
        contains: function(t) {
            return t = o.point(t), Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y);
        },
        toString: function() {
            return "Point(" + o.Util.formatNum(this.x) + ", " + o.Util.formatNum(this.y) + ")";
        }
    }, o.point = function(t, e, n) {
        return t instanceof o.Point ? t : o.Util.isArray(t) ? new o.Point(t[0], t[1]) : t === i || null === t ? t : new o.Point(t, e, n);
    }, o.Bounds = function(t, e) {
        if (t) for (var i = e ? [ t, e ] : t, n = 0, o = i.length; o > n; n++) this.extend(i[n]);
    }, o.Bounds.prototype = {
        extend: function(t) {
            return t = o.point(t), this.min || this.max ? (this.min.x = Math.min(t.x, this.min.x), 
            this.max.x = Math.max(t.x, this.max.x), this.min.y = Math.min(t.y, this.min.y), 
            this.max.y = Math.max(t.y, this.max.y)) : (this.min = t.clone(), this.max = t.clone()), 
            this;
        },
        getCenter: function(t) {
            return new o.Point((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, t);
        },
        getBottomLeft: function() {
            return new o.Point(this.min.x, this.max.y);
        },
        getTopRight: function() {
            return new o.Point(this.max.x, this.min.y);
        },
        getSize: function() {
            return this.max.subtract(this.min);
        },
        contains: function(t) {
            var e, i;
            return t = "number" == typeof t[0] || t instanceof o.Point ? o.point(t) : o.bounds(t), 
            t instanceof o.Bounds ? (e = t.min, i = t.max) : e = i = t, e.x >= this.min.x && i.x <= this.max.x && e.y >= this.min.y && i.y <= this.max.y;
        },
        intersects: function(t) {
            t = o.bounds(t);
            var e = this.min, i = this.max, n = t.min, s = t.max, a = s.x >= e.x && n.x <= i.x, r = s.y >= e.y && n.y <= i.y;
            return a && r;
        },
        isValid: function() {
            return !(!this.min || !this.max);
        }
    }, o.bounds = function(t, e) {
        return !t || t instanceof o.Bounds ? t : new o.Bounds(t, e);
    }, o.Transformation = function(t, e, i, n) {
        this._a = t, this._b = e, this._c = i, this._d = n;
    }, o.Transformation.prototype = {
        transform: function(t, e) {
            return this._transform(t.clone(), e);
        },
        _transform: function(t, e) {
            return e = e || 1, t.x = e * (this._a * t.x + this._b), t.y = e * (this._c * t.y + this._d), 
            t;
        },
        untransform: function(t, e) {
            return e = e || 1, new o.Point((t.x / e - this._b) / this._a, (t.y / e - this._d) / this._c);
        }
    }, o.DomUtil = {
        get: function(t) {
            return "string" == typeof t ? e.getElementById(t) : t;
        },
        getStyle: function(t, i) {
            var n = t.style[i];
            if (!n && t.currentStyle && (n = t.currentStyle[i]), (!n || "auto" === n) && e.defaultView) {
                var o = e.defaultView.getComputedStyle(t, null);
                n = o ? o[i] : null;
            }
            return "auto" === n ? null : n;
        },
        getViewportOffset: function(t) {
            var i, n = 0, s = 0, a = t, r = e.body, h = e.documentElement, l = o.Browser.ie7;
            do {
                if (n += a.offsetTop || 0, s += a.offsetLeft || 0, n += parseInt(o.DomUtil.getStyle(a, "borderTopWidth"), 10) || 0, 
                s += parseInt(o.DomUtil.getStyle(a, "borderLeftWidth"), 10) || 0, i = o.DomUtil.getStyle(a, "position"), 
                a.offsetParent === r && "absolute" === i) break;
                if ("fixed" === i) {
                    n += r.scrollTop || h.scrollTop || 0, s += r.scrollLeft || h.scrollLeft || 0;
                    break;
                }
                if ("relative" === i && !a.offsetLeft) {
                    var u = o.DomUtil.getStyle(a, "width"), c = o.DomUtil.getStyle(a, "max-width"), d = a.getBoundingClientRect();
                    ("none" !== u || "none" !== c) && (s += d.left + a.clientLeft), n += d.top + (r.scrollTop || h.scrollTop || 0);
                    break;
                }
                a = a.offsetParent;
            } while (a);
            a = t;
            do {
                if (a === r) break;
                n -= a.scrollTop || 0, s -= a.scrollLeft || 0, o.DomUtil.documentIsLtr() || !o.Browser.webkit && !l || (s += a.scrollWidth - a.clientWidth, 
                l && "hidden" !== o.DomUtil.getStyle(a, "overflow-y") && "hidden" !== o.DomUtil.getStyle(a, "overflow") && (s += 17)), 
                a = a.parentNode;
            } while (a);
            return new o.Point(s, n);
        },
        documentIsLtr: function() {
            return o.DomUtil._docIsLtrCached || (o.DomUtil._docIsLtrCached = !0, o.DomUtil._docIsLtr = "ltr" === o.DomUtil.getStyle(e.body, "direction")), 
            o.DomUtil._docIsLtr;
        },
        create: function(t, i, n) {
            var o = e.createElement(t);
            return o.className = i, n && n.appendChild(o), o;
        },
        hasClass: function(t, e) {
            return t.className.length > 0 && new RegExp("(^|\\s)" + e + "(\\s|$)").test(t.className);
        },
        addClass: function(t, e) {
            o.DomUtil.hasClass(t, e) || (t.className += (t.className ? " " : "") + e);
        },
        removeClass: function(t, e) {
            t.className = o.Util.trim((" " + t.className + " ").replace(" " + e + " ", " "));
        },
        setOpacity: function(t, e) {
            if ("opacity" in t.style) t.style.opacity = e; else if ("filter" in t.style) {
                var i = !1, n = "DXImageTransform.Microsoft.Alpha";
                try {
                    i = t.filters.item(n);
                } catch (o) {
                    if (1 === e) return;
                }
                e = Math.round(100 * e), i ? (i.Enabled = 100 !== e, i.Opacity = e) : t.style.filter += " progid:" + n + "(opacity=" + e + ")";
            }
        },
        testProp: function(t) {
            for (var i = e.documentElement.style, n = 0; n < t.length; n++) if (t[n] in i) return t[n];
            return !1;
        },
        getTranslateString: function(t) {
            var e = o.Browser.webkit3d, i = "translate" + (e ? "3d" : "") + "(", n = (e ? ",0" : "") + ")";
            return i + t.x + "px," + t.y + "px" + n;
        },
        getScaleString: function(t, e) {
            var i = o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1 * t))), n = " scale(" + t + ") ";
            return i + n;
        },
        setPosition: function(t, e, i) {
            t._leaflet_pos = e, !i && o.Browser.any3d ? (t.style[o.DomUtil.TRANSFORM] = o.DomUtil.getTranslateString(e), 
            o.Browser.mobileWebkit3d && (t.style.WebkitBackfaceVisibility = "hidden")) : (t.style.left = e.x + "px", 
            t.style.top = e.y + "px");
        },
        getPosition: function(t) {
            return t._leaflet_pos;
        }
    }, o.DomUtil.TRANSFORM = o.DomUtil.testProp([ "transform", "WebkitTransform", "OTransform", "MozTransform", "msTransform" ]), 
    o.DomUtil.TRANSITION = o.DomUtil.testProp([ "webkitTransition", "transition", "OTransition", "MozTransition", "msTransition" ]), 
    o.DomUtil.TRANSITION_END = "webkitTransition" === o.DomUtil.TRANSITION || "OTransition" === o.DomUtil.TRANSITION ? o.DomUtil.TRANSITION + "End" : "transitionend", 
    function() {
        var i = o.DomUtil.testProp([ "userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect" ]);
        o.extend(o.DomUtil, {
            disableTextSelection: function() {
                if (o.DomEvent.on(t, "selectstart", o.DomEvent.preventDefault), i) {
                    var n = e.documentElement.style;
                    this._userSelect = n[i], n[i] = "none";
                }
            },
            enableTextSelection: function() {
                o.DomEvent.off(t, "selectstart", o.DomEvent.preventDefault), i && (e.documentElement.style[i] = this._userSelect, 
                delete this._userSelect);
            },
            disableImageDrag: function() {
                o.DomEvent.on(t, "dragstart", o.DomEvent.preventDefault);
            },
            enableImageDrag: function() {
                o.DomEvent.off(t, "dragstart", o.DomEvent.preventDefault);
            }
        });
    }(), o.LatLng = function(t, e) {
        var i = parseFloat(t), n = parseFloat(e);
        if (isNaN(i) || isNaN(n)) throw new Error("Invalid LatLng object: (" + t + ", " + e + ")");
        this.lat = i, this.lng = n;
    }, o.extend(o.LatLng, {
        DEG_TO_RAD: Math.PI / 180,
        RAD_TO_DEG: 180 / Math.PI,
        MAX_MARGIN: 1e-9
    }), o.LatLng.prototype = {
        equals: function(t) {
            if (!t) return !1;
            t = o.latLng(t);
            var e = Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng));
            return e <= o.LatLng.MAX_MARGIN;
        },
        toString: function(t) {
            return "LatLng(" + o.Util.formatNum(this.lat, t) + ", " + o.Util.formatNum(this.lng, t) + ")";
        },
        distanceTo: function(t) {
            t = o.latLng(t);
            var e = 6378137, i = o.LatLng.DEG_TO_RAD, n = (t.lat - this.lat) * i, s = (t.lng - this.lng) * i, a = this.lat * i, r = t.lat * i, h = Math.sin(n / 2), l = Math.sin(s / 2), u = h * h + l * l * Math.cos(a) * Math.cos(r);
            return 2 * e * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u));
        },
        wrap: function(t, e) {
            var i = this.lng;
            return t = t || -180, e = e || 180, i = (i + e) % (e - t) + (t > i || i === e ? e : t), 
            new o.LatLng(this.lat, i);
        }
    }, o.latLng = function(t, e) {
        return t instanceof o.LatLng ? t : o.Util.isArray(t) ? new o.LatLng(t[0], t[1]) : t === i || null === t ? t : "object" == typeof t && "lat" in t ? new o.LatLng(t.lat, "lng" in t ? t.lng : t.lon) : new o.LatLng(t, e);
    }, o.LatLngBounds = function(t, e) {
        if (t) for (var i = e ? [ t, e ] : t, n = 0, o = i.length; o > n; n++) this.extend(i[n]);
    }, o.LatLngBounds.prototype = {
        extend: function(t) {
            return t ? (t = "number" == typeof t[0] || "string" == typeof t[0] || t instanceof o.LatLng ? o.latLng(t) : o.latLngBounds(t), 
            t instanceof o.LatLng ? this._southWest || this._northEast ? (this._southWest.lat = Math.min(t.lat, this._southWest.lat), 
            this._southWest.lng = Math.min(t.lng, this._southWest.lng), this._northEast.lat = Math.max(t.lat, this._northEast.lat), 
            this._northEast.lng = Math.max(t.lng, this._northEast.lng)) : (this._southWest = new o.LatLng(t.lat, t.lng), 
            this._northEast = new o.LatLng(t.lat, t.lng)) : t instanceof o.LatLngBounds && (this.extend(t._southWest), 
            this.extend(t._northEast)), this) : this;
        },
        pad: function(t) {
            var e = this._southWest, i = this._northEast, n = Math.abs(e.lat - i.lat) * t, s = Math.abs(e.lng - i.lng) * t;
            return new o.LatLngBounds(new o.LatLng(e.lat - n, e.lng - s), new o.LatLng(i.lat + n, i.lng + s));
        },
        getCenter: function() {
            return new o.LatLng((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2);
        },
        getSouthWest: function() {
            return this._southWest;
        },
        getNorthEast: function() {
            return this._northEast;
        },
        getNorthWest: function() {
            return new o.LatLng(this.getNorth(), this.getWest());
        },
        getSouthEast: function() {
            return new o.LatLng(this.getSouth(), this.getEast());
        },
        getWest: function() {
            return this._southWest.lng;
        },
        getSouth: function() {
            return this._southWest.lat;
        },
        getEast: function() {
            return this._northEast.lng;
        },
        getNorth: function() {
            return this._northEast.lat;
        },
        contains: function(t) {
            t = "number" == typeof t[0] || t instanceof o.LatLng ? o.latLng(t) : o.latLngBounds(t);
            var e, i, n = this._southWest, s = this._northEast;
            return t instanceof o.LatLngBounds ? (e = t.getSouthWest(), i = t.getNorthEast()) : e = i = t, 
            e.lat >= n.lat && i.lat <= s.lat && e.lng >= n.lng && i.lng <= s.lng;
        },
        intersects: function(t) {
            t = o.latLngBounds(t);
            var e = this._southWest, i = this._northEast, n = t.getSouthWest(), s = t.getNorthEast(), a = s.lat >= e.lat && n.lat <= i.lat, r = s.lng >= e.lng && n.lng <= i.lng;
            return a && r;
        },
        toBBoxString: function() {
            return [ this.getWest(), this.getSouth(), this.getEast(), this.getNorth() ].join(",");
        },
        equals: function(t) {
            return t ? (t = o.latLngBounds(t), this._southWest.equals(t.getSouthWest()) && this._northEast.equals(t.getNorthEast())) : !1;
        },
        isValid: function() {
            return !(!this._southWest || !this._northEast);
        }
    }, o.latLngBounds = function(t, e) {
        return !t || t instanceof o.LatLngBounds ? t : new o.LatLngBounds(t, e);
    }, o.Projection = {}, o.Projection.SphericalMercator = {
        MAX_LATITUDE: 85.0511287798,
        project: function(t) {
            var e = o.LatLng.DEG_TO_RAD, i = this.MAX_LATITUDE, n = Math.max(Math.min(i, t.lat), -i), s = t.lng * e, a = n * e;
            return a = Math.log(Math.tan(Math.PI / 4 + a / 2)), new o.Point(s, a);
        },
        unproject: function(t) {
            var e = o.LatLng.RAD_TO_DEG, i = t.x * e, n = (2 * Math.atan(Math.exp(t.y)) - Math.PI / 2) * e;
            return new o.LatLng(n, i);
        }
    }, o.Projection.LonLat = {
        project: function(t) {
            return new o.Point(t.lng, t.lat);
        },
        unproject: function(t) {
            return new o.LatLng(t.y, t.x);
        }
    }, o.CRS = {
        latLngToPoint: function(t, e) {
            var i = this.projection.project(t), n = this.scale(e);
            return this.transformation._transform(i, n);
        },
        pointToLatLng: function(t, e) {
            var i = this.scale(e), n = this.transformation.untransform(t, i);
            return this.projection.unproject(n);
        },
        project: function(t) {
            return this.projection.project(t);
        },
        scale: function(t) {
            return 256 * Math.pow(2, t);
        }
    }, o.CRS.Simple = o.extend({}, o.CRS, {
        projection: o.Projection.LonLat,
        transformation: new o.Transformation(1, 0, -1, 0),
        scale: function(t) {
            return Math.pow(2, t);
        }
    }), o.CRS.EPSG3857 = o.extend({}, o.CRS, {
        code: "EPSG:3857",
        projection: o.Projection.SphericalMercator,
        transformation: new o.Transformation(.5 / Math.PI, .5, -.5 / Math.PI, .5),
        project: function(t) {
            var e = this.projection.project(t), i = 6378137;
            return e.multiplyBy(i);
        }
    }), o.CRS.EPSG900913 = o.extend({}, o.CRS.EPSG3857, {
        code: "EPSG:900913"
    }), o.CRS.EPSG4326 = o.extend({}, o.CRS, {
        code: "EPSG:4326",
        projection: o.Projection.LonLat,
        transformation: new o.Transformation(1 / 360, .5, -1 / 360, .5)
    }), o.Map = o.Class.extend({
        includes: o.Mixin.Events,
        options: {
            crs: o.CRS.EPSG3857,
            fadeAnimation: o.DomUtil.TRANSITION && !o.Browser.android23,
            trackResize: !0,
            markerZoomAnimation: o.DomUtil.TRANSITION && o.Browser.any3d
        },
        initialize: function(t, e) {
            e = o.setOptions(this, e), this._initContainer(t), this._initLayout(), this._initEvents(), 
            e.maxBounds && this.setMaxBounds(e.maxBounds), e.center && e.zoom !== i && this.setView(o.latLng(e.center), e.zoom, {
                reset: !0
            }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._tileLayersNum = 0, 
            this.callInitHooks(), this._addLayers(e.layers);
        },
        setView: function(t, e) {
            return this._resetView(o.latLng(t), this._limitZoom(e)), this;
        },
        setZoom: function(t, e) {
            return this.setView(this.getCenter(), t, {
                zoom: e
            });
        },
        zoomIn: function(t, e) {
            return this.setZoom(this._zoom + (t || 1), e);
        },
        zoomOut: function(t, e) {
            return this.setZoom(this._zoom - (t || 1), e);
        },
        setZoomAround: function(t, e, i) {
            var n = this.getZoomScale(e), s = this.getSize().divideBy(2), a = t instanceof o.Point ? t : this.latLngToContainerPoint(t), r = a.subtract(s).multiplyBy(1 - 1 / n), h = this.containerPointToLatLng(s.add(r));
            return this.setView(h, e, {
                zoom: i
            });
        },
        fitBounds: function(t, e) {
            e = e || {}, t = t.getBounds ? t.getBounds() : o.latLngBounds(t);
            var i = o.point(e.paddingTopLeft || e.padding || [ 0, 0 ]), n = o.point(e.paddingBottomRight || e.padding || [ 0, 0 ]), s = this.getBoundsZoom(t, !1, i.add(n)), a = n.subtract(i).divideBy(2), r = this.project(t.getSouthWest(), s), h = this.project(t.getNorthEast(), s), l = this.unproject(r.add(h).divideBy(2).add(a), s);
            return this.setView(l, s, e);
        },
        fitWorld: function(t) {
            return this.fitBounds([ [ -90, -180 ], [ 90, 180 ] ], t);
        },
        panTo: function(t, e) {
            return this.setView(t, this._zoom, {
                pan: e
            });
        },
        panBy: function(t) {
            return this.fire("movestart"), this._rawPanBy(o.point(t)), this.fire("move"), this.fire("moveend");
        },
        setMaxBounds: function(t, e) {
            if (t = o.latLngBounds(t), this.options.maxBounds = t, !t) return this._boundsMinZoom = null, 
            this.off("moveend", this._panInsideMaxBounds, this), this;
            var i = this.getBoundsZoom(t, !0);
            return this._boundsMinZoom = i, this._loaded && (this._zoom < i ? this.setView(t.getCenter(), i, e) : this.panInsideBounds(t)), 
            this.on("moveend", this._panInsideMaxBounds, this), this;
        },
        panInsideBounds: function(t) {
            t = o.latLngBounds(t);
            var e = this.getPixelBounds(), i = e.getBottomLeft(), n = e.getTopRight(), s = this.project(t.getSouthWest()), a = this.project(t.getNorthEast()), r = 0, h = 0;
            return n.y < a.y && (h = Math.ceil(a.y - n.y)), n.x > a.x && (r = Math.floor(a.x - n.x)), 
            i.y > s.y && (h = Math.floor(s.y - i.y)), i.x < s.x && (r = Math.ceil(s.x - i.x)), 
            r || h ? this.panBy([ r, h ]) : this;
        },
        addLayer: function(t) {
            var e = o.stamp(t);
            return this._layers[e] ? this : (this._layers[e] = t, !t.options || isNaN(t.options.maxZoom) && isNaN(t.options.minZoom) || (this._zoomBoundLayers[e] = t, 
            this._updateZoomLevels()), this.options.zoomAnimation && o.TileLayer && t instanceof o.TileLayer && (this._tileLayersNum++, 
            this._tileLayersToLoad++, t.on("load", this._onTileLayerLoad, this)), this._loaded && this._layerAdd(t), 
            this);
        },
        removeLayer: function(t) {
            var e = o.stamp(t);
            return this._layers[e] ? (this._loaded && t.onRemove(this), delete this._layers[e], 
            this._loaded && this.fire("layerremove", {
                layer: t
            }), this._zoomBoundLayers[e] && (delete this._zoomBoundLayers[e], this._updateZoomLevels()), 
            this.options.zoomAnimation && o.TileLayer && t instanceof o.TileLayer && (this._tileLayersNum--, 
            this._tileLayersToLoad--, t.off("load", this._onTileLayerLoad, this)), this) : void 0;
        },
        hasLayer: function(t) {
            return t ? o.stamp(t) in this._layers : !1;
        },
        eachLayer: function(t, e) {
            for (var i in this._layers) t.call(e, this._layers[i]);
            return this;
        },
        invalidateSize: function(t) {
            t = o.extend({
                animate: !1,
                pan: !0
            }, t === !0 ? {
                animate: !0
            } : t);
            var e = this.getSize();
            if (this._sizeChanged = !0, this.options.maxBounds && this.setMaxBounds(this.options.maxBounds), 
            !this._loaded) return this;
            var i = this.getSize(), n = e.subtract(i).divideBy(2).round();
            return n.x || n.y ? (t.animate && t.pan ? this.panBy(n) : (t.pan && this._rawPanBy(n), 
            this.fire("move"), clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(o.bind(this.fire, this, "moveend"), 200)), 
            this.fire("resize", {
                oldSize: e,
                newSize: i
            })) : this;
        },
        addHandler: function(t, e) {
            if (e) {
                var i = this[t] = new e(this);
                return this._handlers.push(i), this.options[t] && i.enable(), this;
            }
        },
        remove: function() {
            return this._loaded && this.fire("unload"), this._initEvents("off"), delete this._container._leaflet, 
            this._clearPanes(), this._clearControlPos && this._clearControlPos(), this._clearHandlers(), 
            this;
        },
        getCenter: function() {
            return this._checkIfLoaded(), this._moved() ? this.layerPointToLatLng(this._getCenterLayerPoint()) : this._initialCenter;
        },
        getZoom: function() {
            return this._zoom;
        },
        getBounds: function() {
            var t = this.getPixelBounds(), e = this.unproject(t.getBottomLeft()), i = this.unproject(t.getTopRight());
            return new o.LatLngBounds(e, i);
        },
        getMinZoom: function() {
            var t = this._layersMinZoom === i ? 0 : this._layersMinZoom, e = this._boundsMinZoom === i ? 0 : this._boundsMinZoom;
            return this.options.minZoom === i ? Math.max(t, e) : this.options.minZoom;
        },
        getMaxZoom: function() {
            return this.options.maxZoom === i ? this._layersMaxZoom === i ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom;
        },
        getBoundsZoom: function(t, e, i) {
            t = o.latLngBounds(t);
            var n, s = this.getMinZoom() - (e ? 1 : 0), a = this.getMaxZoom(), r = this.getSize(), h = t.getNorthWest(), l = t.getSouthEast(), u = !0;
            i = o.point(i || [ 0, 0 ]);
            do s++, n = this.project(l, s).subtract(this.project(h, s)).add(i), u = e ? n.x < r.x || n.y < r.y : r.contains(n); while (u && a >= s);
            return u && e ? null : e ? s : s - 1;
        },
        getSize: function() {
            return (!this._size || this._sizeChanged) && (this._size = new o.Point(this._container.clientWidth, this._container.clientHeight), 
            this._sizeChanged = !1), this._size.clone();
        },
        getPixelBounds: function() {
            var t = this._getTopLeftPoint();
            return new o.Bounds(t, t.add(this.getSize()));
        },
        getPixelOrigin: function() {
            return this._checkIfLoaded(), this._initialTopLeftPoint;
        },
        getPanes: function() {
            return this._panes;
        },
        getContainer: function() {
            return this._container;
        },
        getZoomScale: function(t) {
            var e = this.options.crs;
            return e.scale(t) / e.scale(this._zoom);
        },
        getScaleZoom: function(t) {
            return this._zoom + Math.log(t) / Math.LN2;
        },
        project: function(t, e) {
            return e = e === i ? this._zoom : e, this.options.crs.latLngToPoint(o.latLng(t), e);
        },
        unproject: function(t, e) {
            return e = e === i ? this._zoom : e, this.options.crs.pointToLatLng(o.point(t), e);
        },
        layerPointToLatLng: function(t) {
            var e = o.point(t).add(this.getPixelOrigin());
            return this.unproject(e);
        },
        latLngToLayerPoint: function(t) {
            var e = this.project(o.latLng(t))._round();
            return e._subtract(this.getPixelOrigin());
        },
        containerPointToLayerPoint: function(t) {
            return o.point(t).subtract(this._getMapPanePos());
        },
        layerPointToContainerPoint: function(t) {
            return o.point(t).add(this._getMapPanePos());
        },
        containerPointToLatLng: function(t) {
            var e = this.containerPointToLayerPoint(o.point(t));
            return this.layerPointToLatLng(e);
        },
        latLngToContainerPoint: function(t) {
            return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)));
        },
        mouseEventToContainerPoint: function(t) {
            return o.DomEvent.getMousePosition(t, this._container);
        },
        mouseEventToLayerPoint: function(t) {
            return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t));
        },
        mouseEventToLatLng: function(t) {
            return this.layerPointToLatLng(this.mouseEventToLayerPoint(t));
        },
        _initContainer: function(t) {
            var e = this._container = o.DomUtil.get(t);
            if (!e) throw new Error("Map container not found.");
            if (e._leaflet) throw new Error("Map container is already initialized.");
            e._leaflet = !0;
        },
        _initLayout: function() {
            var t = this._container;
            o.DomUtil.addClass(t, "leaflet-container" + (o.Browser.touch ? " leaflet-touch" : "") + (o.Browser.retina ? " leaflet-retina" : "") + (this.options.fadeAnimation ? " leaflet-fade-anim" : ""));
            var e = o.DomUtil.getStyle(t, "position");
            "absolute" !== e && "relative" !== e && "fixed" !== e && (t.style.position = "relative"), 
            this._initPanes(), this._initControlPos && this._initControlPos();
        },
        _initPanes: function() {
            var t = this._panes = {};
            this._mapPane = t.mapPane = this._createPane("leaflet-map-pane", this._container), 
            this._tilePane = t.tilePane = this._createPane("leaflet-tile-pane", this._mapPane), 
            t.objectsPane = this._createPane("leaflet-objects-pane", this._mapPane), t.shadowPane = this._createPane("leaflet-shadow-pane"), 
            t.overlayPane = this._createPane("leaflet-overlay-pane"), t.markerPane = this._createPane("leaflet-marker-pane"), 
            t.popupPane = this._createPane("leaflet-popup-pane");
            var e = " leaflet-zoom-hide";
            this.options.markerZoomAnimation || (o.DomUtil.addClass(t.markerPane, e), o.DomUtil.addClass(t.shadowPane, e), 
            o.DomUtil.addClass(t.popupPane, e));
        },
        _createPane: function(t, e) {
            return o.DomUtil.create("div", t, e || this._panes.objectsPane);
        },
        _clearPanes: function() {
            this._container.removeChild(this._mapPane);
        },
        _addLayers: function(t) {
            t = t ? o.Util.isArray(t) ? t : [ t ] : [];
            for (var e = 0, i = t.length; i > e; e++) this.addLayer(t[e]);
        },
        _resetView: function(t, e, i, n) {
            var s = this._zoom !== e;
            n || (this.fire("movestart"), s && this.fire("zoomstart")), this._zoom = e, this._initialCenter = t, 
            this._initialTopLeftPoint = this._getNewTopLeftPoint(t), i ? this._initialTopLeftPoint._add(this._getMapPanePos()) : o.DomUtil.setPosition(this._mapPane, new o.Point(0, 0)), 
            this._tileLayersToLoad = this._tileLayersNum;
            var a = !this._loaded;
            this._loaded = !0, a && (this.fire("load"), this.eachLayer(this._layerAdd, this)), 
            this.fire("viewreset", {
                hard: !i
            }), this.fire("move"), (s || n) && this.fire("zoomend"), this.fire("moveend", {
                hard: !i
            });
        },
        _rawPanBy: function(t) {
            o.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(t));
        },
        _getZoomSpan: function() {
            return this.getMaxZoom() - this.getMinZoom();
        },
        _updateZoomLevels: function() {
            var t, e = 1 / 0, n = -1 / 0, o = this._getZoomSpan();
            for (t in this._zoomBoundLayers) {
                var s = this._zoomBoundLayers[t];
                isNaN(s.options.minZoom) || (e = Math.min(e, s.options.minZoom)), isNaN(s.options.maxZoom) || (n = Math.max(n, s.options.maxZoom));
            }
            t === i ? this._layersMaxZoom = this._layersMinZoom = i : (this._layersMaxZoom = n, 
            this._layersMinZoom = e), o !== this._getZoomSpan() && this.fire("zoomlevelschange");
        },
        _panInsideMaxBounds: function() {
            this.panInsideBounds(this.options.maxBounds);
        },
        _checkIfLoaded: function() {
            if (!this._loaded) throw new Error("Set map center and zoom first.");
        },
        _initEvents: function(e) {
            if (o.DomEvent) {
                e = e || "on", o.DomEvent[e](this._container, "click", this._onMouseClick, this);
                var i, n, s = [ "dblclick", "mousedown", "mouseup", "mouseenter", "mouseleave", "mousemove", "contextmenu" ];
                for (i = 0, n = s.length; n > i; i++) o.DomEvent[e](this._container, s[i], this._fireMouseEvent, this);
                this.options.trackResize && o.DomEvent[e](t, "resize", this._onResize, this);
            }
        },
        _onResize: function() {
            o.Util.cancelAnimFrame(this._resizeRequest), this._resizeRequest = o.Util.requestAnimFrame(this.invalidateSize, this, !1, this._container);
        },
        _onMouseClick: function(t) {
            !this._loaded || !t._simulated && this.dragging && this.dragging.moved() || o.DomEvent._skipped(t) || (this.fire("preclick"), 
            this._fireMouseEvent(t));
        },
        _fireMouseEvent: function(t) {
            if (this._loaded && !o.DomEvent._skipped(t)) {
                var e = t.type;
                if (e = "mouseenter" === e ? "mouseover" : "mouseleave" === e ? "mouseout" : e, 
                this.hasEventListeners(e)) {
                    "contextmenu" === e && o.DomEvent.preventDefault(t);
                    var i = this.mouseEventToContainerPoint(t), n = this.containerPointToLayerPoint(i), s = this.layerPointToLatLng(n);
                    this.fire(e, {
                        latlng: s,
                        layerPoint: n,
                        containerPoint: i,
                        originalEvent: t
                    });
                }
            }
        },
        _onTileLayerLoad: function() {
            this._tileLayersToLoad--, this._tileLayersNum && !this._tileLayersToLoad && this.fire("tilelayersload");
        },
        _clearHandlers: function() {
            for (var t = 0, e = this._handlers.length; e > t; t++) this._handlers[t].disable();
        },
        whenReady: function(t, e) {
            return this._loaded ? t.call(e || this, this) : this.on("load", t, e), this;
        },
        _layerAdd: function(t) {
            t.onAdd(this), this.fire("layeradd", {
                layer: t
            });
        },
        _getMapPanePos: function() {
            return o.DomUtil.getPosition(this._mapPane);
        },
        _moved: function() {
            var t = this._getMapPanePos();
            return t && !t.equals([ 0, 0 ]);
        },
        _getTopLeftPoint: function() {
            return this.getPixelOrigin().subtract(this._getMapPanePos());
        },
        _getNewTopLeftPoint: function(t, e) {
            var i = this.getSize()._divideBy(2);
            return this.project(t, e)._subtract(i)._round();
        },
        _latLngToNewLayerPoint: function(t, e, i) {
            var n = this._getNewTopLeftPoint(i, e).add(this._getMapPanePos());
            return this.project(t, e)._subtract(n);
        },
        _getCenterLayerPoint: function() {
            return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
        },
        _getCenterOffset: function(t) {
            return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint());
        },
        _limitZoom: function(t) {
            var e = this.getMinZoom(), i = this.getMaxZoom();
            return Math.max(e, Math.min(i, t));
        }
    }), o.map = function(t, e) {
        return new o.Map(t, e);
    }, o.Projection.Mercator = {
        MAX_LATITUDE: 85.0840591556,
        R_MINOR: 6356752.314245179,
        R_MAJOR: 6378137,
        project: function(t) {
            var e = o.LatLng.DEG_TO_RAD, i = this.MAX_LATITUDE, n = Math.max(Math.min(i, t.lat), -i), s = this.R_MAJOR, a = this.R_MINOR, r = t.lng * e * s, h = n * e, l = a / s, u = Math.sqrt(1 - l * l), c = u * Math.sin(h);
            c = Math.pow((1 - c) / (1 + c), .5 * u);
            var d = Math.tan(.5 * (.5 * Math.PI - h)) / c;
            return h = -s * Math.log(d), new o.Point(r, h);
        },
        unproject: function(t) {
            for (var e, i = o.LatLng.RAD_TO_DEG, n = this.R_MAJOR, s = this.R_MINOR, a = t.x * i / n, r = s / n, h = Math.sqrt(1 - r * r), l = Math.exp(-t.y / n), u = Math.PI / 2 - 2 * Math.atan(l), c = 15, d = 1e-7, p = c, _ = .1; Math.abs(_) > d && --p > 0; ) e = h * Math.sin(u), 
            _ = Math.PI / 2 - 2 * Math.atan(l * Math.pow((1 - e) / (1 + e), .5 * h)) - u, u += _;
            return new o.LatLng(u * i, a);
        }
    }, o.CRS.EPSG3395 = o.extend({}, o.CRS, {
        code: "EPSG:3395",
        projection: o.Projection.Mercator,
        transformation: function() {
            var t = o.Projection.Mercator, e = t.R_MAJOR, i = t.R_MINOR;
            return new o.Transformation(.5 / (Math.PI * e), .5, -.5 / (Math.PI * i), .5);
        }()
    }), o.TileLayer = o.Class.extend({
        includes: o.Mixin.Events,
        options: {
            minZoom: 0,
            maxZoom: 18,
            tileSize: 256,
            subdomains: "abc",
            errorTileUrl: "",
            attribution: "",
            zoomOffset: 0,
            opacity: 1,
            unloadInvisibleTiles: o.Browser.mobile,
            updateWhenIdle: o.Browser.mobile
        },
        initialize: function(t, e) {
            e = o.setOptions(this, e), e.detectRetina && o.Browser.retina && e.maxZoom > 0 && (e.tileSize = Math.floor(e.tileSize / 2), 
            e.zoomOffset++, e.minZoom > 0 && e.minZoom--, this.options.maxZoom--), e.bounds && (e.bounds = o.latLngBounds(e.bounds)), 
            this._url = t;
            var i = this.options.subdomains;
            "string" == typeof i && (this.options.subdomains = i.split(""));
        },
        onAdd: function(t) {
            this._map = t, this._animated = t._zoomAnimated, this._initContainer(), this._createTileProto(), 
            t.on({
                viewreset: this._reset,
                moveend: this._update
            }, this), this._animated && t.on({
                zoomanim: this._animateZoom,
                zoomend: this._endZoomAnim
            }, this), this.options.updateWhenIdle || (this._limitedUpdate = o.Util.limitExecByInterval(this._update, 150, this), 
            t.on("move", this._limitedUpdate, this)), this._reset(), this._update();
        },
        addTo: function(t) {
            return t.addLayer(this), this;
        },
        onRemove: function(t) {
            this._container.parentNode.removeChild(this._container), t.off({
                viewreset: this._reset,
                moveend: this._update
            }, this), this._animated && t.off({
                zoomanim: this._animateZoom,
                zoomend: this._endZoomAnim
            }, this), this.options.updateWhenIdle || t.off("move", this._limitedUpdate, this), 
            this._container = null, this._map = null;
        },
        bringToFront: function() {
            var t = this._map._panes.tilePane;
            return this._container && (t.appendChild(this._container), this._setAutoZIndex(t, Math.max)), 
            this;
        },
        bringToBack: function() {
            var t = this._map._panes.tilePane;
            return this._container && (t.insertBefore(this._container, t.firstChild), this._setAutoZIndex(t, Math.min)), 
            this;
        },
        getAttribution: function() {
            return this.options.attribution;
        },
        getContainer: function() {
            return this._container;
        },
        setOpacity: function(t) {
            return this.options.opacity = t, this._map && this._updateOpacity(), this;
        },
        setZIndex: function(t) {
            return this.options.zIndex = t, this._updateZIndex(), this;
        },
        setUrl: function(t, e) {
            return this._url = t, e || this.redraw(), this;
        },
        redraw: function() {
            return this._map && (this._reset({
                hard: !0
            }), this._update()), this;
        },
        _updateZIndex: function() {
            this._container && this.options.zIndex !== i && (this._container.style.zIndex = this.options.zIndex);
        },
        _setAutoZIndex: function(t, e) {
            var i, n, o, s = t.children, a = -e(1 / 0, -1 / 0);
            for (n = 0, o = s.length; o > n; n++) s[n] !== this._container && (i = parseInt(s[n].style.zIndex, 10), 
            isNaN(i) || (a = e(a, i)));
            this.options.zIndex = this._container.style.zIndex = (isFinite(a) ? a : 0) + e(1, -1);
        },
        _updateOpacity: function() {
            var t, e = this._tiles;
            if (o.Browser.ielt9) for (t in e) o.DomUtil.setOpacity(e[t], this.options.opacity); else o.DomUtil.setOpacity(this._container, this.options.opacity);
        },
        _initContainer: function() {
            var t = this._map._panes.tilePane;
            if (!this._container) {
                if (this._container = o.DomUtil.create("div", "leaflet-layer"), this._updateZIndex(), 
                this._animated) {
                    var e = "leaflet-tile-container leaflet-zoom-animated";
                    this._bgBuffer = o.DomUtil.create("div", e, this._container), this._tileContainer = o.DomUtil.create("div", e, this._container);
                } else this._tileContainer = this._container;
                t.appendChild(this._container), this.options.opacity < 1 && this._updateOpacity();
            }
        },
        _reset: function(t) {
            for (var e in this._tiles) this.fire("tileunload", {
                tile: this._tiles[e]
            });
            this._tiles = {}, this._tilesToLoad = 0, this.options.reuseTiles && (this._unusedTiles = []), 
            this._tileContainer.innerHTML = "", this._animated && t && t.hard && this._clearBgBuffer(), 
            this._initContainer();
        },
        _update: function() {
            if (this._map) {
                var t = this._map.getPixelBounds(), e = this._map.getZoom(), i = this.options.tileSize;
                if (!(e > this.options.maxZoom || e < this.options.minZoom)) {
                    var n = o.bounds(t.min.divideBy(i)._floor(), t.max.divideBy(i)._floor());
                    this._addTilesFromCenterOut(n), (this.options.unloadInvisibleTiles || this.options.reuseTiles) && this._removeOtherTiles(n);
                }
            }
        },
        _addTilesFromCenterOut: function(t) {
            var i, n, s, a = [], r = t.getCenter();
            for (i = t.min.y; i <= t.max.y; i++) for (n = t.min.x; n <= t.max.x; n++) s = new o.Point(n, i), 
            this._tileShouldBeLoaded(s) && a.push(s);
            var h = a.length;
            if (0 !== h) {
                a.sort(function(t, e) {
                    return t.distanceTo(r) - e.distanceTo(r);
                });
                var l = e.createDocumentFragment();
                for (this._tilesToLoad || this.fire("loading"), this._tilesToLoad += h, n = 0; h > n; n++) this._addTile(a[n], l);
                this._tileContainer.appendChild(l);
            }
        },
        _tileShouldBeLoaded: function(t) {
            if (t.x + ":" + t.y in this._tiles) return !1;
            var e = this.options;
            if (!e.continuousWorld) {
                var i = this._getWrapTileNum();
                if (e.noWrap && (t.x < 0 || t.x >= i) || t.y < 0 || t.y >= i) return !1;
            }
            if (e.bounds) {
                var n = e.tileSize, o = t.multiplyBy(n), s = o.add([ n, n ]), a = this._map.unproject(o), r = this._map.unproject(s);
                if (e.continuousWorld || e.noWrap || (a = a.wrap(), r = r.wrap()), !e.bounds.intersects([ a, r ])) return !1;
            }
            return !0;
        },
        _removeOtherTiles: function(t) {
            var e, i, n, o;
            for (o in this._tiles) e = o.split(":"), i = parseInt(e[0], 10), n = parseInt(e[1], 10), 
            (i < t.min.x || i > t.max.x || n < t.min.y || n > t.max.y) && this._removeTile(o);
        },
        _removeTile: function(t) {
            var e = this._tiles[t];
            this.fire("tileunload", {
                tile: e,
                url: e.src
            }), this.options.reuseTiles ? (o.DomUtil.removeClass(e, "leaflet-tile-loaded"), 
            this._unusedTiles.push(e)) : e.parentNode === this._tileContainer && this._tileContainer.removeChild(e), 
            o.Browser.android || (e.onload = null, e.src = o.Util.emptyImageUrl), delete this._tiles[t];
        },
        _addTile: function(t, e) {
            var i = this._getTilePos(t), n = this._getTile();
            o.DomUtil.setPosition(n, i, o.Browser.chrome || o.Browser.android23), this._tiles[t.x + ":" + t.y] = n, 
            this._loadTile(n, t), n.parentNode !== this._tileContainer && e.appendChild(n);
        },
        _getZoomForUrl: function() {
            var t = this.options, e = this._map.getZoom();
            return t.zoomReverse && (e = t.maxZoom - e), e + t.zoomOffset;
        },
        _getTilePos: function(t) {
            var e = this._map.getPixelOrigin(), i = this.options.tileSize;
            return t.multiplyBy(i).subtract(e);
        },
        getTileUrl: function(t) {
            return o.Util.template(this._url, o.extend({
                s: this._getSubdomain(t),
                z: t.z,
                x: t.x,
                y: t.y
            }, this.options));
        },
        _getWrapTileNum: function() {
            return Math.pow(2, this._getZoomForUrl());
        },
        _adjustTilePoint: function(t) {
            var e = this._getWrapTileNum();
            this.options.continuousWorld || this.options.noWrap || (t.x = (t.x % e + e) % e), 
            this.options.tms && (t.y = e - t.y - 1), t.z = this._getZoomForUrl();
        },
        _getSubdomain: function(t) {
            var e = Math.abs(t.x + t.y) % this.options.subdomains.length;
            return this.options.subdomains[e];
        },
        _createTileProto: function() {
            var t = this._tileImg = o.DomUtil.create("img", "leaflet-tile");
            t.style.width = t.style.height = this.options.tileSize + "px", t.galleryimg = "no";
        },
        _getTile: function() {
            if (this.options.reuseTiles && this._unusedTiles.length > 0) {
                var t = this._unusedTiles.pop();
                return this._resetTile(t), t;
            }
            return this._createTile();
        },
        _resetTile: function() {},
        _createTile: function() {
            var t = this._tileImg.cloneNode(!1);
            return t.onselectstart = t.onmousemove = o.Util.falseFn, o.Browser.ielt9 && this.options.opacity !== i && o.DomUtil.setOpacity(t, this.options.opacity), 
            t;
        },
        _loadTile: function(t, e) {
            t._layer = this, t.onload = this._tileOnLoad, t.onerror = this._tileOnError, this._adjustTilePoint(e), 
            t.src = this.getTileUrl(e);
        },
        _tileLoaded: function() {
            this._tilesToLoad--, this._tilesToLoad || (this.fire("load"), this._animated && (clearTimeout(this._clearBgBufferTimer), 
            this._clearBgBufferTimer = setTimeout(o.bind(this._clearBgBuffer, this), 500)));
        },
        _tileOnLoad: function() {
            var t = this._layer;
            this.src !== o.Util.emptyImageUrl && (o.DomUtil.addClass(this, "leaflet-tile-loaded"), 
            t.fire("tileload", {
                tile: this,
                url: this.src
            })), t._tileLoaded();
        },
        _tileOnError: function() {
            var t = this._layer;
            t.fire("tileerror", {
                tile: this,
                url: this.src
            });
            var e = t.options.errorTileUrl;
            e && (this.src = e), t._tileLoaded();
        }
    }), o.tileLayer = function(t, e) {
        return new o.TileLayer(t, e);
    }, o.TileLayer.WMS = o.TileLayer.extend({
        defaultWmsParams: {
            service: "WMS",
            request: "GetMap",
            version: "1.1.1",
            layers: "",
            styles: "",
            format: "image/jpeg",
            transparent: !1
        },
        initialize: function(t, e) {
            this._url = t;
            var i = o.extend({}, this.defaultWmsParams), n = e.tileSize || this.options.tileSize;
            i.width = i.height = e.detectRetina && o.Browser.retina ? 2 * n : n;
            for (var s in e) this.options.hasOwnProperty(s) || "crs" === s || (i[s] = e[s]);
            this.wmsParams = i, o.setOptions(this, e);
        },
        onAdd: function(t) {
            this._crs = this.options.crs || t.options.crs;
            var e = parseFloat(this.wmsParams.version) >= 1.3 ? "crs" : "srs";
            this.wmsParams[e] = this._crs.code, o.TileLayer.prototype.onAdd.call(this, t);
        },
        getTileUrl: function(t, e) {
            var i = this._map, n = this.options.tileSize, s = t.multiplyBy(n), a = s.add([ n, n ]), r = this._crs.project(i.unproject(s, e)), h = this._crs.project(i.unproject(a, e)), l = [ r.x, h.y, h.x, r.y ].join(","), u = o.Util.template(this._url, {
                s: this._getSubdomain(t)
            });
            return u + o.Util.getParamString(this.wmsParams, u, !0) + "&BBOX=" + l;
        },
        setParams: function(t, e) {
            return o.extend(this.wmsParams, t), e || this.redraw(), this;
        }
    }), o.tileLayer.wms = function(t, e) {
        return new o.TileLayer.WMS(t, e);
    }, o.TileLayer.Canvas = o.TileLayer.extend({
        options: {
            async: !1
        },
        initialize: function(t) {
            o.setOptions(this, t);
        },
        redraw: function() {
            this._map && (this._reset({
                hard: !0
            }), this._update());
            for (var t in this._tiles) this._redrawTile(this._tiles[t]);
            return this;
        },
        _redrawTile: function(t) {
            this.drawTile(t, t._tilePoint, this._map._zoom);
        },
        _createTileProto: function() {
            var t = this._canvasProto = o.DomUtil.create("canvas", "leaflet-tile");
            t.width = t.height = this.options.tileSize;
        },
        _createTile: function() {
            var t = this._canvasProto.cloneNode(!1);
            return t.onselectstart = t.onmousemove = o.Util.falseFn, t;
        },
        _loadTile: function(t, e) {
            t._layer = this, t._tilePoint = e, this._redrawTile(t), this.options.async || this.tileDrawn(t);
        },
        drawTile: function() {},
        tileDrawn: function(t) {
            this._tileOnLoad.call(t);
        }
    }), o.tileLayer.canvas = function(t) {
        return new o.TileLayer.Canvas(t);
    }, o.ImageOverlay = o.Class.extend({
        includes: o.Mixin.Events,
        options: {
            opacity: 1
        },
        initialize: function(t, e, i) {
            this._url = t, this._bounds = o.latLngBounds(e), o.setOptions(this, i);
        },
        onAdd: function(t) {
            this._map = t, this._image || this._initImage(), t._panes.overlayPane.appendChild(this._image), 
            t.on("viewreset", this._reset, this), t.options.zoomAnimation && o.Browser.any3d && t.on("zoomanim", this._animateZoom, this), 
            this._reset();
        },
        onRemove: function(t) {
            t.getPanes().overlayPane.removeChild(this._image), t.off("viewreset", this._reset, this), 
            t.options.zoomAnimation && t.off("zoomanim", this._animateZoom, this);
        },
        addTo: function(t) {
            return t.addLayer(this), this;
        },
        setOpacity: function(t) {
            return this.options.opacity = t, this._updateOpacity(), this;
        },
        bringToFront: function() {
            return this._image && this._map._panes.overlayPane.appendChild(this._image), this;
        },
        bringToBack: function() {
            var t = this._map._panes.overlayPane;
            return this._image && t.insertBefore(this._image, t.firstChild), this;
        },
        _initImage: function() {
            this._image = o.DomUtil.create("img", "leaflet-image-layer"), this._map.options.zoomAnimation && o.Browser.any3d ? o.DomUtil.addClass(this._image, "leaflet-zoom-animated") : o.DomUtil.addClass(this._image, "leaflet-zoom-hide"), 
            this._updateOpacity(), o.extend(this._image, {
                galleryimg: "no",
                onselectstart: o.Util.falseFn,
                onmousemove: o.Util.falseFn,
                onload: o.bind(this._onImageLoad, this),
                src: this._url
            });
        },
        _animateZoom: function(t) {
            var e = this._map, i = this._image, n = e.getZoomScale(t.zoom), s = this._bounds.getNorthWest(), a = this._bounds.getSouthEast(), r = e._latLngToNewLayerPoint(s, t.zoom, t.center), h = e._latLngToNewLayerPoint(a, t.zoom, t.center)._subtract(r), l = r._add(h._multiplyBy(.5 * (1 - 1 / n)));
            i.style[o.DomUtil.TRANSFORM] = o.DomUtil.getTranslateString(l) + " scale(" + n + ") ";
        },
        _reset: function() {
            var t = this._image, e = this._map.latLngToLayerPoint(this._bounds.getNorthWest()), i = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);
            o.DomUtil.setPosition(t, e), t.style.width = i.x + "px", t.style.height = i.y + "px";
        },
        _onImageLoad: function() {
            this.fire("load");
        },
        _updateOpacity: function() {
            o.DomUtil.setOpacity(this._image, this.options.opacity);
        }
    }), o.imageOverlay = function(t, e, i) {
        return new o.ImageOverlay(t, e, i);
    }, o.Icon = o.Class.extend({
        options: {
            className: ""
        },
        initialize: function(t) {
            o.setOptions(this, t);
        },
        createIcon: function(t) {
            return this._createIcon("icon", t);
        },
        createShadow: function(t) {
            return this._createIcon("shadow", t);
        },
        _createIcon: function(t, e) {
            var i = this._getIconUrl(t);
            if (!i) {
                if ("icon" === t) throw new Error("iconUrl not set in Icon options (see the docs).");
                return null;
            }
            var n;
            return n = e && "IMG" === e.tagName ? this._createImg(i, e) : this._createImg(i), 
            this._setIconStyles(n, t), n;
        },
        _setIconStyles: function(t, e) {
            var i, n = this.options, s = o.point(n[e + "Size"]);
            i = "shadow" === e ? o.point(n.shadowAnchor || n.iconAnchor) : o.point(n.iconAnchor), 
            !i && s && (i = s.divideBy(2, !0)), t.className = "leaflet-marker-" + e + " " + n.className, 
            i && (t.style.marginLeft = -i.x + "px", t.style.marginTop = -i.y + "px"), s && (t.style.width = s.x + "px", 
            t.style.height = s.y + "px");
        },
        _createImg: function(t, i) {
            return o.Browser.ie6 ? (i || (i = e.createElement("div")), i.style.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + t + '")') : (i || (i = e.createElement("img")), 
            i.src = t), i;
        },
        _getIconUrl: function(t) {
            return o.Browser.retina && this.options[t + "RetinaUrl"] ? this.options[t + "RetinaUrl"] : this.options[t + "Url"];
        }
    }), o.icon = function(t) {
        return new o.Icon(t);
    }, o.Icon.Default = o.Icon.extend({
        options: {
            iconSize: [ 25, 41 ],
            iconAnchor: [ 12, 41 ],
            popupAnchor: [ 1, -34 ],
            shadowSize: [ 41, 41 ]
        },
        _getIconUrl: function(t) {
            var e = t + "Url";
            if (this.options[e]) return this.options[e];
            o.Browser.retina && "icon" === t && (t += "-2x");
            var i = o.Icon.Default.imagePath;
            if (!i) throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");
            return i + "/marker-" + t + ".png";
        }
    }), o.Icon.Default.imagePath = function() {
        var t, i, n, o, s, a = e.getElementsByTagName("script"), r = /[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;
        for (t = 0, i = a.length; i > t; t++) if (n = a[t].src, o = n.match(r)) return s = n.split(r)[0], 
        (s ? s + "/" : "") + "images";
    }(), o.Marker = o.Class.extend({
        includes: o.Mixin.Events,
        options: {
            icon: new o.Icon.Default(),
            title: "",
            clickable: !0,
            draggable: !1,
            keyboard: !0,
            zIndexOffset: 0,
            opacity: 1,
            riseOnHover: !1,
            riseOffset: 250
        },
        initialize: function(t, e) {
            o.setOptions(this, e), this._latlng = o.latLng(t);
        },
        onAdd: function(t) {
            this._map = t, t.on("viewreset", this.update, this), this._initIcon(), this.update(), 
            t.options.zoomAnimation && t.options.markerZoomAnimation && t.on("zoomanim", this._animateZoom, this);
        },
        addTo: function(t) {
            return t.addLayer(this), this;
        },
        onRemove: function(t) {
            this.dragging && this.dragging.disable(), this._removeIcon(), this._removeShadow(), 
            this.fire("remove"), t.off({
                viewreset: this.update,
                zoomanim: this._animateZoom
            }, this), this._map = null;
        },
        getLatLng: function() {
            return this._latlng;
        },
        setLatLng: function(t) {
            return this._latlng = o.latLng(t), this.update(), this.fire("move", {
                latlng: this._latlng
            });
        },
        setZIndexOffset: function(t) {
            return this.options.zIndexOffset = t, this.update(), this;
        },
        setIcon: function(t) {
            return this.options.icon = t, this._map && (this._initIcon(), this.update()), this;
        },
        update: function() {
            if (this._icon) {
                var t = this._map.latLngToLayerPoint(this._latlng).round();
                this._setPos(t);
            }
            return this;
        },
        _initIcon: function() {
            var t = this.options, e = this._map, i = e.options.zoomAnimation && e.options.markerZoomAnimation, n = i ? "leaflet-zoom-animated" : "leaflet-zoom-hide", s = t.icon.createIcon(this._icon), a = !1;
            s !== this._icon && (this._icon && this._removeIcon(), a = !0, t.title && (s.title = t.title)), 
            o.DomUtil.addClass(s, n), t.keyboard && (s.tabIndex = "0"), this._icon = s, this._initInteraction(), 
            t.riseOnHover && o.DomEvent.on(s, "mouseover", this._bringToFront, this).on(s, "mouseout", this._resetZIndex, this);
            var r = t.icon.createShadow(this._shadow), h = !1;
            r !== this._shadow && (this._removeShadow(), h = !0), r && o.DomUtil.addClass(r, n), 
            this._shadow = r, t.opacity < 1 && this._updateOpacity();
            var l = this._map._panes;
            a && l.markerPane.appendChild(this._icon), r && h && l.shadowPane.appendChild(this._shadow);
        },
        _removeIcon: function() {
            this.options.riseOnHover && o.DomEvent.off(this._icon, "mouseover", this._bringToFront).off(this._icon, "mouseout", this._resetZIndex), 
            this._map._panes.markerPane.removeChild(this._icon), this._icon = null;
        },
        _removeShadow: function() {
            this._shadow && this._map._panes.shadowPane.removeChild(this._shadow), this._shadow = null;
        },
        _setPos: function(t) {
            o.DomUtil.setPosition(this._icon, t), this._shadow && o.DomUtil.setPosition(this._shadow, t), 
            this._zIndex = t.y + this.options.zIndexOffset, this._resetZIndex();
        },
        _updateZIndex: function(t) {
            this._icon.style.zIndex = this._zIndex + t;
        },
        _animateZoom: function(t) {
            var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);
            this._setPos(e);
        },
        _initInteraction: function() {
            if (this.options.clickable) {
                var t = this._icon, e = [ "dblclick", "mousedown", "mouseover", "mouseout", "contextmenu" ];
                o.DomUtil.addClass(t, "leaflet-clickable"), o.DomEvent.on(t, "click", this._onMouseClick, this), 
                o.DomEvent.on(t, "keypress", this._onKeyPress, this);
                for (var i = 0; i < e.length; i++) o.DomEvent.on(t, e[i], this._fireMouseEvent, this);
                o.Handler.MarkerDrag && (this.dragging = new o.Handler.MarkerDrag(this), this.options.draggable && this.dragging.enable());
            }
        },
        _onMouseClick: function(t) {
            var e = this.dragging && this.dragging.moved();
            (this.hasEventListeners(t.type) || e) && o.DomEvent.stopPropagation(t), e || (this.dragging && this.dragging._enabled || !this._map.dragging || !this._map.dragging.moved()) && this.fire(t.type, {
                originalEvent: t,
                latlng: this._latlng
            });
        },
        _onKeyPress: function(t) {
            13 === t.keyCode && this.fire("click", {
                originalEvent: t,
                latlng: this._latlng
            });
        },
        _fireMouseEvent: function(t) {
            this.fire(t.type, {
                originalEvent: t,
                latlng: this._latlng
            }), "contextmenu" === t.type && this.hasEventListeners(t.type) && o.DomEvent.preventDefault(t), 
            "mousedown" !== t.type ? o.DomEvent.stopPropagation(t) : o.DomEvent.preventDefault(t);
        },
        setOpacity: function(t) {
            return this.options.opacity = t, this._map && this._updateOpacity(), this;
        },
        _updateOpacity: function() {
            o.DomUtil.setOpacity(this._icon, this.options.opacity), this._shadow && o.DomUtil.setOpacity(this._shadow, this.options.opacity);
        },
        _bringToFront: function() {
            this._updateZIndex(this.options.riseOffset);
        },
        _resetZIndex: function() {
            this._updateZIndex(0);
        }
    }), o.marker = function(t, e) {
        return new o.Marker(t, e);
    }, o.DivIcon = o.Icon.extend({
        options: {
            iconSize: [ 12, 12 ],
            className: "leaflet-div-icon",
            html: !1
        },
        createIcon: function(t) {
            var i = t && "DIV" === t.tagName ? t : e.createElement("div"), n = this.options;
            return i.innerHTML = n.html !== !1 ? n.html : "", n.bgPos && (i.style.backgroundPosition = -n.bgPos.x + "px " + -n.bgPos.y + "px"), 
            this._setIconStyles(i, "icon"), i;
        },
        createShadow: function() {
            return null;
        }
    }), o.divIcon = function(t) {
        return new o.DivIcon(t);
    }, o.Map.mergeOptions({
        closePopupOnClick: !0
    }), o.Popup = o.Class.extend({
        includes: o.Mixin.Events,
        options: {
            minWidth: 50,
            maxWidth: 300,
            maxHeight: null,
            autoPan: !0,
            closeButton: !0,
            offset: [ 0, 7 ],
            autoPanPadding: [ 5, 5 ],
            keepInView: !1,
            className: "",
            zoomAnimation: !0
        },
        initialize: function(t, e) {
            o.setOptions(this, t), this._source = e, this._animated = o.Browser.any3d && this.options.zoomAnimation, 
            this._isOpen = !1;
        },
        onAdd: function(t) {
            this._map = t, this._container || this._initLayout(), this._updateContent();
            var e = t.options.fadeAnimation;
            e && o.DomUtil.setOpacity(this._container, 0), t._panes.popupPane.appendChild(this._container), 
            t.on(this._getEvents(), this), this._update(), e && o.DomUtil.setOpacity(this._container, 1), 
            this.fire("open"), t.fire("popupopen", {
                popup: this
            }), this._source && this._source.fire("popupopen", {
                popup: this
            });
        },
        addTo: function(t) {
            return t.addLayer(this), this;
        },
        openOn: function(t) {
            return t.openPopup(this), this;
        },
        onRemove: function(t) {
            t._panes.popupPane.removeChild(this._container), o.Util.falseFn(this._container.offsetWidth), 
            t.off(this._getEvents(), this), t.options.fadeAnimation && o.DomUtil.setOpacity(this._container, 0), 
            this._map = null, this.fire("close"), t.fire("popupclose", {
                popup: this
            }), this._source && this._source.fire("popupclose", {
                popup: this
            });
        },
        setLatLng: function(t) {
            return this._latlng = o.latLng(t), this._update(), this;
        },
        setContent: function(t) {
            return this._content = t, this._update(), this;
        },
        _getEvents: function() {
            var t = {
                viewreset: this._updatePosition
            };
            return this._animated && (t.zoomanim = this._zoomAnimation), ("closeOnClick" in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close), 
            this.options.keepInView && (t.moveend = this._adjustPan), t;
        },
        _close: function() {
            this._map && this._map.closePopup(this);
        },
        _initLayout: function() {
            var t, e = "leaflet-popup", i = e + " " + this.options.className + " leaflet-zoom-" + (this._animated ? "animated" : "hide"), n = this._container = o.DomUtil.create("div", i);
            this.options.closeButton && (t = this._closeButton = o.DomUtil.create("a", e + "-close-button", n), 
            t.href = "#close", t.innerHTML = "&#215;", o.DomEvent.disableClickPropagation(t), 
            o.DomEvent.on(t, "click", this._onCloseButtonClick, this));
            var s = this._wrapper = o.DomUtil.create("div", e + "-content-wrapper", n);
            o.DomEvent.disableClickPropagation(s), this._contentNode = o.DomUtil.create("div", e + "-content", s), 
            o.DomEvent.on(this._contentNode, "mousewheel", o.DomEvent.stopPropagation), o.DomEvent.on(this._contentNode, "MozMousePixelScroll", o.DomEvent.stopPropagation), 
            o.DomEvent.on(s, "contextmenu", o.DomEvent.stopPropagation), this._tipContainer = o.DomUtil.create("div", e + "-tip-container", n), 
            this._tip = o.DomUtil.create("div", e + "-tip", this._tipContainer);
        },
        _update: function() {
            this._map && (this._container.style.visibility = "hidden", this._updateContent(), 
            this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", 
            this._adjustPan());
        },
        _updateContent: function() {
            if (this._content) {
                if ("string" == typeof this._content) this._contentNode.innerHTML = this._content; else {
                    for (;this._contentNode.hasChildNodes(); ) this._contentNode.removeChild(this._contentNode.firstChild);
                    this._contentNode.appendChild(this._content);
                }
                this.fire("contentupdate");
            }
        },
        _updateLayout: function() {
            var t = this._contentNode, e = t.style;
            e.width = "", e.whiteSpace = "nowrap";
            var i = t.offsetWidth;
            i = Math.min(i, this.options.maxWidth), i = Math.max(i, this.options.minWidth), 
            e.width = i + 1 + "px", e.whiteSpace = "", e.height = "";
            var n = t.offsetHeight, s = this.options.maxHeight, a = "leaflet-popup-scrolled";
            s && n > s ? (e.height = s + "px", o.DomUtil.addClass(t, a)) : o.DomUtil.removeClass(t, a), 
            this._containerWidth = this._container.offsetWidth;
        },
        _updatePosition: function() {
            if (this._map) {
                var t = this._map.latLngToLayerPoint(this._latlng), e = this._animated, i = o.point(this.options.offset);
                e && o.DomUtil.setPosition(this._container, t), this._containerBottom = -i.y - (e ? 0 : t.y), 
                this._containerLeft = -Math.round(this._containerWidth / 2) + i.x + (e ? 0 : t.x), 
                this._container.style.bottom = this._containerBottom + "px", this._container.style.left = this._containerLeft + "px";
            }
        },
        _zoomAnimation: function(t) {
            var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);
            o.DomUtil.setPosition(this._container, e);
        },
        _adjustPan: function() {
            if (this.options.autoPan) {
                var t = this._map, e = this._container.offsetHeight, i = this._containerWidth, n = new o.Point(this._containerLeft, -e - this._containerBottom);
                this._animated && n._add(o.DomUtil.getPosition(this._container));
                var s = t.layerPointToContainerPoint(n), a = o.point(this.options.autoPanPadding), r = t.getSize(), h = 0, l = 0;
                s.x + i > r.x && (h = s.x + i - r.x + a.x), s.x - h < 0 && (h = s.x - a.x), s.y + e > r.y && (l = s.y + e - r.y + a.y), 
                s.y - l < 0 && (l = s.y - a.y), (h || l) && t.fire("autopanstart").panBy([ h, l ]);
            }
        },
        _onCloseButtonClick: function(t) {
            this._close(), o.DomEvent.stop(t);
        }
    }), o.popup = function(t, e) {
        return new o.Popup(t, e);
    }, o.Map.include({
        openPopup: function(t, e, i) {
            if (this.closePopup(), !(t instanceof o.Popup)) {
                var n = t;
                t = new o.Popup(i).setLatLng(e).setContent(n);
            }
            return t._isOpen = !0, this._popup = t, this.addLayer(t);
        },
        closePopup: function(t) {
            return t && t !== this._popup || (t = this._popup, this._popup = null), t && (this.removeLayer(t), 
            t._isOpen = !1), this;
        }
    }), o.Marker.include({
        openPopup: function() {
            return this._popup && this._map && !this._map.hasLayer(this._popup) && (this._popup.setLatLng(this._latlng), 
            this._map.openPopup(this._popup)), this;
        },
        closePopup: function() {
            return this._popup && this._popup._close(), this;
        },
        togglePopup: function() {
            return this._popup && (this._popup._isOpen ? this.closePopup() : this.openPopup()), 
            this;
        },
        bindPopup: function(t, e) {
            var i = o.point(this.options.icon.options.popupAnchor || [ 0, 0 ]);
            return i = i.add(o.Popup.prototype.options.offset), e && e.offset && (i = i.add(e.offset)), 
            e = o.extend({
                offset: i
            }, e), this._popup || this.on("click", this.togglePopup, this).on("remove", this.closePopup, this).on("move", this._movePopup, this), 
            t instanceof o.Popup ? (o.setOptions(t, e), this._popup = t) : this._popup = new o.Popup(e, this).setContent(t), 
            this;
        },
        setPopupContent: function(t) {
            return this._popup && this._popup.setContent(t), this;
        },
        unbindPopup: function() {
            return this._popup && (this._popup = null, this.off("click", this.togglePopup).off("remove", this.closePopup).off("move", this._movePopup)), 
            this;
        },
        _movePopup: function(t) {
            this._popup.setLatLng(t.latlng);
        }
    }), o.LayerGroup = o.Class.extend({
        initialize: function(t) {
            this._layers = {};
            var e, i;
            if (t) for (e = 0, i = t.length; i > e; e++) this.addLayer(t[e]);
        },
        addLayer: function(t) {
            var e = this.getLayerId(t);
            return this._layers[e] = t, this._map && this._map.addLayer(t), this;
        },
        removeLayer: function(t) {
            var e = t in this._layers ? t : this.getLayerId(t);
            return this._map && this._layers[e] && this._map.removeLayer(this._layers[e]), delete this._layers[e], 
            this;
        },
        hasLayer: function(t) {
            return t ? t in this._layers || this.getLayerId(t) in this._layers : !1;
        },
        clearLayers: function() {
            return this.eachLayer(this.removeLayer, this), this;
        },
        invoke: function(t) {
            var e, i, n = Array.prototype.slice.call(arguments, 1);
            for (e in this._layers) i = this._layers[e], i[t] && i[t].apply(i, n);
            return this;
        },
        onAdd: function(t) {
            this._map = t, this.eachLayer(t.addLayer, t);
        },
        onRemove: function(t) {
            this.eachLayer(t.removeLayer, t), this._map = null;
        },
        addTo: function(t) {
            return t.addLayer(this), this;
        },
        eachLayer: function(t, e) {
            for (var i in this._layers) t.call(e, this._layers[i]);
            return this;
        },
        getLayer: function(t) {
            return this._layers[t];
        },
        getLayers: function() {
            var t = [];
            for (var e in this._layers) t.push(this._layers[e]);
            return t;
        },
        setZIndex: function(t) {
            return this.invoke("setZIndex", t);
        },
        getLayerId: function(t) {
            return o.stamp(t);
        }
    }), o.layerGroup = function(t) {
        return new o.LayerGroup(t);
    }, o.FeatureGroup = o.LayerGroup.extend({
        includes: o.Mixin.Events,
        statics: {
            EVENTS: "click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"
        },
        addLayer: function(t) {
            return this.hasLayer(t) ? this : (t.on(o.FeatureGroup.EVENTS, this._propagateEvent, this), 
            o.LayerGroup.prototype.addLayer.call(this, t), this._popupContent && t.bindPopup && t.bindPopup(this._popupContent, this._popupOptions), 
            this.fire("layeradd", {
                layer: t
            }));
        },
        removeLayer: function(t) {
            return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]), t.off(o.FeatureGroup.EVENTS, this._propagateEvent, this), 
            o.LayerGroup.prototype.removeLayer.call(this, t), this._popupContent && this.invoke("unbindPopup"), 
            this.fire("layerremove", {
                layer: t
            })) : this;
        },
        bindPopup: function(t, e) {
            return this._popupContent = t, this._popupOptions = e, this.invoke("bindPopup", t, e);
        },
        setStyle: function(t) {
            return this.invoke("setStyle", t);
        },
        bringToFront: function() {
            return this.invoke("bringToFront");
        },
        bringToBack: function() {
            return this.invoke("bringToBack");
        },
        getBounds: function() {
            var t = new o.LatLngBounds();
            return this.eachLayer(function(e) {
                t.extend(e instanceof o.Marker ? e.getLatLng() : e.getBounds());
            }), t;
        },
        _propagateEvent: function(t) {
            t.layer || (t.layer = t.target), t.target = this, this.fire(t.type, t);
        }
    }), o.featureGroup = function(t) {
        return new o.FeatureGroup(t);
    }, o.Path = o.Class.extend({
        includes: [ o.Mixin.Events ],
        statics: {
            CLIP_PADDING: function() {
                var e = o.Browser.mobile ? 1280 : 2e3, i = (e / Math.max(t.outerWidth, t.outerHeight) - 1) / 2;
                return Math.max(0, Math.min(.5, i));
            }()
        },
        options: {
            stroke: !0,
            color: "#0033ff",
            dashArray: null,
            weight: 5,
            opacity: .5,
            fill: !1,
            fillColor: null,
            fillOpacity: .2,
            clickable: !0
        },
        initialize: function(t) {
            o.setOptions(this, t);
        },
        onAdd: function(t) {
            this._map = t, this._container || (this._initElements(), this._initEvents()), this.projectLatlngs(), 
            this._updatePath(), this._container && this._map._pathRoot.appendChild(this._container), 
            this.fire("add"), t.on({
                viewreset: this.projectLatlngs,
                moveend: this._updatePath
            }, this);
        },
        addTo: function(t) {
            return t.addLayer(this), this;
        },
        onRemove: function(t) {
            t._pathRoot.removeChild(this._container), this.fire("remove"), this._map = null, 
            o.Browser.vml && (this._container = null, this._stroke = null, this._fill = null), 
            t.off({
                viewreset: this.projectLatlngs,
                moveend: this._updatePath
            }, this);
        },
        projectLatlngs: function() {},
        setStyle: function(t) {
            return o.setOptions(this, t), this._container && this._updateStyle(), this;
        },
        redraw: function() {
            return this._map && (this.projectLatlngs(), this._updatePath()), this;
        }
    }), o.Map.include({
        _updatePathViewport: function() {
            var t = o.Path.CLIP_PADDING, e = this.getSize(), i = o.DomUtil.getPosition(this._mapPane), n = i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()), s = n.add(e.multiplyBy(1 + 2 * t)._round());
            this._pathViewport = new o.Bounds(n, s);
        }
    }), o.Path.SVG_NS = "http://www.w3.org/2000/svg", o.Browser.svg = !(!e.createElementNS || !e.createElementNS(o.Path.SVG_NS, "svg").createSVGRect), 
    o.Path = o.Path.extend({
        statics: {
            SVG: o.Browser.svg
        },
        bringToFront: function() {
            var t = this._map._pathRoot, e = this._container;
            return e && t.lastChild !== e && t.appendChild(e), this;
        },
        bringToBack: function() {
            var t = this._map._pathRoot, e = this._container, i = t.firstChild;
            return e && i !== e && t.insertBefore(e, i), this;
        },
        getPathString: function() {},
        _createElement: function(t) {
            return e.createElementNS(o.Path.SVG_NS, t);
        },
        _initElements: function() {
            this._map._initPathRoot(), this._initPath(), this._initStyle();
        },
        _initPath: function() {
            this._container = this._createElement("g"), this._path = this._createElement("path"), 
            this._container.appendChild(this._path);
        },
        _initStyle: function() {
            this.options.stroke && (this._path.setAttribute("stroke-linejoin", "round"), this._path.setAttribute("stroke-linecap", "round")), 
            this.options.fill && this._path.setAttribute("fill-rule", "evenodd"), this.options.pointerEvents && this._path.setAttribute("pointer-events", this.options.pointerEvents), 
            this.options.clickable || this.options.pointerEvents || this._path.setAttribute("pointer-events", "none"), 
            this._updateStyle();
        },
        _updateStyle: function() {
            this.options.stroke ? (this._path.setAttribute("stroke", this.options.color), this._path.setAttribute("stroke-opacity", this.options.opacity), 
            this._path.setAttribute("stroke-width", this.options.weight), this.options.dashArray ? this._path.setAttribute("stroke-dasharray", this.options.dashArray) : this._path.removeAttribute("stroke-dasharray")) : this._path.setAttribute("stroke", "none"), 
            this.options.fill ? (this._path.setAttribute("fill", this.options.fillColor || this.options.color), 
            this._path.setAttribute("fill-opacity", this.options.fillOpacity)) : this._path.setAttribute("fill", "none");
        },
        _updatePath: function() {
            var t = this.getPathString();
            t || (t = "M0 0"), this._path.setAttribute("d", t);
        },
        _initEvents: function() {
            if (this.options.clickable) {
                (o.Browser.svg || !o.Browser.vml) && this._path.setAttribute("class", "leaflet-clickable"), 
                o.DomEvent.on(this._container, "click", this._onMouseClick, this);
                for (var t = [ "dblclick", "mousedown", "mouseover", "mouseout", "mousemove", "contextmenu" ], e = 0; e < t.length; e++) o.DomEvent.on(this._container, t[e], this._fireMouseEvent, this);
            }
        },
        _onMouseClick: function(t) {
            this._map.dragging && this._map.dragging.moved() || this._fireMouseEvent(t);
        },
        _fireMouseEvent: function(t) {
            if (this.hasEventListeners(t.type)) {
                var e = this._map, i = e.mouseEventToContainerPoint(t), n = e.containerPointToLayerPoint(i), s = e.layerPointToLatLng(n);
                this.fire(t.type, {
                    latlng: s,
                    layerPoint: n,
                    containerPoint: i,
                    originalEvent: t
                }), "contextmenu" === t.type && o.DomEvent.preventDefault(t), "mousemove" !== t.type && o.DomEvent.stopPropagation(t);
            }
        }
    }), o.Map.include({
        _initPathRoot: function() {
            this._pathRoot || (this._pathRoot = o.Path.prototype._createElement("svg"), this._panes.overlayPane.appendChild(this._pathRoot), 
            this.options.zoomAnimation && o.Browser.any3d ? (this._pathRoot.setAttribute("class", " leaflet-zoom-animated"), 
            this.on({
                zoomanim: this._animatePathZoom,
                zoomend: this._endPathZoom
            })) : this._pathRoot.setAttribute("class", " leaflet-zoom-hide"), this.on("moveend", this._updateSvgViewport), 
            this._updateSvgViewport());
        },
        _animatePathZoom: function(t) {
            var e = this.getZoomScale(t.zoom), i = this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);
            this._pathRoot.style[o.DomUtil.TRANSFORM] = o.DomUtil.getTranslateString(i) + " scale(" + e + ") ", 
            this._pathZooming = !0;
        },
        _endPathZoom: function() {
            this._pathZooming = !1;
        },
        _updateSvgViewport: function() {
            if (!this._pathZooming) {
                this._updatePathViewport();
                var t = this._pathViewport, e = t.min, i = t.max, n = i.x - e.x, s = i.y - e.y, a = this._pathRoot, r = this._panes.overlayPane;
                o.Browser.mobileWebkit && r.removeChild(a), o.DomUtil.setPosition(a, e), a.setAttribute("width", n), 
                a.setAttribute("height", s), a.setAttribute("viewBox", [ e.x, e.y, n, s ].join(" ")), 
                o.Browser.mobileWebkit && r.appendChild(a);
            }
        }
    }), o.Path.include({
        bindPopup: function(t, e) {
            return t instanceof o.Popup ? this._popup = t : ((!this._popup || e) && (this._popup = new o.Popup(e, this)), 
            this._popup.setContent(t)), this._popupHandlersAdded || (this.on("click", this._openPopup, this).on("remove", this.closePopup, this), 
            this._popupHandlersAdded = !0), this;
        },
        unbindPopup: function() {
            return this._popup && (this._popup = null, this.off("click", this._openPopup).off("remove", this.closePopup), 
            this._popupHandlersAdded = !1), this;
        },
        openPopup: function(t) {
            return this._popup && (t = t || this._latlng || this._latlngs[Math.floor(this._latlngs.length / 2)], 
            this._openPopup({
                latlng: t
            })), this;
        },
        closePopup: function() {
            return this._popup && this._popup._close(), this;
        },
        _openPopup: function(t) {
            this._popup.setLatLng(t.latlng), this._map.openPopup(this._popup);
        }
    }), o.Browser.vml = !o.Browser.svg && function() {
        try {
            var t = e.createElement("div");
            t.innerHTML = '<v:shape adj="1"/>';
            var i = t.firstChild;
            return i.style.behavior = "url(#default#VML)", i && "object" == typeof i.adj;
        } catch (n) {
            return !1;
        }
    }(), o.Path = o.Browser.svg || !o.Browser.vml ? o.Path : o.Path.extend({
        statics: {
            VML: !0,
            CLIP_PADDING: .02
        },
        _createElement: function() {
            try {
                return e.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"), function(t) {
                    return e.createElement("<lvml:" + t + ' class="lvml">');
                };
            } catch (t) {
                return function(t) {
                    return e.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
                };
            }
        }(),
        _initPath: function() {
            var t = this._container = this._createElement("shape");
            o.DomUtil.addClass(t, "leaflet-vml-shape"), this.options.clickable && o.DomUtil.addClass(t, "leaflet-clickable"), 
            t.coordsize = "1 1", this._path = this._createElement("path"), t.appendChild(this._path), 
            this._map._pathRoot.appendChild(t);
        },
        _initStyle: function() {
            this._updateStyle();
        },
        _updateStyle: function() {
            var t = this._stroke, e = this._fill, i = this.options, n = this._container;
            n.stroked = i.stroke, n.filled = i.fill, i.stroke ? (t || (t = this._stroke = this._createElement("stroke"), 
            t.endcap = "round", n.appendChild(t)), t.weight = i.weight + "px", t.color = i.color, 
            t.opacity = i.opacity, t.dashStyle = i.dashArray ? i.dashArray instanceof Array ? i.dashArray.join(" ") : i.dashArray.replace(/( *, *)/g, " ") : "") : t && (n.removeChild(t), 
            this._stroke = null), i.fill ? (e || (e = this._fill = this._createElement("fill"), 
            n.appendChild(e)), e.color = i.fillColor || i.color, e.opacity = i.fillOpacity) : e && (n.removeChild(e), 
            this._fill = null);
        },
        _updatePath: function() {
            var t = this._container.style;
            t.display = "none", this._path.v = this.getPathString() + " ", t.display = "";
        }
    }), o.Map.include(o.Browser.svg || !o.Browser.vml ? {} : {
        _initPathRoot: function() {
            if (!this._pathRoot) {
                var t = this._pathRoot = e.createElement("div");
                t.className = "leaflet-vml-container", this._panes.overlayPane.appendChild(t), this.on("moveend", this._updatePathViewport), 
                this._updatePathViewport();
            }
        }
    }), o.Browser.canvas = function() {
        return !!e.createElement("canvas").getContext;
    }(), o.Path = o.Path.SVG && !t.L_PREFER_CANVAS || !o.Browser.canvas ? o.Path : o.Path.extend({
        statics: {
            CANVAS: !0,
            SVG: !1
        },
        redraw: function() {
            return this._map && (this.projectLatlngs(), this._requestUpdate()), this;
        },
        setStyle: function(t) {
            return o.setOptions(this, t), this._map && (this._updateStyle(), this._requestUpdate()), 
            this;
        },
        onRemove: function(t) {
            t.off("viewreset", this.projectLatlngs, this).off("moveend", this._updatePath, this), 
            this.options.clickable && (this._map.off("click", this._onClick, this), this._map.off("mousemove", this._onMouseMove, this)), 
            this._requestUpdate(), this._map = null;
        },
        _requestUpdate: function() {
            this._map && !o.Path._updateRequest && (o.Path._updateRequest = o.Util.requestAnimFrame(this._fireMapMoveEnd, this._map));
        },
        _fireMapMoveEnd: function() {
            o.Path._updateRequest = null, this.fire("moveend");
        },
        _initElements: function() {
            this._map._initPathRoot(), this._ctx = this._map._canvasCtx;
        },
        _updateStyle: function() {
            var t = this.options;
            t.stroke && (this._ctx.lineWidth = t.weight, this._ctx.strokeStyle = t.color), t.fill && (this._ctx.fillStyle = t.fillColor || t.color);
        },
        _drawPath: function() {
            var t, e, i, n, s, a;
            for (this._ctx.beginPath(), t = 0, i = this._parts.length; i > t; t++) {
                for (e = 0, n = this._parts[t].length; n > e; e++) s = this._parts[t][e], a = (0 === e ? "move" : "line") + "To", 
                this._ctx[a](s.x, s.y);
                this instanceof o.Polygon && this._ctx.closePath();
            }
        },
        _checkIfEmpty: function() {
            return !this._parts.length;
        },
        _updatePath: function() {
            if (!this._checkIfEmpty()) {
                var t = this._ctx, e = this.options;
                this._drawPath(), t.save(), this._updateStyle(), e.fill && (t.globalAlpha = e.fillOpacity, 
                t.fill()), e.stroke && (t.globalAlpha = e.opacity, t.stroke()), t.restore();
            }
        },
        _initEvents: function() {
            this.options.clickable && (this._map.on("mousemove", this._onMouseMove, this), this._map.on("click", this._onClick, this));
        },
        _onClick: function(t) {
            this._containsPoint(t.layerPoint) && this.fire("click", t);
        },
        _onMouseMove: function(t) {
            this._map && !this._map._animatingZoom && (this._containsPoint(t.layerPoint) ? (this._ctx.canvas.style.cursor = "pointer", 
            this._mouseInside = !0, this.fire("mouseover", t)) : this._mouseInside && (this._ctx.canvas.style.cursor = "", 
            this._mouseInside = !1, this.fire("mouseout", t)));
        }
    }), o.Map.include(o.Path.SVG && !t.L_PREFER_CANVAS || !o.Browser.canvas ? {} : {
        _initPathRoot: function() {
            var t, i = this._pathRoot;
            i || (i = this._pathRoot = e.createElement("canvas"), i.style.position = "absolute", 
            t = this._canvasCtx = i.getContext("2d"), t.lineCap = "round", t.lineJoin = "round", 
            this._panes.overlayPane.appendChild(i), this.options.zoomAnimation && (this._pathRoot.className = "leaflet-zoom-animated", 
            this.on("zoomanim", this._animatePathZoom), this.on("zoomend", this._endPathZoom)), 
            this.on("moveend", this._updateCanvasViewport), this._updateCanvasViewport());
        },
        _updateCanvasViewport: function() {
            if (!this._pathZooming) {
                this._updatePathViewport();
                var t = this._pathViewport, e = t.min, i = t.max.subtract(e), n = this._pathRoot;
                o.DomUtil.setPosition(n, e), n.width = i.x, n.height = i.y, n.getContext("2d").translate(-e.x, -e.y);
            }
        }
    }), o.LineUtil = {
        simplify: function(t, e) {
            if (!e || !t.length) return t.slice();
            var i = e * e;
            return t = this._reducePoints(t, i), t = this._simplifyDP(t, i);
        },
        pointToSegmentDistance: function(t, e, i) {
            return Math.sqrt(this._sqClosestPointOnSegment(t, e, i, !0));
        },
        closestPointOnSegment: function(t, e, i) {
            return this._sqClosestPointOnSegment(t, e, i);
        },
        _simplifyDP: function(t, e) {
            var n = t.length, o = typeof Uint8Array != i + "" ? Uint8Array : Array, s = new o(n);
            s[0] = s[n - 1] = 1, this._simplifyDPStep(t, s, e, 0, n - 1);
            var a, r = [];
            for (a = 0; n > a; a++) s[a] && r.push(t[a]);
            return r;
        },
        _simplifyDPStep: function(t, e, i, n, o) {
            var s, a, r, h = 0;
            for (a = n + 1; o - 1 >= a; a++) r = this._sqClosestPointOnSegment(t[a], t[n], t[o], !0), 
            r > h && (s = a, h = r);
            h > i && (e[s] = 1, this._simplifyDPStep(t, e, i, n, s), this._simplifyDPStep(t, e, i, s, o));
        },
        _reducePoints: function(t, e) {
            for (var i = [ t[0] ], n = 1, o = 0, s = t.length; s > n; n++) this._sqDist(t[n], t[o]) > e && (i.push(t[n]), 
            o = n);
            return s - 1 > o && i.push(t[s - 1]), i;
        },
        clipSegment: function(t, e, i, n) {
            var o, s, a, r = n ? this._lastCode : this._getBitCode(t, i), h = this._getBitCode(e, i);
            for (this._lastCode = h; ;) {
                if (!(r | h)) return [ t, e ];
                if (r & h) return !1;
                o = r || h, s = this._getEdgeIntersection(t, e, o, i), a = this._getBitCode(s, i), 
                o === r ? (t = s, r = a) : (e = s, h = a);
            }
        },
        _getEdgeIntersection: function(t, e, i, n) {
            var s = e.x - t.x, a = e.y - t.y, r = n.min, h = n.max;
            return 8 & i ? new o.Point(t.x + s * (h.y - t.y) / a, h.y) : 4 & i ? new o.Point(t.x + s * (r.y - t.y) / a, r.y) : 2 & i ? new o.Point(h.x, t.y + a * (h.x - t.x) / s) : 1 & i ? new o.Point(r.x, t.y + a * (r.x - t.x) / s) : void 0;
        },
        _getBitCode: function(t, e) {
            var i = 0;
            return t.x < e.min.x ? i |= 1 : t.x > e.max.x && (i |= 2), t.y < e.min.y ? i |= 4 : t.y > e.max.y && (i |= 8), 
            i;
        },
        _sqDist: function(t, e) {
            var i = e.x - t.x, n = e.y - t.y;
            return i * i + n * n;
        },
        _sqClosestPointOnSegment: function(t, e, i, n) {
            var s, a = e.x, r = e.y, h = i.x - a, l = i.y - r, u = h * h + l * l;
            return u > 0 && (s = ((t.x - a) * h + (t.y - r) * l) / u, s > 1 ? (a = i.x, r = i.y) : s > 0 && (a += h * s, 
            r += l * s)), h = t.x - a, l = t.y - r, n ? h * h + l * l : new o.Point(a, r);
        }
    }, o.Polyline = o.Path.extend({
        initialize: function(t, e) {
            o.Path.prototype.initialize.call(this, e), this._latlngs = this._convertLatLngs(t);
        },
        options: {
            smoothFactor: 1,
            noClip: !1
        },
        projectLatlngs: function() {
            this._originalPoints = [];
            for (var t = 0, e = this._latlngs.length; e > t; t++) this._originalPoints[t] = this._map.latLngToLayerPoint(this._latlngs[t]);
        },
        getPathString: function() {
            for (var t = 0, e = this._parts.length, i = ""; e > t; t++) i += this._getPathPartStr(this._parts[t]);
            return i;
        },
        getLatLngs: function() {
            return this._latlngs;
        },
        setLatLngs: function(t) {
            return this._latlngs = this._convertLatLngs(t), this.redraw();
        },
        addLatLng: function(t) {
            return this._latlngs.push(o.latLng(t)), this.redraw();
        },
        spliceLatLngs: function() {
            var t = [].splice.apply(this._latlngs, arguments);
            return this._convertLatLngs(this._latlngs, !0), this.redraw(), t;
        },
        closestLayerPoint: function(t) {
            for (var e, i, n = 1 / 0, s = this._parts, a = null, r = 0, h = s.length; h > r; r++) for (var l = s[r], u = 1, c = l.length; c > u; u++) {
                e = l[u - 1], i = l[u];
                var d = o.LineUtil._sqClosestPointOnSegment(t, e, i, !0);
                n > d && (n = d, a = o.LineUtil._sqClosestPointOnSegment(t, e, i));
            }
            return a && (a.distance = Math.sqrt(n)), a;
        },
        getBounds: function() {
            return new o.LatLngBounds(this.getLatLngs());
        },
        _convertLatLngs: function(t, e) {
            var i, n, s = e ? t : [];
            for (i = 0, n = t.length; n > i; i++) {
                if (o.Util.isArray(t[i]) && "number" != typeof t[i][0]) return;
                s[i] = o.latLng(t[i]);
            }
            return s;
        },
        _initEvents: function() {
            o.Path.prototype._initEvents.call(this);
        },
        _getPathPartStr: function(t) {
            for (var e, i = o.Path.VML, n = 0, s = t.length, a = ""; s > n; n++) e = t[n], i && e._round(), 
            a += (n ? "L" : "M") + e.x + " " + e.y;
            return a;
        },
        _clipPoints: function() {
            var t, e, i, n = this._originalPoints, s = n.length;
            if (this.options.noClip) return this._parts = [ n ], void 0;
            this._parts = [];
            var a = this._parts, r = this._map._pathViewport, h = o.LineUtil;
            for (t = 0, e = 0; s - 1 > t; t++) i = h.clipSegment(n[t], n[t + 1], r, t), i && (a[e] = a[e] || [], 
            a[e].push(i[0]), (i[1] !== n[t + 1] || t === s - 2) && (a[e].push(i[1]), e++));
        },
        _simplifyPoints: function() {
            for (var t = this._parts, e = o.LineUtil, i = 0, n = t.length; n > i; i++) t[i] = e.simplify(t[i], this.options.smoothFactor);
        },
        _updatePath: function() {
            this._map && (this._clipPoints(), this._simplifyPoints(), o.Path.prototype._updatePath.call(this));
        }
    }), o.polyline = function(t, e) {
        return new o.Polyline(t, e);
    }, o.PolyUtil = {}, o.PolyUtil.clipPolygon = function(t, e) {
        var i, n, s, a, r, h, l, u, c, d = [ 1, 4, 2, 8 ], p = o.LineUtil;
        for (n = 0, l = t.length; l > n; n++) t[n]._code = p._getBitCode(t[n], e);
        for (a = 0; 4 > a; a++) {
            for (u = d[a], i = [], n = 0, l = t.length, s = l - 1; l > n; s = n++) r = t[n], 
            h = t[s], r._code & u ? h._code & u || (c = p._getEdgeIntersection(h, r, u, e), 
            c._code = p._getBitCode(c, e), i.push(c)) : (h._code & u && (c = p._getEdgeIntersection(h, r, u, e), 
            c._code = p._getBitCode(c, e), i.push(c)), i.push(r));
            t = i;
        }
        return t;
    }, o.Polygon = o.Polyline.extend({
        options: {
            fill: !0
        },
        initialize: function(t, e) {
            var i, n, s;
            if (o.Polyline.prototype.initialize.call(this, t, e), t && o.Util.isArray(t[0]) && "number" != typeof t[0][0]) for (this._latlngs = this._convertLatLngs(t[0]), 
            this._holes = t.slice(1), i = 0, n = this._holes.length; n > i; i++) s = this._holes[i] = this._convertLatLngs(this._holes[i]), 
            s[0].equals(s[s.length - 1]) && s.pop();
            t = this._latlngs, t.length >= 2 && t[0].equals(t[t.length - 1]) && t.pop();
        },
        projectLatlngs: function() {
            if (o.Polyline.prototype.projectLatlngs.call(this), this._holePoints = [], this._holes) {
                var t, e, i, n;
                for (t = 0, i = this._holes.length; i > t; t++) for (this._holePoints[t] = [], e = 0, 
                n = this._holes[t].length; n > e; e++) this._holePoints[t][e] = this._map.latLngToLayerPoint(this._holes[t][e]);
            }
        },
        _clipPoints: function() {
            var t = this._originalPoints, e = [];
            if (this._parts = [ t ].concat(this._holePoints), !this.options.noClip) {
                for (var i = 0, n = this._parts.length; n > i; i++) {
                    var s = o.PolyUtil.clipPolygon(this._parts[i], this._map._pathViewport);
                    s.length && e.push(s);
                }
                this._parts = e;
            }
        },
        _getPathPartStr: function(t) {
            var e = o.Polyline.prototype._getPathPartStr.call(this, t);
            return e + (o.Browser.svg ? "z" : "x");
        }
    }), o.polygon = function(t, e) {
        return new o.Polygon(t, e);
    }, function() {
        function t(t) {
            return o.FeatureGroup.extend({
                initialize: function(t, e) {
                    this._layers = {}, this._options = e, this.setLatLngs(t);
                },
                setLatLngs: function(e) {
                    var i = 0, n = e.length;
                    for (this.eachLayer(function(t) {
                        n > i ? t.setLatLngs(e[i++]) : this.removeLayer(t);
                    }, this); n > i; ) this.addLayer(new t(e[i++], this._options));
                    return this;
                },
                getLatLngs: function() {
                    var t = [];
                    return this.eachLayer(function(e) {
                        t.push(e.getLatLngs());
                    }), t;
                }
            });
        }
        o.MultiPolyline = t(o.Polyline), o.MultiPolygon = t(o.Polygon), o.multiPolyline = function(t, e) {
            return new o.MultiPolyline(t, e);
        }, o.multiPolygon = function(t, e) {
            return new o.MultiPolygon(t, e);
        };
    }(), o.Rectangle = o.Polygon.extend({
        initialize: function(t, e) {
            o.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(t), e);
        },
        setBounds: function(t) {
            this.setLatLngs(this._boundsToLatLngs(t));
        },
        _boundsToLatLngs: function(t) {
            return t = o.latLngBounds(t), [ t.getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast() ];
        }
    }), o.rectangle = function(t, e) {
        return new o.Rectangle(t, e);
    }, o.Circle = o.Path.extend({
        initialize: function(t, e, i) {
            o.Path.prototype.initialize.call(this, i), this._latlng = o.latLng(t), this._mRadius = e;
        },
        options: {
            fill: !0
        },
        setLatLng: function(t) {
            return this._latlng = o.latLng(t), this.redraw();
        },
        setRadius: function(t) {
            return this._mRadius = t, this.redraw();
        },
        projectLatlngs: function() {
            var t = this._getLngRadius(), e = this._latlng, i = this._map.latLngToLayerPoint([ e.lat, e.lng - t ]);
            this._point = this._map.latLngToLayerPoint(e), this._radius = Math.max(this._point.x - i.x, 1);
        },
        getBounds: function() {
            var t = this._getLngRadius(), e = 360 * (this._mRadius / 40075017), i = this._latlng;
            return new o.LatLngBounds([ i.lat - e, i.lng - t ], [ i.lat + e, i.lng + t ]);
        },
        getLatLng: function() {
            return this._latlng;
        },
        getPathString: function() {
            var t = this._point, e = this._radius;
            return this._checkIfEmpty() ? "" : o.Browser.svg ? "M" + t.x + "," + (t.y - e) + "A" + e + "," + e + ",0,1,1," + (t.x - .1) + "," + (t.y - e) + " z" : (t._round(), 
            e = Math.round(e), "AL " + t.x + "," + t.y + " " + e + "," + e + " 0," + 23592600);
        },
        getRadius: function() {
            return this._mRadius;
        },
        _getLatRadius: function() {
            return 360 * (this._mRadius / 40075017);
        },
        _getLngRadius: function() {
            return this._getLatRadius() / Math.cos(o.LatLng.DEG_TO_RAD * this._latlng.lat);
        },
        _checkIfEmpty: function() {
            if (!this._map) return !1;
            var t = this._map._pathViewport, e = this._radius, i = this._point;
            return i.x - e > t.max.x || i.y - e > t.max.y || i.x + e < t.min.x || i.y + e < t.min.y;
        }
    }), o.circle = function(t, e, i) {
        return new o.Circle(t, e, i);
    }, o.CircleMarker = o.Circle.extend({
        options: {
            radius: 10,
            weight: 2
        },
        initialize: function(t, e) {
            o.Circle.prototype.initialize.call(this, t, null, e), this._radius = this.options.radius;
        },
        projectLatlngs: function() {
            this._point = this._map.latLngToLayerPoint(this._latlng);
        },
        _updateStyle: function() {
            o.Circle.prototype._updateStyle.call(this), this.setRadius(this.options.radius);
        },
        setRadius: function(t) {
            return this.options.radius = this._radius = t, this.redraw();
        }
    }), o.circleMarker = function(t, e) {
        return new o.CircleMarker(t, e);
    }, o.Polyline.include(o.Path.CANVAS ? {
        _containsPoint: function(t, e) {
            var i, n, s, a, r, h, l, u = this.options.weight / 2;
            for (o.Browser.touch && (u += 10), i = 0, a = this._parts.length; a > i; i++) for (l = this._parts[i], 
            n = 0, r = l.length, s = r - 1; r > n; s = n++) if ((e || 0 !== n) && (h = o.LineUtil.pointToSegmentDistance(t, l[s], l[n]), 
            u >= h)) return !0;
            return !1;
        }
    } : {}), o.Polygon.include(o.Path.CANVAS ? {
        _containsPoint: function(t) {
            var e, i, n, s, a, r, h, l, u = !1;
            if (o.Polyline.prototype._containsPoint.call(this, t, !0)) return !0;
            for (s = 0, h = this._parts.length; h > s; s++) for (e = this._parts[s], a = 0, 
            l = e.length, r = l - 1; l > a; r = a++) i = e[a], n = e[r], i.y > t.y != n.y > t.y && t.x < (n.x - i.x) * (t.y - i.y) / (n.y - i.y) + i.x && (u = !u);
            return u;
        }
    } : {}), o.Circle.include(o.Path.CANVAS ? {
        _drawPath: function() {
            var t = this._point;
            this._ctx.beginPath(), this._ctx.arc(t.x, t.y, this._radius, 0, 2 * Math.PI, !1);
        },
        _containsPoint: function(t) {
            var e = this._point, i = this.options.stroke ? this.options.weight / 2 : 0;
            return t.distanceTo(e) <= this._radius + i;
        }
    } : {}), o.CircleMarker.include(o.Path.CANVAS ? {
        _updateStyle: function() {
            o.Path.prototype._updateStyle.call(this);
        }
    } : {}), o.GeoJSON = o.FeatureGroup.extend({
        initialize: function(t, e) {
            o.setOptions(this, e), this._layers = {}, t && this.addData(t);
        },
        addData: function(t) {
            var e, i, n, s = o.Util.isArray(t) ? t : t.features;
            if (s) {
                for (e = 0, i = s.length; i > e; e++) n = s[e], (n.geometries || n.geometry || n.features || n.coordinates) && this.addData(s[e]);
                return this;
            }
            var a = this.options;
            if (!a.filter || a.filter(t)) {
                var r = o.GeoJSON.geometryToLayer(t, a.pointToLayer, a.coordsToLatLng);
                return r.feature = o.GeoJSON.asFeature(t), r.defaultOptions = r.options, this.resetStyle(r), 
                a.onEachFeature && a.onEachFeature(t, r), this.addLayer(r);
            }
        },
        resetStyle: function(t) {
            var e = this.options.style;
            e && (o.Util.extend(t.options, t.defaultOptions), this._setLayerStyle(t, e));
        },
        setStyle: function(t) {
            this.eachLayer(function(e) {
                this._setLayerStyle(e, t);
            }, this);
        },
        _setLayerStyle: function(t, e) {
            "function" == typeof e && (e = e(t.feature)), t.setStyle && t.setStyle(e);
        }
    }), o.extend(o.GeoJSON, {
        geometryToLayer: function(t, e, i) {
            var n, s, a, r, h, l = "Feature" === t.type ? t.geometry : t, u = l.coordinates, c = [];
            switch (i = i || this.coordsToLatLng, l.type) {
              case "Point":
                return n = i(u), e ? e(t, n) : new o.Marker(n);

              case "MultiPoint":
                for (a = 0, r = u.length; r > a; a++) n = i(u[a]), h = e ? e(t, n) : new o.Marker(n), 
                c.push(h);
                return new o.FeatureGroup(c);

              case "LineString":
                return s = this.coordsToLatLngs(u, 0, i), new o.Polyline(s);

              case "Polygon":
                return s = this.coordsToLatLngs(u, 1, i), new o.Polygon(s);

              case "MultiLineString":
                return s = this.coordsToLatLngs(u, 1, i), new o.MultiPolyline(s);

              case "MultiPolygon":
                return s = this.coordsToLatLngs(u, 2, i), new o.MultiPolygon(s);

              case "GeometryCollection":
                for (a = 0, r = l.geometries.length; r > a; a++) h = this.geometryToLayer({
                    geometry: l.geometries[a],
                    type: "Feature",
                    properties: t.properties
                }, e, i), c.push(h);
                return new o.FeatureGroup(c);

              default:
                throw new Error("Invalid GeoJSON object.");
            }
        },
        coordsToLatLng: function(t) {
            return new o.LatLng(t[1], t[0]);
        },
        coordsToLatLngs: function(t, e, i) {
            var n, o, s, a = [];
            for (o = 0, s = t.length; s > o; o++) n = e ? this.coordsToLatLngs(t[o], e - 1, i) : (i || this.coordsToLatLng)(t[o]), 
            a.push(n);
            return a;
        },
        latLngToCoords: function(t) {
            return [ t.lng, t.lat ];
        },
        latLngsToCoords: function(t) {
            for (var e = [], i = 0, n = t.length; n > i; i++) e.push(o.GeoJSON.latLngToCoords(t[i]));
            return e;
        },
        getFeature: function(t, e) {
            return t.feature ? o.extend({}, t.feature, {
                geometry: e
            }) : o.GeoJSON.asFeature(e);
        },
        asFeature: function(t) {
            return "Feature" === t.type ? t : {
                type: "Feature",
                properties: {},
                geometry: t
            };
        }
    });
    var a = {
        toGeoJSON: function() {
            return o.GeoJSON.getFeature(this, {
                type: "Point",
                coordinates: o.GeoJSON.latLngToCoords(this.getLatLng())
            });
        }
    };
    o.Marker.include(a), o.Circle.include(a), o.CircleMarker.include(a), o.Polyline.include({
        toGeoJSON: function() {
            return o.GeoJSON.getFeature(this, {
                type: "LineString",
                coordinates: o.GeoJSON.latLngsToCoords(this.getLatLngs())
            });
        }
    }), o.Polygon.include({
        toGeoJSON: function() {
            var t, e, i, n = [ o.GeoJSON.latLngsToCoords(this.getLatLngs()) ];
            if (n[0].push(n[0][0]), this._holes) for (t = 0, e = this._holes.length; e > t; t++) i = o.GeoJSON.latLngsToCoords(this._holes[t]), 
            i.push(i[0]), n.push(i);
            return o.GeoJSON.getFeature(this, {
                type: "Polygon",
                coordinates: n
            });
        }
    }), function() {
        function t(t, e) {
            t.include({
                toGeoJSON: function() {
                    var t = [];
                    return this.eachLayer(function(e) {
                        t.push(e.toGeoJSON().geometry.coordinates);
                    }), o.GeoJSON.getFeature(this, {
                        type: e,
                        coordinates: t
                    });
                }
            });
        }
        t(o.MultiPolyline, "MultiLineString"), t(o.MultiPolygon, "MultiPolygon");
    }(), o.LayerGroup.include({
        toGeoJSON: function() {
            var t = [];
            return this.eachLayer(function(e) {
                e.toGeoJSON && t.push(o.GeoJSON.asFeature(e.toGeoJSON()));
            }), {
                type: "FeatureCollection",
                features: t
            };
        }
    }), o.geoJson = function(t, e) {
        return new o.GeoJSON(t, e);
    }, o.DomEvent = {
        addListener: function(t, e, i, n) {
            var s, a, r, h = o.stamp(i), l = "_leaflet_" + e + h;
            return t[l] ? this : (s = function(e) {
                return i.call(n || t, e || o.DomEvent._getEvent());
            }, o.Browser.msTouch && 0 === e.indexOf("touch") ? this.addMsTouchListener(t, e, s, h) : (o.Browser.touch && "dblclick" === e && this.addDoubleTapListener && this.addDoubleTapListener(t, s, h), 
            "addEventListener" in t ? "mousewheel" === e ? (t.addEventListener("DOMMouseScroll", s, !1), 
            t.addEventListener(e, s, !1)) : "mouseenter" === e || "mouseleave" === e ? (a = s, 
            r = "mouseenter" === e ? "mouseover" : "mouseout", s = function(e) {
                return o.DomEvent._checkMouse(t, e) ? a(e) : void 0;
            }, t.addEventListener(r, s, !1)) : "click" === e && o.Browser.android ? (a = s, 
            s = function(t) {
                return o.DomEvent._filterClick(t, a);
            }, t.addEventListener(e, s, !1)) : t.addEventListener(e, s, !1) : "attachEvent" in t && t.attachEvent("on" + e, s), 
            t[l] = s, this));
        },
        removeListener: function(t, e, i) {
            var n = o.stamp(i), s = "_leaflet_" + e + n, a = t[s];
            return a ? (o.Browser.msTouch && 0 === e.indexOf("touch") ? this.removeMsTouchListener(t, e, n) : o.Browser.touch && "dblclick" === e && this.removeDoubleTapListener ? this.removeDoubleTapListener(t, n) : "removeEventListener" in t ? "mousewheel" === e ? (t.removeEventListener("DOMMouseScroll", a, !1), 
            t.removeEventListener(e, a, !1)) : "mouseenter" === e || "mouseleave" === e ? t.removeEventListener("mouseenter" === e ? "mouseover" : "mouseout", a, !1) : t.removeEventListener(e, a, !1) : "detachEvent" in t && t.detachEvent("on" + e, a), 
            t[s] = null, this) : this;
        },
        stopPropagation: function(t) {
            return t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0, this;
        },
        disableClickPropagation: function(t) {
            for (var e = o.DomEvent.stopPropagation, i = o.Draggable.START.length - 1; i >= 0; i--) o.DomEvent.addListener(t, o.Draggable.START[i], e);
            return o.DomEvent.addListener(t, "click", o.DomEvent._fakeStop).addListener(t, "dblclick", e);
        },
        preventDefault: function(t) {
            return t.preventDefault ? t.preventDefault() : t.returnValue = !1, this;
        },
        stop: function(t) {
            return o.DomEvent.preventDefault(t).stopPropagation(t);
        },
        getMousePosition: function(t, i) {
            var n = o.Browser.ie7, s = e.body, a = e.documentElement, r = t.pageX ? t.pageX - s.scrollLeft - a.scrollLeft : t.clientX, h = t.pageY ? t.pageY - s.scrollTop - a.scrollTop : t.clientY, l = new o.Point(r, h), u = i.getBoundingClientRect(), c = u.left - i.clientLeft, d = u.top - i.clientTop;
            return o.DomUtil.documentIsLtr() || !o.Browser.webkit && !n || (c += i.scrollWidth - i.clientWidth, 
            n && "hidden" !== o.DomUtil.getStyle(i, "overflow-y") && "hidden" !== o.DomUtil.getStyle(i, "overflow") && (c += 17)), 
            l._subtract(new o.Point(c, d));
        },
        getWheelDelta: function(t) {
            var e = 0;
            return t.wheelDelta && (e = t.wheelDelta / 120), t.detail && (e = -t.detail / 3), 
            e;
        },
        _skipEvents: {},
        _fakeStop: function(t) {
            o.DomEvent._skipEvents[t.type] = !0;
        },
        _skipped: function(t) {
            var e = this._skipEvents[t.type];
            return this._skipEvents[t.type] = !1, e;
        },
        _checkMouse: function(t, e) {
            var i = e.relatedTarget;
            if (!i) return !0;
            try {
                for (;i && i !== t; ) i = i.parentNode;
            } catch (n) {
                return !1;
            }
            return i !== t;
        },
        _getEvent: function() {
            var e = t.event;
            if (!e) for (var i = arguments.callee.caller; i && (e = i.arguments[0], !e || t.Event !== e.constructor); ) i = i.caller;
            return e;
        },
        _filterClick: function(t, e) {
            var i = t.timeStamp || t.originalEvent.timeStamp, n = o.DomEvent._lastClick && i - o.DomEvent._lastClick;
            return n && n > 100 && 1e3 > n || t.target._simulatedClick && !t._simulated ? (o.DomEvent.stop(t), 
            void 0) : (o.DomEvent._lastClick = i, e(t));
        }
    }, o.DomEvent.on = o.DomEvent.addListener, o.DomEvent.off = o.DomEvent.removeListener, 
    o.Draggable = o.Class.extend({
        includes: o.Mixin.Events,
        statics: {
            START: o.Browser.touch ? [ "touchstart", "mousedown" ] : [ "mousedown" ],
            END: {
                mousedown: "mouseup",
                touchstart: "touchend",
                MSPointerDown: "touchend"
            },
            MOVE: {
                mousedown: "mousemove",
                touchstart: "touchmove",
                MSPointerDown: "touchmove"
            }
        },
        initialize: function(t, e) {
            this._element = t, this._dragStartTarget = e || t;
        },
        enable: function() {
            if (!this._enabled) {
                for (var t = o.Draggable.START.length - 1; t >= 0; t--) o.DomEvent.on(this._dragStartTarget, o.Draggable.START[t], this._onDown, this);
                this._enabled = !0;
            }
        },
        disable: function() {
            if (this._enabled) {
                for (var t = o.Draggable.START.length - 1; t >= 0; t--) o.DomEvent.off(this._dragStartTarget, o.Draggable.START[t], this._onDown, this);
                this._enabled = !1, this._moved = !1;
            }
        },
        _onDown: function(t) {
            if (!t.shiftKey && (1 === t.which || 1 === t.button || t.touches) && (o.DomEvent.stopPropagation(t), 
            !o.Draggable._disabled)) {
                o.DomUtil.disableImageDrag(), o.DomUtil.disableTextSelection();
                var i = t.touches ? t.touches[0] : t, n = i.target;
                o.Browser.touch && "a" === n.tagName.toLowerCase() && o.DomUtil.addClass(n, "leaflet-active"), 
                this._moved = !1, this._moving || (this._startPoint = new o.Point(i.clientX, i.clientY), 
                this._startPos = this._newPos = o.DomUtil.getPosition(this._element), o.DomEvent.on(e, o.Draggable.MOVE[t.type], this._onMove, this).on(e, o.Draggable.END[t.type], this._onUp, this));
            }
        },
        _onMove: function(t) {
            if (!(t.touches && t.touches.length > 1)) {
                var i = t.touches && 1 === t.touches.length ? t.touches[0] : t, n = new o.Point(i.clientX, i.clientY), s = n.subtract(this._startPoint);
                (s.x || s.y) && (o.DomEvent.preventDefault(t), this._moved || (this.fire("dragstart"), 
                this._moved = !0, this._startPos = o.DomUtil.getPosition(this._element).subtract(s), 
                o.Browser.touch || o.DomUtil.addClass(e.body, "leaflet-dragging")), this._newPos = this._startPos.add(s), 
                this._moving = !0, o.Util.cancelAnimFrame(this._animRequest), this._animRequest = o.Util.requestAnimFrame(this._updatePosition, this, !0, this._dragStartTarget));
            }
        },
        _updatePosition: function() {
            this.fire("predrag"), o.DomUtil.setPosition(this._element, this._newPos), this.fire("drag");
        },
        _onUp: function() {
            o.Browser.touch || o.DomUtil.removeClass(e.body, "leaflet-dragging");
            for (var t in o.Draggable.MOVE) o.DomEvent.off(e, o.Draggable.MOVE[t], this._onMove).off(e, o.Draggable.END[t], this._onUp);
            o.DomUtil.enableImageDrag(), o.DomUtil.enableTextSelection(), this._moved && (o.Util.cancelAnimFrame(this._animRequest), 
            this.fire("dragend")), this._moving = !1;
        }
    }), o.Handler = o.Class.extend({
        initialize: function(t) {
            this._map = t;
        },
        enable: function() {
            this._enabled || (this._enabled = !0, this.addHooks());
        },
        disable: function() {
            this._enabled && (this._enabled = !1, this.removeHooks());
        },
        enabled: function() {
            return !!this._enabled;
        }
    }), o.Map.mergeOptions({
        dragging: !0,
        inertia: !o.Browser.android23,
        inertiaDeceleration: 3400,
        inertiaMaxSpeed: 1 / 0,
        inertiaThreshold: o.Browser.touch ? 32 : 18,
        easeLinearity: .25,
        worldCopyJump: !1
    }), o.Map.Drag = o.Handler.extend({
        addHooks: function() {
            if (!this._draggable) {
                var t = this._map;
                this._draggable = new o.Draggable(t._mapPane, t._container), this._draggable.on({
                    dragstart: this._onDragStart,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this), t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDrag, this), 
                t.on("viewreset", this._onViewReset, this), this._onViewReset());
            }
            this._draggable.enable();
        },
        removeHooks: function() {
            this._draggable.disable();
        },
        moved: function() {
            return this._draggable && this._draggable._moved;
        },
        _onDragStart: function() {
            var t = this._map;
            t._panAnim && t._panAnim.stop(), t.fire("movestart").fire("dragstart"), t.options.inertia && (this._positions = [], 
            this._times = []);
        },
        _onDrag: function() {
            if (this._map.options.inertia) {
                var t = this._lastTime = +new Date(), e = this._lastPos = this._draggable._newPos;
                this._positions.push(e), this._times.push(t), t - this._times[0] > 200 && (this._positions.shift(), 
                this._times.shift());
            }
            this._map.fire("move").fire("drag");
        },
        _onViewReset: function() {
            var t = this._map.getSize()._divideBy(2), e = this._map.latLngToLayerPoint([ 0, 0 ]);
            this._initialWorldOffset = e.subtract(t).x, this._worldWidth = this._map.project([ 0, 180 ]).x;
        },
        _onPreDrag: function() {
            var t = this._worldWidth, e = Math.round(t / 2), i = this._initialWorldOffset, n = this._draggable._newPos.x, o = (n - e + i) % t + e - i, s = (n + e + i) % t - e - i, a = Math.abs(o + i) < Math.abs(s + i) ? o : s;
            this._draggable._newPos.x = a;
        },
        _onDragEnd: function() {
            var t = this._map, e = t.options, i = +new Date() - this._lastTime, n = !e.inertia || i > e.inertiaThreshold || !this._positions[0];
            if (t.fire("dragend"), n) t.fire("moveend"); else {
                var s = this._lastPos.subtract(this._positions[0]), a = (this._lastTime + i - this._times[0]) / 1e3, r = e.easeLinearity, h = s.multiplyBy(r / a), l = h.distanceTo([ 0, 0 ]), u = Math.min(e.inertiaMaxSpeed, l), c = h.multiplyBy(u / l), d = u / (e.inertiaDeceleration * r), p = c.multiplyBy(-d / 2).round();
                p.x && p.y ? o.Util.requestAnimFrame(function() {
                    t.panBy(p, {
                        duration: d,
                        easeLinearity: r,
                        noMoveStart: !0
                    });
                }) : t.fire("moveend");
            }
        }
    }), o.Map.addInitHook("addHandler", "dragging", o.Map.Drag), o.Map.mergeOptions({
        doubleClickZoom: !0
    }), o.Map.DoubleClickZoom = o.Handler.extend({
        addHooks: function() {
            this._map.on("dblclick", this._onDoubleClick);
        },
        removeHooks: function() {
            this._map.off("dblclick", this._onDoubleClick);
        },
        _onDoubleClick: function(t) {
            this.setZoomAround(t.containerPoint, this._zoom + 1);
        }
    }), o.Map.addInitHook("addHandler", "doubleClickZoom", o.Map.DoubleClickZoom), o.Map.mergeOptions({
        scrollWheelZoom: !0
    }), o.Map.ScrollWheelZoom = o.Handler.extend({
        addHooks: function() {
            o.DomEvent.on(this._map._container, "mousewheel", this._onWheelScroll, this), o.DomEvent.on(this._map._container, "MozMousePixelScroll", o.DomEvent.preventDefault), 
            this._delta = 0;
        },
        removeHooks: function() {
            o.DomEvent.off(this._map._container, "mousewheel", this._onWheelScroll), o.DomEvent.off(this._map._container, "MozMousePixelScroll", o.DomEvent.preventDefault);
        },
        _onWheelScroll: function(t) {
            var e = o.DomEvent.getWheelDelta(t);
            this._delta += e, this._lastMousePos = this._map.mouseEventToContainerPoint(t), 
            this._startTime || (this._startTime = +new Date());
            var i = Math.max(40 - (+new Date() - this._startTime), 0);
            clearTimeout(this._timer), this._timer = setTimeout(o.bind(this._performZoom, this), i), 
            o.DomEvent.preventDefault(t), o.DomEvent.stopPropagation(t);
        },
        _performZoom: function() {
            var t = this._map, e = this._delta, i = t.getZoom();
            e = e > 0 ? Math.ceil(e) : Math.floor(e), e = Math.max(Math.min(e, 4), -4), e = t._limitZoom(i + e) - i, 
            this._delta = 0, this._startTime = null, e && t.setZoomAround(this._lastMousePos, i + e);
        }
    }), o.Map.addInitHook("addHandler", "scrollWheelZoom", o.Map.ScrollWheelZoom), o.extend(o.DomEvent, {
        _touchstart: o.Browser.msTouch ? "MSPointerDown" : "touchstart",
        _touchend: o.Browser.msTouch ? "MSPointerUp" : "touchend",
        addDoubleTapListener: function(t, i, n) {
            function s(t) {
                var e;
                if (o.Browser.msTouch ? (_.push(t.pointerId), e = _.length) : e = t.touches.length, 
                !(e > 1)) {
                    var i = Date.now(), n = i - (r || i);
                    h = t.touches ? t.touches[0] : t, l = n > 0 && u >= n, r = i;
                }
            }
            function a(t) {
                if (o.Browser.msTouch) {
                    var e = _.indexOf(t.pointerId);
                    if (-1 === e) return;
                    _.splice(e, 1);
                }
                if (l) {
                    if (o.Browser.msTouch) {
                        var n, s = {};
                        for (var a in h) n = h[a], s[a] = "function" == typeof n ? n.bind(h) : n;
                        h = s;
                    }
                    h.type = "dblclick", i(h), r = null;
                }
            }
            var r, h, l = !1, u = 250, c = "_leaflet_", d = this._touchstart, p = this._touchend, _ = [];
            t[c + d + n] = s, t[c + p + n] = a;
            var m = o.Browser.msTouch ? e.documentElement : t;
            return t.addEventListener(d, s, !1), m.addEventListener(p, a, !1), o.Browser.msTouch && m.addEventListener("MSPointerCancel", a, !1), 
            this;
        },
        removeDoubleTapListener: function(t, i) {
            var n = "_leaflet_";
            return t.removeEventListener(this._touchstart, t[n + this._touchstart + i], !1), 
            (o.Browser.msTouch ? e.documentElement : t).removeEventListener(this._touchend, t[n + this._touchend + i], !1), 
            o.Browser.msTouch && e.documentElement.removeEventListener("MSPointerCancel", t[n + this._touchend + i], !1), 
            this;
        }
    }), o.extend(o.DomEvent, {
        _msTouches: [],
        _msDocumentListener: !1,
        addMsTouchListener: function(t, e, i, n) {
            switch (e) {
              case "touchstart":
                return this.addMsTouchListenerStart(t, e, i, n);

              case "touchend":
                return this.addMsTouchListenerEnd(t, e, i, n);

              case "touchmove":
                return this.addMsTouchListenerMove(t, e, i, n);

              default:
                throw "Unknown touch event type";
            }
        },
        addMsTouchListenerStart: function(t, i, n, o) {
            var s = "_leaflet_", a = this._msTouches, r = function(t) {
                for (var e = !1, i = 0; i < a.length; i++) if (a[i].pointerId === t.pointerId) {
                    e = !0;
                    break;
                }
                e || a.push(t), t.touches = a.slice(), t.changedTouches = [ t ], n(t);
            };
            if (t[s + "touchstart" + o] = r, t.addEventListener("MSPointerDown", r, !1), !this._msDocumentListener) {
                var h = function(t) {
                    for (var e = 0; e < a.length; e++) if (a[e].pointerId === t.pointerId) {
                        a.splice(e, 1);
                        break;
                    }
                };
                e.documentElement.addEventListener("MSPointerUp", h, !1), e.documentElement.addEventListener("MSPointerCancel", h, !1), 
                this._msDocumentListener = !0;
            }
            return this;
        },
        addMsTouchListenerMove: function(t, e, i, n) {
            function o(t) {
                if (t.pointerType !== t.MSPOINTER_TYPE_MOUSE || 0 !== t.buttons) {
                    for (var e = 0; e < a.length; e++) if (a[e].pointerId === t.pointerId) {
                        a[e] = t;
                        break;
                    }
                    t.touches = a.slice(), t.changedTouches = [ t ], i(t);
                }
            }
            var s = "_leaflet_", a = this._msTouches;
            return t[s + "touchmove" + n] = o, t.addEventListener("MSPointerMove", o, !1), this;
        },
        addMsTouchListenerEnd: function(t, e, i, n) {
            var o = "_leaflet_", s = this._msTouches, a = function(t) {
                for (var e = 0; e < s.length; e++) if (s[e].pointerId === t.pointerId) {
                    s.splice(e, 1);
                    break;
                }
                t.touches = s.slice(), t.changedTouches = [ t ], i(t);
            };
            return t[o + "touchend" + n] = a, t.addEventListener("MSPointerUp", a, !1), t.addEventListener("MSPointerCancel", a, !1), 
            this;
        },
        removeMsTouchListener: function(t, e, i) {
            var n = "_leaflet_", o = t[n + e + i];
            switch (e) {
              case "touchstart":
                t.removeEventListener("MSPointerDown", o, !1);
                break;

              case "touchmove":
                t.removeEventListener("MSPointerMove", o, !1);
                break;

              case "touchend":
                t.removeEventListener("MSPointerUp", o, !1), t.removeEventListener("MSPointerCancel", o, !1);
            }
            return this;
        }
    }), o.Map.mergeOptions({
        touchZoom: o.Browser.touch && !o.Browser.android23
    }), o.Map.TouchZoom = o.Handler.extend({
        addHooks: function() {
            o.DomEvent.on(this._map._container, "touchstart", this._onTouchStart, this);
        },
        removeHooks: function() {
            o.DomEvent.off(this._map._container, "touchstart", this._onTouchStart, this);
        },
        _onTouchStart: function(t) {
            var i = this._map;
            if (t.touches && 2 === t.touches.length && !i._animatingZoom && !this._zooming) {
                var n = i.mouseEventToLayerPoint(t.touches[0]), s = i.mouseEventToLayerPoint(t.touches[1]), a = i._getCenterLayerPoint();
                this._startCenter = n.add(s)._divideBy(2), this._startDist = n.distanceTo(s), this._moved = !1, 
                this._zooming = !0, this._centerOffset = a.subtract(this._startCenter), i._panAnim && i._panAnim.stop(), 
                o.DomEvent.on(e, "touchmove", this._onTouchMove, this).on(e, "touchend", this._onTouchEnd, this), 
                o.DomEvent.preventDefault(t);
            }
        },
        _onTouchMove: function(t) {
            var e = this._map;
            if (t.touches && 2 === t.touches.length && this._zooming) {
                var i = e.mouseEventToLayerPoint(t.touches[0]), n = e.mouseEventToLayerPoint(t.touches[1]);
                this._scale = i.distanceTo(n) / this._startDist, this._delta = i._add(n)._divideBy(2)._subtract(this._startCenter), 
                1 !== this._scale && (this._moved || (o.DomUtil.addClass(e._mapPane, "leaflet-touching"), 
                e.fire("movestart").fire("zoomstart"), this._moved = !0), o.Util.cancelAnimFrame(this._animRequest), 
                this._animRequest = o.Util.requestAnimFrame(this._updateOnMove, this, !0, this._map._container), 
                o.DomEvent.preventDefault(t));
            }
        },
        _updateOnMove: function() {
            var t = this._map, e = this._getScaleOrigin(), i = t.layerPointToLatLng(e), n = t.getScaleZoom(this._scale);
            t._animateZoom(i, n, this._startCenter, this._scale, this._delta);
        },
        _onTouchEnd: function() {
            if (!this._moved || !this._zooming) return this._zooming = !1, void 0;
            var t = this._map;
            this._zooming = !1, o.DomUtil.removeClass(t._mapPane, "leaflet-touching"), o.Util.cancelAnimFrame(this._animRequest), 
            o.DomEvent.off(e, "touchmove", this._onTouchMove).off(e, "touchend", this._onTouchEnd);
            var i = this._getScaleOrigin(), n = t.layerPointToLatLng(i), s = t.getZoom(), a = t.getScaleZoom(this._scale) - s, r = a > 0 ? Math.ceil(a) : Math.floor(a), h = t._limitZoom(s + r), l = t.getZoomScale(h) / this._scale;
            t._animateZoom(n, h, i, l);
        },
        _getScaleOrigin: function() {
            var t = this._centerOffset.subtract(this._delta).divideBy(this._scale);
            return this._startCenter.add(t);
        }
    }), o.Map.addInitHook("addHandler", "touchZoom", o.Map.TouchZoom), o.Map.mergeOptions({
        tap: !0,
        tapTolerance: 15
    }), o.Map.Tap = o.Handler.extend({
        addHooks: function() {
            o.DomEvent.on(this._map._container, "touchstart", this._onDown, this);
        },
        removeHooks: function() {
            o.DomEvent.off(this._map._container, "touchstart", this._onDown, this);
        },
        _onDown: function(t) {
            if (t.touches) {
                if (o.DomEvent.preventDefault(t), this._fireClick = !0, t.touches.length > 1) return this._fireClick = !1, 
                clearTimeout(this._holdTimeout), void 0;
                var i = t.touches[0], n = i.target;
                this._startPos = this._newPos = new o.Point(i.clientX, i.clientY), "a" === n.tagName.toLowerCase() && o.DomUtil.addClass(n, "leaflet-active"), 
                this._holdTimeout = setTimeout(o.bind(function() {
                    this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", i));
                }, this), 1e3), o.DomEvent.on(e, "touchmove", this._onMove, this).on(e, "touchend", this._onUp, this);
            }
        },
        _onUp: function(t) {
            if (clearTimeout(this._holdTimeout), o.DomEvent.off(e, "touchmove", this._onMove, this).off(e, "touchend", this._onUp, this), 
            this._fireClick && t && t.changedTouches) {
                var i = t.changedTouches[0], n = i.target;
                "a" === n.tagName.toLowerCase() && o.DomUtil.removeClass(n, "leaflet-active"), this._isTapValid() && this._simulateEvent("click", i);
            }
        },
        _isTapValid: function() {
            return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
        },
        _onMove: function(t) {
            var e = t.touches[0];
            this._newPos = new o.Point(e.clientX, e.clientY);
        },
        _simulateEvent: function(i, n) {
            var o = e.createEvent("MouseEvents");
            o._simulated = !0, n.target._simulatedClick = !0, o.initMouseEvent(i, !0, !0, t, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), 
            n.target.dispatchEvent(o);
        }
    }), o.Browser.touch && !o.Browser.msTouch && o.Map.addInitHook("addHandler", "tap", o.Map.Tap), 
    o.Map.mergeOptions({
        boxZoom: !0
    }), o.Map.BoxZoom = o.Handler.extend({
        initialize: function(t) {
            this._map = t, this._container = t._container, this._pane = t._panes.overlayPane;
        },
        addHooks: function() {
            o.DomEvent.on(this._container, "mousedown", this._onMouseDown, this);
        },
        removeHooks: function() {
            o.DomEvent.off(this._container, "mousedown", this._onMouseDown);
        },
        _onMouseDown: function(t) {
            return !t.shiftKey || 1 !== t.which && 1 !== t.button ? !1 : (o.DomUtil.disableTextSelection(), 
            o.DomUtil.disableImageDrag(), this._startLayerPoint = this._map.mouseEventToLayerPoint(t), 
            this._box = o.DomUtil.create("div", "leaflet-zoom-box", this._pane), o.DomUtil.setPosition(this._box, this._startLayerPoint), 
            this._container.style.cursor = "crosshair", o.DomEvent.on(e, "mousemove", this._onMouseMove, this).on(e, "mouseup", this._onMouseUp, this).on(e, "keydown", this._onKeyDown, this), 
            this._map.fire("boxzoomstart"), void 0);
        },
        _onMouseMove: function(t) {
            var e = this._startLayerPoint, i = this._box, n = this._map.mouseEventToLayerPoint(t), s = n.subtract(e), a = new o.Point(Math.min(n.x, e.x), Math.min(n.y, e.y));
            o.DomUtil.setPosition(i, a), i.style.width = Math.max(0, Math.abs(s.x) - 4) + "px", 
            i.style.height = Math.max(0, Math.abs(s.y) - 4) + "px";
        },
        _finish: function() {
            this._pane.removeChild(this._box), this._container.style.cursor = "", o.DomUtil.enableTextSelection(), 
            o.DomUtil.enableImageDrag(), o.DomEvent.off(e, "mousemove", this._onMouseMove).off(e, "mouseup", this._onMouseUp).off(e, "keydown", this._onKeyDown);
        },
        _onMouseUp: function(t) {
            this._finish();
            var e = this._map, i = e.mouseEventToLayerPoint(t);
            if (!this._startLayerPoint.equals(i)) {
                var n = new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint), e.layerPointToLatLng(i));
                e.fitBounds(n), e.fire("boxzoomend", {
                    boxZoomBounds: n
                });
            }
        },
        _onKeyDown: function(t) {
            27 === t.keyCode && this._finish();
        }
    }), o.Map.addInitHook("addHandler", "boxZoom", o.Map.BoxZoom), o.Map.mergeOptions({
        keyboard: !0,
        keyboardPanOffset: 80,
        keyboardZoomOffset: 1
    }), o.Map.Keyboard = o.Handler.extend({
        keyCodes: {
            left: [ 37 ],
            right: [ 39 ],
            down: [ 40 ],
            up: [ 38 ],
            zoomIn: [ 187, 107, 61 ],
            zoomOut: [ 189, 109, 173 ]
        },
        initialize: function(t) {
            this._map = t, this._setPanOffset(t.options.keyboardPanOffset), this._setZoomOffset(t.options.keyboardZoomOffset);
        },
        addHooks: function() {
            var t = this._map._container;
            -1 === t.tabIndex && (t.tabIndex = "0"), o.DomEvent.on(t, "focus", this._onFocus, this).on(t, "blur", this._onBlur, this).on(t, "mousedown", this._onMouseDown, this), 
            this._map.on("focus", this._addHooks, this).on("blur", this._removeHooks, this);
        },
        removeHooks: function() {
            this._removeHooks();
            var t = this._map._container;
            o.DomEvent.off(t, "focus", this._onFocus, this).off(t, "blur", this._onBlur, this).off(t, "mousedown", this._onMouseDown, this), 
            this._map.off("focus", this._addHooks, this).off("blur", this._removeHooks, this);
        },
        _onMouseDown: function() {
            if (!this._focused) {
                var i = e.body, n = e.documentElement, o = i.scrollTop || n.scrollTop, s = i.scrollLeft || n.scrollLeft;
                this._map._container.focus(), t.scrollTo(s, o);
            }
        },
        _onFocus: function() {
            this._focused = !0, this._map.fire("focus");
        },
        _onBlur: function() {
            this._focused = !1, this._map.fire("blur");
        },
        _setPanOffset: function(t) {
            var e, i, n = this._panKeys = {}, o = this.keyCodes;
            for (e = 0, i = o.left.length; i > e; e++) n[o.left[e]] = [ -1 * t, 0 ];
            for (e = 0, i = o.right.length; i > e; e++) n[o.right[e]] = [ t, 0 ];
            for (e = 0, i = o.down.length; i > e; e++) n[o.down[e]] = [ 0, t ];
            for (e = 0, i = o.up.length; i > e; e++) n[o.up[e]] = [ 0, -1 * t ];
        },
        _setZoomOffset: function(t) {
            var e, i, n = this._zoomKeys = {}, o = this.keyCodes;
            for (e = 0, i = o.zoomIn.length; i > e; e++) n[o.zoomIn[e]] = t;
            for (e = 0, i = o.zoomOut.length; i > e; e++) n[o.zoomOut[e]] = -t;
        },
        _addHooks: function() {
            o.DomEvent.on(e, "keydown", this._onKeyDown, this);
        },
        _removeHooks: function() {
            o.DomEvent.off(e, "keydown", this._onKeyDown, this);
        },
        _onKeyDown: function(t) {
            var e = t.keyCode, i = this._map;
            if (e in this._panKeys) {
                if (i._panAnim && i._panAnim._inProgress) return;
                i.panBy(this._panKeys[e]), i.options.maxBounds && i.panInsideBounds(i.options.maxBounds);
            } else {
                if (!(e in this._zoomKeys)) return;
                i.setZoom(i.getZoom() + this._zoomKeys[e]);
            }
            o.DomEvent.stop(t);
        }
    }), o.Map.addInitHook("addHandler", "keyboard", o.Map.Keyboard), o.Handler.MarkerDrag = o.Handler.extend({
        initialize: function(t) {
            this._marker = t;
        },
        addHooks: function() {
            var t = this._marker._icon;
            this._draggable || (this._draggable = new o.Draggable(t, t)), this._draggable.on("dragstart", this._onDragStart, this).on("drag", this._onDrag, this).on("dragend", this._onDragEnd, this), 
            this._draggable.enable();
        },
        removeHooks: function() {
            this._draggable.off("dragstart", this._onDragStart, this).off("drag", this._onDrag, this).off("dragend", this._onDragEnd, this), 
            this._draggable.disable();
        },
        moved: function() {
            return this._draggable && this._draggable._moved;
        },
        _onDragStart: function() {
            this._marker.closePopup().fire("movestart").fire("dragstart");
        },
        _onDrag: function() {
            var t = this._marker, e = t._shadow, i = o.DomUtil.getPosition(t._icon), n = t._map.layerPointToLatLng(i);
            e && o.DomUtil.setPosition(e, i), t._latlng = n, t.fire("move", {
                latlng: n
            }).fire("drag");
        },
        _onDragEnd: function() {
            this._marker.fire("moveend").fire("dragend");
        }
    }), o.Control = o.Class.extend({
        options: {
            position: "topright"
        },
        initialize: function(t) {
            o.setOptions(this, t);
        },
        getPosition: function() {
            return this.options.position;
        },
        setPosition: function(t) {
            var e = this._map;
            return e && e.removeControl(this), this.options.position = t, e && e.addControl(this), 
            this;
        },
        getContainer: function() {
            return this._container;
        },
        addTo: function(t) {
            this._map = t;
            var e = this._container = this.onAdd(t), i = this.getPosition(), n = t._controlCorners[i];
            return o.DomUtil.addClass(e, "leaflet-control"), -1 !== i.indexOf("bottom") ? n.insertBefore(e, n.firstChild) : n.appendChild(e), 
            this;
        },
        removeFrom: function(t) {
            var e = this.getPosition(), i = t._controlCorners[e];
            return i.removeChild(this._container), this._map = null, this.onRemove && this.onRemove(t), 
            this;
        }
    }), o.control = function(t) {
        return new o.Control(t);
    }, o.Map.include({
        addControl: function(t) {
            return t.addTo(this), this;
        },
        removeControl: function(t) {
            return t.removeFrom(this), this;
        },
        _initControlPos: function() {
            function t(t, s) {
                var a = i + t + " " + i + s;
                e[t + s] = o.DomUtil.create("div", a, n);
            }
            var e = this._controlCorners = {}, i = "leaflet-", n = this._controlContainer = o.DomUtil.create("div", i + "control-container", this._container);
            t("top", "left"), t("top", "right"), t("bottom", "left"), t("bottom", "right");
        },
        _clearControlPos: function() {
            this._container.removeChild(this._controlContainer);
        }
    }), o.Control.Zoom = o.Control.extend({
        options: {
            position: "topleft"
        },
        onAdd: function(t) {
            var e = "leaflet-control-zoom", i = o.DomUtil.create("div", e + " leaflet-bar");
            return this._map = t, this._zoomInButton = this._createButton("+", "Zoom in", e + "-in", i, this._zoomIn, this), 
            this._zoomOutButton = this._createButton("-", "Zoom out", e + "-out", i, this._zoomOut, this), 
            t.on("zoomend zoomlevelschange", this._updateDisabled, this), i;
        },
        onRemove: function(t) {
            t.off("zoomend zoomlevelschange", this._updateDisabled, this);
        },
        _zoomIn: function(t) {
            this._map.zoomIn(t.shiftKey ? 3 : 1);
        },
        _zoomOut: function(t) {
            this._map.zoomOut(t.shiftKey ? 3 : 1);
        },
        _createButton: function(t, e, i, n, s, a) {
            var r = o.DomUtil.create("a", i, n);
            r.innerHTML = t, r.href = "#", r.title = e;
            var h = o.DomEvent.stopPropagation;
            return o.DomEvent.on(r, "click", h).on(r, "mousedown", h).on(r, "dblclick", h).on(r, "click", o.DomEvent.preventDefault).on(r, "click", s, a), 
            r;
        },
        _updateDisabled: function() {
            var t = this._map, e = "leaflet-disabled";
            o.DomUtil.removeClass(this._zoomInButton, e), o.DomUtil.removeClass(this._zoomOutButton, e), 
            t._zoom === t.getMinZoom() && o.DomUtil.addClass(this._zoomOutButton, e), t._zoom === t.getMaxZoom() && o.DomUtil.addClass(this._zoomInButton, e);
        }
    }), o.Map.mergeOptions({
        zoomControl: !0
    }), o.Map.addInitHook(function() {
        this.options.zoomControl && (this.zoomControl = new o.Control.Zoom(), this.addControl(this.zoomControl));
    }), o.control.zoom = function(t) {
        return new o.Control.Zoom(t);
    }, o.Control.Attribution = o.Control.extend({
        options: {
            position: "bottomright",
            prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
        },
        initialize: function(t) {
            o.setOptions(this, t), this._attributions = {};
        },
        onAdd: function(t) {
            return this._container = o.DomUtil.create("div", "leaflet-control-attribution"), 
            o.DomEvent.disableClickPropagation(this._container), t.on("layeradd", this._onLayerAdd, this).on("layerremove", this._onLayerRemove, this), 
            this._update(), this._container;
        },
        onRemove: function(t) {
            t.off("layeradd", this._onLayerAdd).off("layerremove", this._onLayerRemove);
        },
        setPrefix: function(t) {
            return this.options.prefix = t, this._update(), this;
        },
        addAttribution: function(t) {
            return t ? (this._attributions[t] || (this._attributions[t] = 0), this._attributions[t]++, 
            this._update(), this) : void 0;
        },
        removeAttribution: function(t) {
            return t ? (this._attributions[t] && (this._attributions[t]--, this._update()), 
            this) : void 0;
        },
        _update: function() {
            if (this._map) {
                var t = [];
                for (var e in this._attributions) this._attributions[e] && t.push(e);
                var i = [];
                this.options.prefix && i.push(this.options.prefix), t.length && i.push(t.join(", ")), 
                this._container.innerHTML = i.join(" | ");
            }
        },
        _onLayerAdd: function(t) {
            t.layer.getAttribution && this.addAttribution(t.layer.getAttribution());
        },
        _onLayerRemove: function(t) {
            t.layer.getAttribution && this.removeAttribution(t.layer.getAttribution());
        }
    }), o.Map.mergeOptions({
        attributionControl: !0
    }), o.Map.addInitHook(function() {
        this.options.attributionControl && (this.attributionControl = new o.Control.Attribution().addTo(this));
    }), o.control.attribution = function(t) {
        return new o.Control.Attribution(t);
    }, o.Control.Scale = o.Control.extend({
        options: {
            position: "bottomleft",
            maxWidth: 100,
            metric: !0,
            imperial: !0,
            updateWhenIdle: !1
        },
        onAdd: function(t) {
            this._map = t;
            var e = "leaflet-control-scale", i = o.DomUtil.create("div", e), n = this.options;
            return this._addScales(n, e, i), t.on(n.updateWhenIdle ? "moveend" : "move", this._update, this), 
            t.whenReady(this._update, this), i;
        },
        onRemove: function(t) {
            t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
        },
        _addScales: function(t, e, i) {
            t.metric && (this._mScale = o.DomUtil.create("div", e + "-line", i)), t.imperial && (this._iScale = o.DomUtil.create("div", e + "-line", i));
        },
        _update: function() {
            var t = this._map.getBounds(), e = t.getCenter().lat, i = 6378137 * Math.PI * Math.cos(e * Math.PI / 180), n = i * (t.getNorthEast().lng - t.getSouthWest().lng) / 180, o = this._map.getSize(), s = this.options, a = 0;
            o.x > 0 && (a = n * (s.maxWidth / o.x)), this._updateScales(s, a);
        },
        _updateScales: function(t, e) {
            t.metric && e && this._updateMetric(e), t.imperial && e && this._updateImperial(e);
        },
        _updateMetric: function(t) {
            var e = this._getRoundNum(t);
            this._mScale.style.width = this._getScaleWidth(e / t) + "px", this._mScale.innerHTML = 1e3 > e ? e + " m" : e / 1e3 + " km";
        },
        _updateImperial: function(t) {
            var e, i, n, o = 3.2808399 * t, s = this._iScale;
            o > 5280 ? (e = o / 5280, i = this._getRoundNum(e), s.style.width = this._getScaleWidth(i / e) + "px", 
            s.innerHTML = i + " mi") : (n = this._getRoundNum(o), s.style.width = this._getScaleWidth(n / o) + "px", 
            s.innerHTML = n + " ft");
        },
        _getScaleWidth: function(t) {
            return Math.round(this.options.maxWidth * t) - 10;
        },
        _getRoundNum: function(t) {
            var e = Math.pow(10, (Math.floor(t) + "").length - 1), i = t / e;
            return i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1, e * i;
        }
    }), o.control.scale = function(t) {
        return new o.Control.Scale(t);
    }, o.Control.Layers = o.Control.extend({
        options: {
            collapsed: !0,
            position: "topright",
            autoZIndex: !0
        },
        initialize: function(t, e, i) {
            o.setOptions(this, i), this._layers = {}, this._lastZIndex = 0, this._handlingClick = !1;
            for (var n in t) this._addLayer(t[n], n);
            for (n in e) this._addLayer(e[n], n, !0);
        },
        onAdd: function(t) {
            return this._initLayout(), this._update(), t.on("layeradd", this._onLayerChange, this).on("layerremove", this._onLayerChange, this), 
            this._container;
        },
        onRemove: function(t) {
            t.off("layeradd", this._onLayerChange).off("layerremove", this._onLayerChange);
        },
        addBaseLayer: function(t, e) {
            return this._addLayer(t, e), this._update(), this;
        },
        addOverlay: function(t, e) {
            return this._addLayer(t, e, !0), this._update(), this;
        },
        removeLayer: function(t) {
            var e = o.stamp(t);
            return delete this._layers[e], this._update(), this;
        },
        _initLayout: function() {
            var t = "leaflet-control-layers", e = this._container = o.DomUtil.create("div", t);
            e.setAttribute("aria-haspopup", !0), o.Browser.touch ? o.DomEvent.on(e, "click", o.DomEvent.stopPropagation) : (o.DomEvent.disableClickPropagation(e), 
            o.DomEvent.on(e, "mousewheel", o.DomEvent.stopPropagation));
            var i = this._form = o.DomUtil.create("form", t + "-list");
            if (this.options.collapsed) {
                o.Browser.android || o.DomEvent.on(e, "mouseover", this._expand, this).on(e, "mouseout", this._collapse, this);
                var n = this._layersLink = o.DomUtil.create("a", t + "-toggle", e);
                n.href = "#", n.title = "Layers", o.Browser.touch ? o.DomEvent.on(n, "click", o.DomEvent.stop).on(n, "click", this._expand, this) : o.DomEvent.on(n, "focus", this._expand, this), 
                this._map.on("click", this._collapse, this);
            } else this._expand();
            this._baseLayersList = o.DomUtil.create("div", t + "-base", i), this._separator = o.DomUtil.create("div", t + "-separator", i), 
            this._overlaysList = o.DomUtil.create("div", t + "-overlays", i), e.appendChild(i);
        },
        _addLayer: function(t, e, i) {
            var n = o.stamp(t);
            this._layers[n] = {
                layer: t,
                name: e,
                overlay: i
            }, this.options.autoZIndex && t.setZIndex && (this._lastZIndex++, t.setZIndex(this._lastZIndex));
        },
        _update: function() {
            if (this._container) {
                this._baseLayersList.innerHTML = "", this._overlaysList.innerHTML = "";
                var t, e, i = !1, n = !1;
                for (t in this._layers) e = this._layers[t], this._addItem(e), n = n || e.overlay, 
                i = i || !e.overlay;
                this._separator.style.display = n && i ? "" : "none";
            }
        },
        _onLayerChange: function(t) {
            var e = this._layers[o.stamp(t.layer)];
            if (e) {
                this._handlingClick || this._update();
                var i = e.overlay ? "layeradd" === t.type ? "overlayadd" : "overlayremove" : "layeradd" === t.type ? "baselayerchange" : null;
                i && this._map.fire(i, e);
            }
        },
        _createRadioElement: function(t, i) {
            var n = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"';
            i && (n += ' checked="checked"'), n += "/>";
            var o = e.createElement("div");
            return o.innerHTML = n, o.firstChild;
        },
        _addItem: function(t) {
            var i, n = e.createElement("label"), s = this._map.hasLayer(t.layer);
            t.overlay ? (i = e.createElement("input"), i.type = "checkbox", i.className = "leaflet-control-layers-selector", 
            i.defaultChecked = s) : i = this._createRadioElement("leaflet-base-layers", s), 
            i.layerId = o.stamp(t.layer), o.DomEvent.on(i, "click", this._onInputClick, this);
            var a = e.createElement("span");
            a.innerHTML = " " + t.name, n.appendChild(i), n.appendChild(a);
            var r = t.overlay ? this._overlaysList : this._baseLayersList;
            return r.appendChild(n), n;
        },
        _onInputClick: function() {
            var t, e, i, n = this._form.getElementsByTagName("input"), o = n.length;
            for (this._handlingClick = !0, t = 0; o > t; t++) e = n[t], i = this._layers[e.layerId], 
            e.checked && !this._map.hasLayer(i.layer) ? this._map.addLayer(i.layer) : !e.checked && this._map.hasLayer(i.layer) && this._map.removeLayer(i.layer);
            this._handlingClick = !1;
        },
        _expand: function() {
            o.DomUtil.addClass(this._container, "leaflet-control-layers-expanded");
        },
        _collapse: function() {
            this._container.className = this._container.className.replace(" leaflet-control-layers-expanded", "");
        }
    }), o.control.layers = function(t, e, i) {
        return new o.Control.Layers(t, e, i);
    }, o.PosAnimation = o.Class.extend({
        includes: o.Mixin.Events,
        run: function(t, e, i, n) {
            this.stop(), this._el = t, this._inProgress = !0, this._newPos = e, this.fire("start"), 
            t.style[o.DomUtil.TRANSITION] = "all " + (i || .25) + "s cubic-bezier(0,0," + (n || .5) + ",1)", 
            o.DomEvent.on(t, o.DomUtil.TRANSITION_END, this._onTransitionEnd, this), o.DomUtil.setPosition(t, e), 
            o.Util.falseFn(t.offsetWidth), this._stepTimer = setInterval(o.bind(this._onStep, this), 50);
        },
        stop: function() {
            this._inProgress && (o.DomUtil.setPosition(this._el, this._getPos()), this._onTransitionEnd(), 
            o.Util.falseFn(this._el.offsetWidth));
        },
        _onStep: function() {
            var t = this._getPos();
            return t ? (this._el._leaflet_pos = t, this.fire("step"), void 0) : (this._onTransitionEnd(), 
            void 0);
        },
        _transformRe: /([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,
        _getPos: function() {
            var e, i, n, s = this._el, a = t.getComputedStyle(s);
            if (o.Browser.any3d) {
                if (n = a[o.DomUtil.TRANSFORM].match(this._transformRe), !n) return;
                e = parseFloat(n[1]), i = parseFloat(n[2]);
            } else e = parseFloat(a.left), i = parseFloat(a.top);
            return new o.Point(e, i, !0);
        },
        _onTransitionEnd: function() {
            o.DomEvent.off(this._el, o.DomUtil.TRANSITION_END, this._onTransitionEnd, this), 
            this._inProgress && (this._inProgress = !1, this._el.style[o.DomUtil.TRANSITION] = "", 
            this._el._leaflet_pos = this._newPos, clearInterval(this._stepTimer), this.fire("step").fire("end"));
        }
    }), o.Map.include({
        setView: function(t, e, n) {
            if (e = this._limitZoom(e), t = o.latLng(t), n = n || {}, this._panAnim && this._panAnim.stop(), 
            this._loaded && !n.reset && n !== !0) {
                n.animate !== i && (n.zoom = o.extend({
                    animate: n.animate
                }, n.zoom), n.pan = o.extend({
                    animate: n.animate
                }, n.pan));
                var s = this._zoom !== e ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, e, n.zoom) : this._tryAnimatedPan(t, n.pan);
                if (s) return clearTimeout(this._sizeTimer), this;
            }
            return this._resetView(t, e), this;
        },
        panBy: function(t, e) {
            if (t = o.point(t).round(), e = e || {}, !t.x && !t.y) return this;
            if (this._panAnim || (this._panAnim = new o.PosAnimation(), this._panAnim.on({
                step: this._onPanTransitionStep,
                end: this._onPanTransitionEnd
            }, this)), e.noMoveStart || this.fire("movestart"), e.animate !== !1) {
                o.DomUtil.addClass(this._mapPane, "leaflet-pan-anim");
                var i = this._getMapPanePos().subtract(t);
                this._panAnim.run(this._mapPane, i, e.duration || .25, e.easeLinearity);
            } else this._rawPanBy(t), this.fire("move").fire("moveend");
            return this;
        },
        _onPanTransitionStep: function() {
            this.fire("move");
        },
        _onPanTransitionEnd: function() {
            o.DomUtil.removeClass(this._mapPane, "leaflet-pan-anim"), this.fire("moveend");
        },
        _tryAnimatedPan: function(t, e) {
            var i = this._getCenterOffset(t)._floor();
            return (e && e.animate) === !0 || this.getSize().contains(i) ? (this.panBy(i, e), 
            !0) : !1;
        }
    }), o.PosAnimation = o.DomUtil.TRANSITION ? o.PosAnimation : o.PosAnimation.extend({
        run: function(t, e, i, n) {
            this.stop(), this._el = t, this._inProgress = !0, this._duration = i || .25, this._easeOutPower = 1 / Math.max(n || .5, .2), 
            this._startPos = o.DomUtil.getPosition(t), this._offset = e.subtract(this._startPos), 
            this._startTime = +new Date(), this.fire("start"), this._animate();
        },
        stop: function() {
            this._inProgress && (this._step(), this._complete());
        },
        _animate: function() {
            this._animId = o.Util.requestAnimFrame(this._animate, this), this._step();
        },
        _step: function() {
            var t = +new Date() - this._startTime, e = 1e3 * this._duration;
            e > t ? this._runFrame(this._easeOut(t / e)) : (this._runFrame(1), this._complete());
        },
        _runFrame: function(t) {
            var e = this._startPos.add(this._offset.multiplyBy(t));
            o.DomUtil.setPosition(this._el, e), this.fire("step");
        },
        _complete: function() {
            o.Util.cancelAnimFrame(this._animId), this._inProgress = !1, this.fire("end");
        },
        _easeOut: function(t) {
            return 1 - Math.pow(1 - t, this._easeOutPower);
        }
    }), o.Map.mergeOptions({
        zoomAnimation: !0,
        zoomAnimationThreshold: 4
    }), o.DomUtil.TRANSITION && o.Map.addInitHook(function() {
        this._zoomAnimated = this.options.zoomAnimation && o.DomUtil.TRANSITION && o.Browser.any3d && !o.Browser.android23 && !o.Browser.mobileOpera, 
        this._zoomAnimated && o.DomEvent.on(this._mapPane, o.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);
    }), o.Map.include(o.DomUtil.TRANSITION ? {
        _catchTransitionEnd: function() {
            this._animatingZoom && this._onZoomTransitionEnd();
        },
        _nothingToAnimate: function() {
            return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
        },
        _tryAnimatedZoom: function(t, e, i) {
            if (this._animatingZoom) return !0;
            if (i = i || {}, !this._zoomAnimated || i.animate === !1 || this._nothingToAnimate() || Math.abs(e - this._zoom) > this.options.zoomAnimationThreshold) return !1;
            var n = this.getZoomScale(e), o = this._getCenterOffset(t)._divideBy(1 - 1 / n), s = this._getCenterLayerPoint()._add(o);
            return i.animate === !0 || this.getSize().contains(o) ? (this.fire("movestart").fire("zoomstart"), 
            this._animateZoom(t, e, s, n, null, !0), !0) : !1;
        },
        _animateZoom: function(t, e, i, n, s, a) {
            this._animatingZoom = !0, o.DomUtil.addClass(this._mapPane, "leaflet-zoom-anim"), 
            this._animateToCenter = t, this._animateToZoom = e, o.Draggable && (o.Draggable._disabled = !0), 
            this.fire("zoomanim", {
                center: t,
                zoom: e,
                origin: i,
                scale: n,
                delta: s,
                backwards: a
            });
        },
        _onZoomTransitionEnd: function() {
            this._animatingZoom = !1, o.DomUtil.removeClass(this._mapPane, "leaflet-zoom-anim"), 
            this._resetView(this._animateToCenter, this._animateToZoom, !0, !0), o.Draggable && (o.Draggable._disabled = !1);
        }
    } : {}), o.TileLayer.include({
        _animateZoom: function(t) {
            this._animating || (this._animating = !0, this._prepareBgBuffer());
            var e = this._bgBuffer, i = o.DomUtil.TRANSFORM, n = t.delta ? o.DomUtil.getTranslateString(t.delta) : e.style[i], s = o.DomUtil.getScaleString(t.scale, t.origin);
            e.style[i] = t.backwards ? s + " " + n : n + " " + s;
        },
        _endZoomAnim: function() {
            var t = this._tileContainer, e = this._bgBuffer;
            t.style.visibility = "", t.parentNode.appendChild(t), o.Util.falseFn(e.offsetWidth), 
            this._animating = !1;
        },
        _clearBgBuffer: function() {
            var t = this._map;
            !t || t._animatingZoom || t.touchZoom._zooming || (this._bgBuffer.innerHTML = "", 
            this._bgBuffer.style[o.DomUtil.TRANSFORM] = "");
        },
        _prepareBgBuffer: function() {
            var t = this._tileContainer, e = this._bgBuffer, i = this._getLoadedTilesPercentage(e), n = this._getLoadedTilesPercentage(t);
            return e && i > .5 && .5 > n ? (t.style.visibility = "hidden", this._stopLoadingImages(t), 
            void 0) : (e.style.visibility = "hidden", e.style[o.DomUtil.TRANSFORM] = "", this._tileContainer = e, 
            e = this._bgBuffer = t, this._stopLoadingImages(e), clearTimeout(this._clearBgBufferTimer), 
            void 0);
        },
        _getLoadedTilesPercentage: function(t) {
            var e, i, n = t.getElementsByTagName("img"), o = 0;
            for (e = 0, i = n.length; i > e; e++) n[e].complete && o++;
            return o / i;
        },
        _stopLoadingImages: function(t) {
            var e, i, n, s = Array.prototype.slice.call(t.getElementsByTagName("img"));
            for (e = 0, i = s.length; i > e; e++) n = s[e], n.complete || (n.onload = o.Util.falseFn, 
            n.onerror = o.Util.falseFn, n.src = o.Util.emptyImageUrl, n.parentNode.removeChild(n));
        }
    }), o.Map.include({
        _defaultLocateOptions: {
            watch: !1,
            setView: !1,
            maxZoom: 1 / 0,
            timeout: 1e4,
            maximumAge: 0,
            enableHighAccuracy: !1
        },
        locate: function(t) {
            if (t = this._locateOptions = o.extend(this._defaultLocateOptions, t), !navigator.geolocation) return this._handleGeolocationError({
                code: 0,
                message: "Geolocation not supported."
            }), this;
            var e = o.bind(this._handleGeolocationResponse, this), i = o.bind(this._handleGeolocationError, this);
            return t.watch ? this._locationWatchId = navigator.geolocation.watchPosition(e, i, t) : navigator.geolocation.getCurrentPosition(e, i, t), 
            this;
        },
        stopLocate: function() {
            return navigator.geolocation && navigator.geolocation.clearWatch(this._locationWatchId), 
            this._locateOptions && (this._locateOptions.setView = !1), this;
        },
        _handleGeolocationError: function(t) {
            var e = t.code, i = t.message || (1 === e ? "permission denied" : 2 === e ? "position unavailable" : "timeout");
            this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", {
                code: e,
                message: "Geolocation error: " + i + "."
            });
        },
        _handleGeolocationResponse: function(t) {
            var e = t.coords.latitude, i = t.coords.longitude, n = new o.LatLng(e, i), s = 180 * t.coords.accuracy / 40075017, a = s / Math.cos(o.LatLng.DEG_TO_RAD * e), r = o.latLngBounds([ e - s, i - a ], [ e + s, i + a ]), h = this._locateOptions;
            if (h.setView) {
                var l = Math.min(this.getBoundsZoom(r), h.maxZoom);
                this.setView(n, l);
            }
            var u = {
                latlng: n,
                bounds: r
            };
            for (var c in t.coords) "number" == typeof t.coords[c] && (u[c] = t.coords[c]);
            this.fire("locationfound", u);
        }
    });
}(window, document), function(window, document) {
    L.MarkerClusterGroup = L.FeatureGroup.extend({
        options: {
            maxClusterRadius: 80,
            iconCreateFunction: null,
            spiderfyOnMaxZoom: !0,
            showCoverageOnHover: !0,
            zoomToBoundsOnClick: !0,
            singleMarkerMode: !1,
            disableClusteringAtZoom: null,
            removeOutsideVisibleBounds: !0,
            animateAddingMarkers: !1,
            spiderfyDistanceMultiplier: 1,
            polygonOptions: {}
        },
        initialize: function(options) {
            L.Util.setOptions(this, options), this.options.iconCreateFunction || (this.options.iconCreateFunction = this._defaultIconCreateFunction), 
            this._featureGroup = L.featureGroup(), this._featureGroup.on(L.FeatureGroup.EVENTS, this._propagateEvent, this), 
            this._nonPointGroup = L.featureGroup(), this._nonPointGroup.on(L.FeatureGroup.EVENTS, this._propagateEvent, this), 
            this._inZoomAnimation = 0, this._needsClustering = [], this._needsRemoving = [], 
            this._currentShownBounds = null;
        },
        addLayer: function(layer) {
            if (layer instanceof L.LayerGroup) {
                var array = [];
                for (var i in layer._layers) array.push(layer._layers[i]);
                return this.addLayers(array);
            }
            if (!layer.getLatLng) return this._nonPointGroup.addLayer(layer), this;
            if (!this._map) return this._needsClustering.push(layer), this;
            if (this.hasLayer(layer)) return this;
            this._unspiderfy && this._unspiderfy(), this._addLayer(layer, this._maxZoom);
            var visibleLayer = layer, currentZoom = this._map.getZoom();
            if (layer.__parent) for (;visibleLayer.__parent._zoom >= currentZoom; ) visibleLayer = visibleLayer.__parent;
            return this._currentShownBounds.contains(visibleLayer.getLatLng()) && (this.options.animateAddingMarkers ? this._animationAddLayer(layer, visibleLayer) : this._animationAddLayerNonAnimated(layer, visibleLayer)), 
            this;
        },
        removeLayer: function(layer) {
            return layer.getLatLng ? this._map ? layer.__parent ? (this._unspiderfy && (this._unspiderfy(), 
            this._unspiderfyLayer(layer)), this._removeLayer(layer, !0), this._featureGroup.hasLayer(layer) && (this._featureGroup.removeLayer(layer), 
            layer.setOpacity && layer.setOpacity(1)), this) : this : (!this._arraySplice(this._needsClustering, layer) && this.hasLayer(layer) && this._needsRemoving.push(layer), 
            this) : (this._nonPointGroup.removeLayer(layer), this);
        },
        addLayers: function(layersArray) {
            var i, l, m, onMap = this._map, fg = this._featureGroup, npg = this._nonPointGroup;
            for (i = 0, l = layersArray.length; l > i; i++) if (m = layersArray[i], m.getLatLng) {
                if (!this.hasLayer(m)) if (onMap) {
                    if (this._addLayer(m, this._maxZoom), m.__parent && 2 === m.__parent.getChildCount()) {
                        var markers = m.__parent.getAllChildMarkers(), otherMarker = markers[0] === m ? markers[1] : markers[0];
                        fg.removeLayer(otherMarker);
                    }
                } else this._needsClustering.push(m);
            } else npg.addLayer(m);
            return onMap && (fg.eachLayer(function(c) {
                c instanceof L.MarkerCluster && c._iconNeedsUpdate && c._updateIcon();
            }), this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds)), 
            this;
        },
        removeLayers: function(layersArray) {
            var i, l, m, fg = this._featureGroup, npg = this._nonPointGroup;
            if (!this._map) {
                for (i = 0, l = layersArray.length; l > i; i++) m = layersArray[i], this._arraySplice(this._needsClustering, m), 
                npg.removeLayer(m);
                return this;
            }
            for (i = 0, l = layersArray.length; l > i; i++) m = layersArray[i], m.__parent ? (this._removeLayer(m, !0, !0), 
            fg.hasLayer(m) && (fg.removeLayer(m), m.setOpacity && m.setOpacity(1))) : npg.removeLayer(m);
            return this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds), 
            fg.eachLayer(function(c) {
                c instanceof L.MarkerCluster && c._updateIcon();
            }), this;
        },
        clearLayers: function() {
            return this._map || (this._needsClustering = [], delete this._gridClusters, delete this._gridUnclustered), 
            this._noanimationUnspiderfy && this._noanimationUnspiderfy(), this._featureGroup.clearLayers(), 
            this._nonPointGroup.clearLayers(), this.eachLayer(function(marker) {
                delete marker.__parent;
            }), this._map && this._generateInitialClusters(), this;
        },
        getBounds: function() {
            var bounds = new L.LatLngBounds();
            if (this._topClusterLevel) bounds.extend(this._topClusterLevel._bounds); else for (var i = this._needsClustering.length - 1; i >= 0; i--) bounds.extend(this._needsClustering[i].getLatLng());
            var nonPointBounds = this._nonPointGroup.getBounds();
            return nonPointBounds.isValid() && bounds.extend(nonPointBounds), bounds;
        },
        eachLayer: function(method, context) {
            var i, markers = this._needsClustering.slice();
            for (this._topClusterLevel && this._topClusterLevel.getAllChildMarkers(markers), 
            i = markers.length - 1; i >= 0; i--) method.call(context, markers[i]);
            this._nonPointGroup.eachLayer(method, context);
        },
        hasLayer: function(layer) {
            if (!layer) return !1;
            var i, anArray = this._needsClustering;
            for (i = anArray.length - 1; i >= 0; i--) if (anArray[i] === layer) return !0;
            for (anArray = this._needsRemoving, i = anArray.length - 1; i >= 0; i--) if (anArray[i] === layer) return !1;
            return !(!layer.__parent || layer.__parent._group !== this) || this._nonPointGroup.hasLayer(layer);
        },
        zoomToShowLayer: function(layer, callback) {
            var showMarker = function() {
                if ((layer._icon || layer.__parent._icon) && !this._inZoomAnimation) if (this._map.off("moveend", showMarker, this), 
                this.off("animationend", showMarker, this), layer._icon) callback(); else if (layer.__parent._icon) {
                    var afterSpiderfy = function() {
                        this.off("spiderfied", afterSpiderfy, this), callback();
                    };
                    this.on("spiderfied", afterSpiderfy, this), layer.__parent.spiderfy();
                }
            };
            layer._icon ? callback() : layer.__parent._zoom < this._map.getZoom() ? (this._map.on("moveend", showMarker, this), 
            layer._icon || this._map.panTo(layer.getLatLng())) : (this._map.on("moveend", showMarker, this), 
            this.on("animationend", showMarker, this), this._map.setView(layer.getLatLng(), layer.__parent._zoom + 1), 
            layer.__parent.zoomToBounds());
        },
        onAdd: function(map) {
            this._map = map;
            var i, l, layer;
            if (!isFinite(this._map.getMaxZoom())) throw "Map has no maxZoom specified";
            for (this._featureGroup.onAdd(map), this._nonPointGroup.onAdd(map), this._gridClusters || this._generateInitialClusters(), 
            i = 0, l = this._needsRemoving.length; l > i; i++) layer = this._needsRemoving[i], 
            this._removeLayer(layer, !0);
            for (this._needsRemoving = [], i = 0, l = this._needsClustering.length; l > i; i++) layer = this._needsClustering[i], 
            layer.getLatLng ? layer.__parent || this._addLayer(layer, this._maxZoom) : this._featureGroup.addLayer(layer);
            this._needsClustering = [], this._map.on("zoomend", this._zoomEnd, this), this._map.on("moveend", this._moveEnd, this), 
            this._spiderfierOnAdd && this._spiderfierOnAdd(), this._bindEvents(), this._zoom = this._map.getZoom(), 
            this._currentShownBounds = this._getExpandedVisibleBounds(), this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);
        },
        onRemove: function(map) {
            map.off("zoomend", this._zoomEnd, this), map.off("moveend", this._moveEnd, this), 
            this._unbindEvents(), this._map._mapPane.className = this._map._mapPane.className.replace(" leaflet-cluster-anim", ""), 
            this._spiderfierOnRemove && this._spiderfierOnRemove(), this._featureGroup.onRemove(map), 
            this._nonPointGroup.onRemove(map), this._featureGroup.clearLayers(), this._map = null;
        },
        getVisibleParent: function(marker) {
            for (var vMarker = marker; null !== vMarker && !vMarker._icon; ) vMarker = vMarker.__parent;
            return vMarker;
        },
        _arraySplice: function(anArray, obj) {
            for (var i = anArray.length - 1; i >= 0; i--) if (anArray[i] === obj) return anArray.splice(i, 1), 
            !0;
        },
        _removeLayer: function(marker, removeFromDistanceGrid, dontUpdateMap) {
            var gridClusters = this._gridClusters, gridUnclustered = this._gridUnclustered, fg = this._featureGroup, map = this._map;
            if (removeFromDistanceGrid) for (var z = this._maxZoom; z >= 0 && gridUnclustered[z].removeObject(marker, map.project(marker.getLatLng(), z)); z--) ;
            var otherMarker, cluster = marker.__parent, markers = cluster._markers;
            for (this._arraySplice(markers, marker); cluster && (cluster._childCount--, !(cluster._zoom < 0)); ) removeFromDistanceGrid && cluster._childCount <= 1 ? (otherMarker = cluster._markers[0] === marker ? cluster._markers[1] : cluster._markers[0], 
            gridClusters[cluster._zoom].removeObject(cluster, map.project(cluster._cLatLng, cluster._zoom)), 
            gridUnclustered[cluster._zoom].addObject(otherMarker, map.project(otherMarker.getLatLng(), cluster._zoom)), 
            this._arraySplice(cluster.__parent._childClusters, cluster), cluster.__parent._markers.push(otherMarker), 
            otherMarker.__parent = cluster.__parent, cluster._icon && (fg.removeLayer(cluster), 
            dontUpdateMap || fg.addLayer(otherMarker))) : (cluster._recalculateBounds(), dontUpdateMap && cluster._icon || cluster._updateIcon()), 
            cluster = cluster.__parent;
            delete marker.__parent;
        },
        _propagateEvent: function(e) {
            e.layer instanceof L.MarkerCluster && (e.type = "cluster" + e.type), this.fire(e.type, e);
        },
        _defaultIconCreateFunction: function(cluster) {
            var childCount = cluster.getChildCount(), c = " marker-cluster-";
            return c += 10 > childCount ? "small" : 100 > childCount ? "medium" : "large", new L.DivIcon({
                html: "<div><span>" + childCount + "</span></div>",
                className: "marker-cluster" + c,
                iconSize: new L.Point(40, 40)
            });
        },
        _bindEvents: function() {
            var map = this._map, spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom, showCoverageOnHover = this.options.showCoverageOnHover, zoomToBoundsOnClick = this.options.zoomToBoundsOnClick;
            (spiderfyOnMaxZoom || zoomToBoundsOnClick) && this.on("clusterclick", this._zoomOrSpiderfy, this), 
            showCoverageOnHover && (this.on("clustermouseover", this._showCoverage, this), this.on("clustermouseout", this._hideCoverage, this), 
            map.on("zoomend", this._hideCoverage, this), map.on("layerremove", this._hideCoverageOnRemove, this));
        },
        _zoomOrSpiderfy: function(e) {
            var map = this._map;
            map.getMaxZoom() === map.getZoom() ? this.options.spiderfyOnMaxZoom && e.layer.spiderfy() : this.options.zoomToBoundsOnClick && e.layer.zoomToBounds();
        },
        _showCoverage: function(e) {
            var map = this._map;
            this._inZoomAnimation || (this._shownPolygon && map.removeLayer(this._shownPolygon), 
            e.layer.getChildCount() > 2 && e.layer !== this._spiderfied && (this._shownPolygon = new L.Polygon(e.layer.getConvexHull(), this.options.polygonOptions), 
            map.addLayer(this._shownPolygon)));
        },
        _hideCoverage: function() {
            this._shownPolygon && (this._map.removeLayer(this._shownPolygon), this._shownPolygon = null);
        },
        _hideCoverageOnRemove: function(e) {
            e.layer === this && this._hideCoverage();
        },
        _unbindEvents: function() {
            var spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom, showCoverageOnHover = this.options.showCoverageOnHover, zoomToBoundsOnClick = this.options.zoomToBoundsOnClick, map = this._map;
            (spiderfyOnMaxZoom || zoomToBoundsOnClick) && this.off("clusterclick", this._zoomOrSpiderfy, this), 
            showCoverageOnHover && (this.off("clustermouseover", this._showCoverage, this), 
            this.off("clustermouseout", this._hideCoverage, this), map.off("zoomend", this._hideCoverage, this), 
            map.off("layerremove", this._hideCoverageOnRemove, this));
        },
        _zoomEnd: function() {
            this._map && (this._mergeSplitClusters(), this._zoom = this._map._zoom, this._currentShownBounds = this._getExpandedVisibleBounds());
        },
        _moveEnd: function() {
            if (!this._inZoomAnimation) {
                var newBounds = this._getExpandedVisibleBounds();
                this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, this._zoom, newBounds), 
                this._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, newBounds), 
                this._currentShownBounds = newBounds;
            }
        },
        _generateInitialClusters: function() {
            var maxZoom = this._map.getMaxZoom(), radius = this.options.maxClusterRadius;
            this.options.disableClusteringAtZoom && (maxZoom = this.options.disableClusteringAtZoom - 1), 
            this._maxZoom = maxZoom, this._gridClusters = {}, this._gridUnclustered = {};
            for (var zoom = maxZoom; zoom >= 0; zoom--) this._gridClusters[zoom] = new L.DistanceGrid(radius), 
            this._gridUnclustered[zoom] = new L.DistanceGrid(radius);
            this._topClusterLevel = new L.MarkerCluster(this, -1);
        },
        _addLayer: function(layer, zoom) {
            var markerPoint, z, gridClusters = this._gridClusters, gridUnclustered = this._gridUnclustered;
            for (this.options.singleMarkerMode && (layer.options.icon = this.options.iconCreateFunction({
                getChildCount: function() {
                    return 1;
                },
                getAllChildMarkers: function() {
                    return [ layer ];
                }
            })); zoom >= 0; zoom--) {
                markerPoint = this._map.project(layer.getLatLng(), zoom);
                var closest = gridClusters[zoom].getNearObject(markerPoint);
                if (closest) return closest._addChild(layer), layer.__parent = closest, void 0;
                if (closest = gridUnclustered[zoom].getNearObject(markerPoint)) {
                    var parent = closest.__parent;
                    parent && this._removeLayer(closest, !1);
                    var newCluster = new L.MarkerCluster(this, zoom, closest, layer);
                    gridClusters[zoom].addObject(newCluster, this._map.project(newCluster._cLatLng, zoom)), 
                    closest.__parent = newCluster, layer.__parent = newCluster;
                    var lastParent = newCluster;
                    for (z = zoom - 1; z > parent._zoom; z--) lastParent = new L.MarkerCluster(this, z, lastParent), 
                    gridClusters[z].addObject(lastParent, this._map.project(closest.getLatLng(), z));
                    for (parent._addChild(lastParent), z = zoom; z >= 0 && gridUnclustered[z].removeObject(closest, this._map.project(closest.getLatLng(), z)); z--) ;
                    return;
                }
                gridUnclustered[zoom].addObject(layer, markerPoint);
            }
            this._topClusterLevel._addChild(layer), layer.__parent = this._topClusterLevel;
        },
        _mergeSplitClusters: function() {
            this._zoom < this._map._zoom ? (this._animationStart(), this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, this._zoom, this._getExpandedVisibleBounds()), 
            this._animationZoomIn(this._zoom, this._map._zoom)) : this._zoom > this._map._zoom ? (this._animationStart(), 
            this._animationZoomOut(this._zoom, this._map._zoom)) : this._moveEnd();
        },
        _getExpandedVisibleBounds: function() {
            if (!this.options.removeOutsideVisibleBounds) return this.getBounds();
            var map = this._map, bounds = map.getBounds(), sw = bounds._southWest, ne = bounds._northEast, latDiff = L.Browser.mobile ? 0 : Math.abs(sw.lat - ne.lat), lngDiff = L.Browser.mobile ? 0 : Math.abs(sw.lng - ne.lng);
            return new L.LatLngBounds(new L.LatLng(sw.lat - latDiff, sw.lng - lngDiff, !0), new L.LatLng(ne.lat + latDiff, ne.lng + lngDiff, !0));
        },
        _animationAddLayerNonAnimated: function(layer, newCluster) {
            if (newCluster === layer) this._featureGroup.addLayer(layer); else if (2 === newCluster._childCount) {
                newCluster._addToMap();
                var markers = newCluster.getAllChildMarkers();
                this._featureGroup.removeLayer(markers[0]), this._featureGroup.removeLayer(markers[1]);
            } else newCluster._updateIcon();
        }
    }), L.MarkerClusterGroup.include(L.DomUtil.TRANSITION ? {
        _animationStart: function() {
            this._map._mapPane.className += " leaflet-cluster-anim", this._inZoomAnimation++;
        },
        _animationEnd: function() {
            this._map && (this._map._mapPane.className = this._map._mapPane.className.replace(" leaflet-cluster-anim", "")), 
            this._inZoomAnimation--, this.fire("animationend");
        },
        _animationZoomIn: function(previousZoomLevel, newZoomLevel) {
            var i, me = this, bounds = this._getExpandedVisibleBounds(), fg = this._featureGroup;
            this._topClusterLevel._recursively(bounds, previousZoomLevel, 0, function(c) {
                var m, startPos = c._latlng, markers = c._markers;
                for (bounds.contains(startPos) || (startPos = null), c._isSingleParent() && previousZoomLevel + 1 === newZoomLevel ? (fg.removeLayer(c), 
                c._recursivelyAddChildrenToMap(null, newZoomLevel, bounds)) : (c.setOpacity(0), 
                c._recursivelyAddChildrenToMap(startPos, newZoomLevel, bounds)), i = markers.length - 1; i >= 0; i--) m = markers[i], 
                bounds.contains(m._latlng) || fg.removeLayer(m);
            }), this._forceLayout(), me._topClusterLevel._recursivelyBecomeVisible(bounds, newZoomLevel), 
            fg.eachLayer(function(n) {
                n instanceof L.MarkerCluster || !n._icon || n.setOpacity(1);
            }), me._topClusterLevel._recursively(bounds, previousZoomLevel, newZoomLevel, function(c) {
                c._recursivelyRestoreChildPositions(newZoomLevel);
            }), setTimeout(function() {
                me._topClusterLevel._recursively(bounds, previousZoomLevel, 0, function(c) {
                    fg.removeLayer(c), c.setOpacity(1);
                }), me._animationEnd();
            }, 200);
        },
        _animationZoomOut: function(previousZoomLevel, newZoomLevel) {
            this._animationZoomOutSingle(this._topClusterLevel, previousZoomLevel - 1, newZoomLevel), 
            this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds()), 
            this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel, this._getExpandedVisibleBounds());
        },
        _animationZoomOutSingle: function(cluster, previousZoomLevel, newZoomLevel) {
            var bounds = this._getExpandedVisibleBounds();
            cluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds, previousZoomLevel + 1, newZoomLevel);
            var me = this;
            this._forceLayout(), cluster._recursivelyBecomeVisible(bounds, newZoomLevel), setTimeout(function() {
                if (1 === cluster._childCount) {
                    var m = cluster._markers[0];
                    m.setLatLng(m.getLatLng()), m.setOpacity(1);
                } else cluster._recursively(bounds, newZoomLevel, 0, function(c) {
                    c._recursivelyRemoveChildrenFromMap(bounds, previousZoomLevel + 1);
                });
                me._animationEnd();
            }, 200);
        },
        _animationAddLayer: function(layer, newCluster) {
            var me = this, fg = this._featureGroup;
            fg.addLayer(layer), newCluster !== layer && (newCluster._childCount > 2 ? (newCluster._updateIcon(), 
            this._forceLayout(), this._animationStart(), layer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng())), 
            layer.setOpacity(0), setTimeout(function() {
                fg.removeLayer(layer), layer.setOpacity(1), me._animationEnd();
            }, 200)) : (this._forceLayout(), me._animationStart(), me._animationZoomOutSingle(newCluster, this._map.getMaxZoom(), this._map.getZoom())));
        },
        _forceLayout: function() {
            L.Util.falseFn(document.body.offsetWidth);
        }
    } : {
        _animationStart: function() {},
        _animationZoomIn: function(previousZoomLevel, newZoomLevel) {
            this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel), 
            this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());
        },
        _animationZoomOut: function(previousZoomLevel, newZoomLevel) {
            this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, previousZoomLevel), 
            this._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());
        },
        _animationAddLayer: function(layer, newCluster) {
            this._animationAddLayerNonAnimated(layer, newCluster);
        }
    }), L.markerClusterGroup = function(options) {
        return new L.MarkerClusterGroup(options);
    }, L.MarkerCluster = L.Marker.extend({
        initialize: function(group, zoom, a, b) {
            L.Marker.prototype.initialize.call(this, a ? a._cLatLng || a.getLatLng() : new L.LatLng(0, 0), {
                icon: this
            }), this._group = group, this._zoom = zoom, this._markers = [], this._childClusters = [], 
            this._childCount = 0, this._iconNeedsUpdate = !0, this._bounds = new L.LatLngBounds(), 
            a && this._addChild(a), b && this._addChild(b);
        },
        getAllChildMarkers: function(storageArray) {
            storageArray = storageArray || [];
            for (var i = this._childClusters.length - 1; i >= 0; i--) this._childClusters[i].getAllChildMarkers(storageArray);
            for (var j = this._markers.length - 1; j >= 0; j--) storageArray.push(this._markers[j]);
            return storageArray;
        },
        getChildCount: function() {
            return this._childCount;
        },
        zoomToBounds: function() {
            this._group._map.fitBounds(this._bounds);
        },
        getBounds: function() {
            var bounds = new L.LatLngBounds();
            return bounds.extend(this._bounds), bounds;
        },
        _updateIcon: function() {
            this._iconNeedsUpdate = !0, this._icon && this.setIcon(this);
        },
        createIcon: function() {
            return this._iconNeedsUpdate && (this._iconObj = this._group.options.iconCreateFunction(this), 
            this._iconNeedsUpdate = !1), this._iconObj.createIcon();
        },
        createShadow: function() {
            return this._iconObj.createShadow();
        },
        _addChild: function(new1, isNotificationFromChild) {
            this._iconNeedsUpdate = !0, this._expandBounds(new1), new1 instanceof L.MarkerCluster ? (isNotificationFromChild || (this._childClusters.push(new1), 
            new1.__parent = this), this._childCount += new1._childCount) : (isNotificationFromChild || this._markers.push(new1), 
            this._childCount++), this.__parent && this.__parent._addChild(new1, !0);
        },
        _expandBounds: function(marker) {
            var addedCount, addedLatLng = marker._wLatLng || marker._latlng;
            marker instanceof L.MarkerCluster ? (this._bounds.extend(marker._bounds), addedCount = marker._childCount) : (this._bounds.extend(addedLatLng), 
            addedCount = 1), this._cLatLng || (this._cLatLng = marker._cLatLng || addedLatLng);
            var totalCount = this._childCount + addedCount;
            this._wLatLng ? (this._wLatLng.lat = (addedLatLng.lat * addedCount + this._wLatLng.lat * this._childCount) / totalCount, 
            this._wLatLng.lng = (addedLatLng.lng * addedCount + this._wLatLng.lng * this._childCount) / totalCount) : this._latlng = this._wLatLng = new L.LatLng(addedLatLng.lat, addedLatLng.lng);
        },
        _addToMap: function(startPos) {
            startPos && (this._backupLatlng = this._latlng, this.setLatLng(startPos)), this._group._featureGroup.addLayer(this);
        },
        _recursivelyAnimateChildrenIn: function(bounds, center, maxZoom) {
            this._recursively(bounds, 0, maxZoom - 1, function(c) {
                var i, m, markers = c._markers;
                for (i = markers.length - 1; i >= 0; i--) m = markers[i], m._icon && (m._setPos(center), 
                m.setOpacity(0));
            }, function(c) {
                var j, cm, childClusters = c._childClusters;
                for (j = childClusters.length - 1; j >= 0; j--) cm = childClusters[j], cm._icon && (cm._setPos(center), 
                cm.setOpacity(0));
            });
        },
        _recursivelyAnimateChildrenInAndAddSelfToMap: function(bounds, previousZoomLevel, newZoomLevel) {
            this._recursively(bounds, newZoomLevel, 0, function(c) {
                c._recursivelyAnimateChildrenIn(bounds, c._group._map.latLngToLayerPoint(c.getLatLng()).round(), previousZoomLevel), 
                c._isSingleParent() && previousZoomLevel - 1 === newZoomLevel ? (c.setOpacity(1), 
                c._recursivelyRemoveChildrenFromMap(bounds, previousZoomLevel)) : c.setOpacity(0), 
                c._addToMap();
            });
        },
        _recursivelyBecomeVisible: function(bounds, zoomLevel) {
            this._recursively(bounds, 0, zoomLevel, null, function(c) {
                c.setOpacity(1);
            });
        },
        _recursivelyAddChildrenToMap: function(startPos, zoomLevel, bounds) {
            this._recursively(bounds, -1, zoomLevel, function(c) {
                if (zoomLevel !== c._zoom) for (var i = c._markers.length - 1; i >= 0; i--) {
                    var nm = c._markers[i];
                    bounds.contains(nm._latlng) && (startPos && (nm._backupLatlng = nm.getLatLng(), 
                    nm.setLatLng(startPos), nm.setOpacity && nm.setOpacity(0)), c._group._featureGroup.addLayer(nm));
                }
            }, function(c) {
                c._addToMap(startPos);
            });
        },
        _recursivelyRestoreChildPositions: function(zoomLevel) {
            for (var i = this._markers.length - 1; i >= 0; i--) {
                var nm = this._markers[i];
                nm._backupLatlng && (nm.setLatLng(nm._backupLatlng), delete nm._backupLatlng);
            }
            if (zoomLevel - 1 === this._zoom) for (var j = this._childClusters.length - 1; j >= 0; j--) this._childClusters[j]._restorePosition(); else for (var k = this._childClusters.length - 1; k >= 0; k--) this._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel);
        },
        _restorePosition: function() {
            this._backupLatlng && (this.setLatLng(this._backupLatlng), delete this._backupLatlng);
        },
        _recursivelyRemoveChildrenFromMap: function(previousBounds, zoomLevel, exceptBounds) {
            var m, i;
            this._recursively(previousBounds, -1, zoomLevel - 1, function(c) {
                for (i = c._markers.length - 1; i >= 0; i--) m = c._markers[i], exceptBounds && exceptBounds.contains(m._latlng) || (c._group._featureGroup.removeLayer(m), 
                m.setOpacity && m.setOpacity(1));
            }, function(c) {
                for (i = c._childClusters.length - 1; i >= 0; i--) m = c._childClusters[i], exceptBounds && exceptBounds.contains(m._latlng) || (c._group._featureGroup.removeLayer(m), 
                m.setOpacity && m.setOpacity(1));
            });
        },
        _recursively: function(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel) {
            var i, c, childClusters = this._childClusters, zoom = this._zoom;
            if (zoomLevelToStart > zoom) for (i = childClusters.length - 1; i >= 0; i--) c = childClusters[i], 
            boundsToApplyTo.intersects(c._bounds) && c._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel); else if (runAtEveryLevel && runAtEveryLevel(this), 
            runAtBottomLevel && this._zoom === zoomLevelToStop && runAtBottomLevel(this), zoomLevelToStop > zoom) for (i = childClusters.length - 1; i >= 0; i--) c = childClusters[i], 
            boundsToApplyTo.intersects(c._bounds) && c._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);
        },
        _recalculateBounds: function() {
            var i, markers = this._markers, childClusters = this._childClusters;
            for (this._bounds = new L.LatLngBounds(), delete this._wLatLng, i = markers.length - 1; i >= 0; i--) this._expandBounds(markers[i]);
            for (i = childClusters.length - 1; i >= 0; i--) this._expandBounds(childClusters[i]);
        },
        _isSingleParent: function() {
            return this._childClusters.length > 0 && this._childClusters[0]._childCount === this._childCount;
        }
    }), L.DistanceGrid = function(cellSize) {
        this._cellSize = cellSize, this._sqCellSize = cellSize * cellSize, this._grid = {}, 
        this._objectPoint = {};
    }, L.DistanceGrid.prototype = {
        addObject: function(obj, point) {
            var x = this._getCoord(point.x), y = this._getCoord(point.y), grid = this._grid, row = grid[y] = grid[y] || {}, cell = row[x] = row[x] || [], stamp = L.Util.stamp(obj);
            this._objectPoint[stamp] = point, cell.push(obj);
        },
        updateObject: function(obj, point) {
            this.removeObject(obj), this.addObject(obj, point);
        },
        removeObject: function(obj, point) {
            var i, len, x = this._getCoord(point.x), y = this._getCoord(point.y), grid = this._grid, row = grid[y] = grid[y] || {}, cell = row[x] = row[x] || [];
            for (delete this._objectPoint[L.Util.stamp(obj)], i = 0, len = cell.length; len > i; i++) if (cell[i] === obj) return cell.splice(i, 1), 
            1 === len && delete row[x], !0;
        },
        eachObject: function(fn, context) {
            var i, j, k, len, row, cell, removed, grid = this._grid;
            for (i in grid) {
                row = grid[i];
                for (j in row) for (cell = row[j], k = 0, len = cell.length; len > k; k++) removed = fn.call(context, cell[k]), 
                removed && (k--, len--);
            }
        },
        getNearObject: function(point) {
            var i, j, k, row, cell, len, obj, dist, x = this._getCoord(point.x), y = this._getCoord(point.y), objectPoint = this._objectPoint, closestDistSq = this._sqCellSize, closest = null;
            for (i = y - 1; y + 1 >= i; i++) if (row = this._grid[i]) for (j = x - 1; x + 1 >= j; j++) if (cell = row[j]) for (k = 0, 
            len = cell.length; len > k; k++) obj = cell[k], dist = this._sqDist(objectPoint[L.Util.stamp(obj)], point), 
            closestDistSq > dist && (closestDistSq = dist, closest = obj);
            return closest;
        },
        _getCoord: function(x) {
            return Math.floor(x / this._cellSize);
        },
        _sqDist: function(p, p2) {
            var dx = p2.x - p.x, dy = p2.y - p.y;
            return dx * dx + dy * dy;
        }
    }, function() {
        L.QuickHull = {
            getDistant: function(cpt, bl) {
                var vY = bl[1].lat - bl[0].lat, vX = bl[0].lng - bl[1].lng;
                return vX * (cpt.lat - bl[0].lat) + vY * (cpt.lng - bl[0].lng);
            },
            findMostDistantPointFromBaseLine: function(baseLine, latLngs) {
                var i, pt, d, maxD = 0, maxPt = null, newPoints = [];
                for (i = latLngs.length - 1; i >= 0; i--) pt = latLngs[i], d = this.getDistant(pt, baseLine), 
                d > 0 && (newPoints.push(pt), d > maxD && (maxD = d, maxPt = pt));
                return {
                    maxPoint: maxPt,
                    newPoints: newPoints
                };
            },
            buildConvexHull: function(baseLine, latLngs) {
                var convexHullBaseLines = [], t = this.findMostDistantPointFromBaseLine(baseLine, latLngs);
                return t.maxPoint ? (convexHullBaseLines = convexHullBaseLines.concat(this.buildConvexHull([ baseLine[0], t.maxPoint ], t.newPoints)), 
                convexHullBaseLines = convexHullBaseLines.concat(this.buildConvexHull([ t.maxPoint, baseLine[1] ], t.newPoints))) : [ baseLine ];
            },
            getConvexHull: function(latLngs) {
                var i, maxLat = !1, minLat = !1, maxPt = null, minPt = null;
                for (i = latLngs.length - 1; i >= 0; i--) {
                    var pt = latLngs[i];
                    (maxLat === !1 || pt.lat > maxLat) && (maxPt = pt, maxLat = pt.lat), (minLat === !1 || pt.lat < minLat) && (minPt = pt, 
                    minLat = pt.lat);
                }
                var ch = [].concat(this.buildConvexHull([ minPt, maxPt ], latLngs), this.buildConvexHull([ maxPt, minPt ], latLngs));
                return ch;
            }
        };
    }(), L.MarkerCluster.include({
        getConvexHull: function() {
            var hull, p, i, childMarkers = this.getAllChildMarkers(), points = [], hullLatLng = [];
            for (i = childMarkers.length - 1; i >= 0; i--) p = childMarkers[i].getLatLng(), 
            points.push(p);
            for (hull = L.QuickHull.getConvexHull(points), i = hull.length - 1; i >= 0; i--) hullLatLng.push(hull[i][0]);
            return hullLatLng;
        }
    }), L.MarkerCluster.include({
        _2PI: 2 * Math.PI,
        _circleFootSeparation: 25,
        _circleStartAngle: Math.PI / 6,
        _spiralFootSeparation: 28,
        _spiralLengthStart: 11,
        _spiralLengthFactor: 5,
        _circleSpiralSwitchover: 9,
        spiderfy: function() {
            if (this._group._spiderfied !== this && !this._group._inZoomAnimation) {
                var positions, childMarkers = this.getAllChildMarkers(), group = this._group, map = group._map, center = map.latLngToLayerPoint(this._latlng);
                this._group._unspiderfy(), this._group._spiderfied = this, childMarkers.length >= this._circleSpiralSwitchover ? positions = this._generatePointsSpiral(childMarkers.length, center) : (center.y += 10, 
                positions = this._generatePointsCircle(childMarkers.length, center)), this._animationSpiderfy(childMarkers, positions);
            }
        },
        unspiderfy: function(zoomDetails) {
            this._group._inZoomAnimation || (this._animationUnspiderfy(zoomDetails), this._group._spiderfied = null);
        },
        _generatePointsCircle: function(count, centerPt) {
            var i, angle, circumference = this._group.options.spiderfyDistanceMultiplier * this._circleFootSeparation * (2 + count), legLength = circumference / this._2PI, angleStep = this._2PI / count, res = [];
            for (res.length = count, i = count - 1; i >= 0; i--) angle = this._circleStartAngle + i * angleStep, 
            res[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();
            return res;
        },
        _generatePointsSpiral: function(count, centerPt) {
            var i, legLength = this._group.options.spiderfyDistanceMultiplier * this._spiralLengthStart, separation = this._group.options.spiderfyDistanceMultiplier * this._spiralFootSeparation, lengthFactor = this._group.options.spiderfyDistanceMultiplier * this._spiralLengthFactor, angle = 0, res = [];
            for (res.length = count, i = count - 1; i >= 0; i--) angle += separation / legLength + 5e-4 * i, 
            res[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round(), 
            legLength += this._2PI * lengthFactor / angle;
            return res;
        },
        _noanimationUnspiderfy: function() {
            var m, i, group = this._group, map = group._map, fg = group._featureGroup, childMarkers = this.getAllChildMarkers();
            for (this.setOpacity(1), i = childMarkers.length - 1; i >= 0; i--) m = childMarkers[i], 
            fg.removeLayer(m), m._preSpiderfyLatlng && (m.setLatLng(m._preSpiderfyLatlng), delete m._preSpiderfyLatlng), 
            m.setZIndexOffset && m.setZIndexOffset(0), m._spiderLeg && (map.removeLayer(m._spiderLeg), 
            delete m._spiderLeg);
        }
    }), L.MarkerCluster.include(L.DomUtil.TRANSITION ? {
        SVG_ANIMATION: function() {
            return document.createElementNS("http://www.w3.org/2000/svg", "animate").toString().indexOf("SVGAnimate") > -1;
        }(),
        _animationSpiderfy: function(childMarkers, positions) {
            var i, m, leg, newPos, me = this, group = this._group, map = group._map, fg = group._featureGroup, thisLayerPos = map.latLngToLayerPoint(this._latlng);
            for (i = childMarkers.length - 1; i >= 0; i--) m = childMarkers[i], m.setOpacity ? (m.setZIndexOffset(1e6), 
            m.setOpacity(0), fg.addLayer(m), m._setPos(thisLayerPos)) : fg.addLayer(m);
            group._forceLayout(), group._animationStart();
            var initialLegOpacity = L.Path.SVG ? 0 : .3, xmlns = L.Path.SVG_NS;
            for (i = childMarkers.length - 1; i >= 0; i--) if (newPos = map.layerPointToLatLng(positions[i]), 
            m = childMarkers[i], m._preSpiderfyLatlng = m._latlng, m.setLatLng(newPos), m.setOpacity && m.setOpacity(1), 
            leg = new L.Polyline([ me._latlng, newPos ], {
                weight: 1.5,
                color: "#222",
                opacity: initialLegOpacity
            }), map.addLayer(leg), m._spiderLeg = leg, L.Path.SVG && this.SVG_ANIMATION) {
                var length = leg._path.getTotalLength();
                leg._path.setAttribute("stroke-dasharray", length + "," + length);
                var anim = document.createElementNS(xmlns, "animate");
                anim.setAttribute("attributeName", "stroke-dashoffset"), anim.setAttribute("begin", "indefinite"), 
                anim.setAttribute("from", length), anim.setAttribute("to", 0), anim.setAttribute("dur", .25), 
                leg._path.appendChild(anim), anim.beginElement(), anim = document.createElementNS(xmlns, "animate"), 
                anim.setAttribute("attributeName", "stroke-opacity"), anim.setAttribute("attributeName", "stroke-opacity"), 
                anim.setAttribute("begin", "indefinite"), anim.setAttribute("from", 0), anim.setAttribute("to", .5), 
                anim.setAttribute("dur", .25), leg._path.appendChild(anim), anim.beginElement();
            }
            if (me.setOpacity(.3), L.Path.SVG) for (this._group._forceLayout(), i = childMarkers.length - 1; i >= 0; i--) m = childMarkers[i]._spiderLeg, 
            m.options.opacity = .5, m._path.setAttribute("stroke-opacity", .5);
            setTimeout(function() {
                group._animationEnd(), group.fire("spiderfied");
            }, 200);
        },
        _animationUnspiderfy: function(zoomDetails) {
            var m, i, a, group = this._group, map = group._map, fg = group._featureGroup, thisLayerPos = zoomDetails ? map._latLngToNewLayerPoint(this._latlng, zoomDetails.zoom, zoomDetails.center) : map.latLngToLayerPoint(this._latlng), childMarkers = this.getAllChildMarkers(), svg = L.Path.SVG && this.SVG_ANIMATION;
            for (group._animationStart(), this.setOpacity(1), i = childMarkers.length - 1; i >= 0; i--) m = childMarkers[i], 
            m._preSpiderfyLatlng && (m.setLatLng(m._preSpiderfyLatlng), delete m._preSpiderfyLatlng, 
            m.setOpacity ? (m._setPos(thisLayerPos), m.setOpacity(0)) : fg.removeLayer(m), svg && (a = m._spiderLeg._path.childNodes[0], 
            a.setAttribute("to", a.getAttribute("from")), a.setAttribute("from", 0), a.beginElement(), 
            a = m._spiderLeg._path.childNodes[1], a.setAttribute("from", .5), a.setAttribute("to", 0), 
            a.setAttribute("stroke-opacity", 0), a.beginElement(), m._spiderLeg._path.setAttribute("stroke-opacity", 0)));
            setTimeout(function() {
                var stillThereChildCount = 0;
                for (i = childMarkers.length - 1; i >= 0; i--) m = childMarkers[i], m._spiderLeg && stillThereChildCount++;
                for (i = childMarkers.length - 1; i >= 0; i--) m = childMarkers[i], m._spiderLeg && (m.setOpacity && (m.setOpacity(1), 
                m.setZIndexOffset(0)), stillThereChildCount > 1 && fg.removeLayer(m), map.removeLayer(m._spiderLeg), 
                delete m._spiderLeg);
                group._animationEnd();
            }, 200);
        }
    } : {
        _animationSpiderfy: function(childMarkers, positions) {
            var i, m, leg, newPos, group = this._group, map = group._map, fg = group._featureGroup;
            for (i = childMarkers.length - 1; i >= 0; i--) newPos = map.layerPointToLatLng(positions[i]), 
            m = childMarkers[i], m._preSpiderfyLatlng = m._latlng, m.setLatLng(newPos), m.setZIndexOffset && m.setZIndexOffset(1e6), 
            fg.addLayer(m), leg = new L.Polyline([ this._latlng, newPos ], {
                weight: 1.5,
                color: "#222"
            }), map.addLayer(leg), m._spiderLeg = leg;
            this.setOpacity(.3), group.fire("spiderfied");
        },
        _animationUnspiderfy: function() {
            this._noanimationUnspiderfy();
        }
    }), L.MarkerClusterGroup.include({
        _spiderfied: null,
        _spiderfierOnAdd: function() {
            this._map.on("click", this._unspiderfyWrapper, this), this._map.options.zoomAnimation ? this._map.on("zoomstart", this._unspiderfyZoomStart, this) : this._map.on("zoomend", this._unspiderfyWrapper, this), 
            L.Path.SVG && !L.Browser.touch && this._map._initPathRoot();
        },
        _spiderfierOnRemove: function() {
            this._map.off("click", this._unspiderfyWrapper, this), this._map.off("zoomstart", this._unspiderfyZoomStart, this), 
            this._map.off("zoomanim", this._unspiderfyZoomAnim, this), this._unspiderfy();
        },
        _unspiderfyZoomStart: function() {
            this._map && this._map.on("zoomanim", this._unspiderfyZoomAnim, this);
        },
        _unspiderfyZoomAnim: function(zoomDetails) {
            L.DomUtil.hasClass(this._map._mapPane, "leaflet-touching") || (this._map.off("zoomanim", this._unspiderfyZoomAnim, this), 
            this._unspiderfy(zoomDetails));
        },
        _unspiderfyWrapper: function() {
            this._unspiderfy();
        },
        _unspiderfy: function(zoomDetails) {
            this._spiderfied && this._spiderfied.unspiderfy(zoomDetails);
        },
        _noanimationUnspiderfy: function() {
            this._spiderfied && this._spiderfied._noanimationUnspiderfy();
        },
        _unspiderfyLayer: function(layer) {
            layer._spiderLeg && (this._featureGroup.removeLayer(layer), layer.setOpacity(1), 
            layer.setZIndexOffset(0), this._map.removeLayer(layer._spiderLeg), delete layer._spiderLeg);
        }
    });
}(window, document);

var cataCommon = {
    init: function() {
        this.handleHeader(), this.handleSocial(), $(document).on("click touchstart", "#overlay-close-button, .overlay-bg", function(event) {
            event.preventDefault(), $(".overlay").removeClass("show").addClass("hide");
        }), $("footer").waypoint(function(direction) {
            "down" === direction ? $(".floater.social").css({
                display: "none"
            }) : $(".floater.social").css({
                display: ""
            });
        }, {
            offset: $(window).height()
        });
    },
    getRootURL: function() {
        return -1 != window.location.href.indexOf(":8888") ? "http://llmac.local:8888/cata/" : "http://catapult.staging.wpengine.com/";
    },
    hideNews: function() {
        this.getDrawerDiv().removeClass("show peek hide").addClass("hide");
    },
    showNews: function() {
        this.getDrawerDiv().removeClass("hide peek show").addClass("show");
    },
    peekNews: function() {
        this.getDrawerDiv().removeClass("hide peek show").addClass("peek");
    },
    isHome: function() {
        var loc = "";
        return loc = -1 == window.location.href.indexOf("#") ? window.location.href : window.location.href.substring(0, window.location.href.indexOf("#")), 
        loc == cataCommon.getRootURL();
    },
    handleNav: function(target) {
        for (var scrollPositions = [ {
            section: "#projects",
            offset: 1054
        }, {
            section: "#team",
            offset: 1755
        }, {
            section: "#contact",
            offset: 2847
        }, {
            section: "#donate",
            offset: 3400
        } ], scrollTop = 0, i = scrollPositions.length - 1; i >= 0; i--) scrollPositions[i].section == target && (scrollTop = scrollPositions[i].offset);
        cataCommon.isHome() === !0 ? window.location.hash = target : window.location.href = cataCommon.getRootURL() + target, 
        $("html, body").animate({
            scrollTop: scrollTop
        }, 500);
    },
    loadJobs: function() {
        var jobs = new ParsePostType();
        jobs.init(getRootURL() + "?json=get_recent_posts&dev=1&post_type=job", function() {});
    },
    getDrawerDiv: function() {
        return $("#header-drawer");
    },
    handleHeader: function() {
        function _makeSmallLogo() {
            console.log("Making small logo"), $(".logo .logo--full").removeClass("show").addClass("hide"), 
            $(".logo .logo--partial").removeClass("hide").addClass("show");
        }
        function _makeBigLogo() {
            console.log("Making big logo"), $(".logo .logo--full").removeClass("hide").addClass("show"), 
            $(".logo .logo--partial").removeClass("show").addClass("hide");
        }
        var self = this;
        this.getDrawerDiv().on("webkitTransitionEnd transitionend", function() {}), $("#header-center-tag").click(function(event) {
            return event.preventDefault(), self.getDrawerDiv().hasClass("show") ? self.hideNews(self.getDrawerDiv()) : self.showNews(self.getDrawerDiv()), 
            !1;
        }), enquire.register("screen and (max-width: 720px)", {
            match: _makeSmallLogo,
            unmatch: _makeBigLogo
        }).register("screen and (min-width: 721px)", {
            match: _makeBigLogo,
            unmatch: _makeSmallLogo
        });
    },
    handleSocial: function() {
        $(".social .social-button").hover(function() {
            $(this).find("span").addClass("hover");
        }, function() {
            $(this).find("span").removeClass("hover");
        });
    }
};